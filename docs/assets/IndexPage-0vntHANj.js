import{r as E,a0 as fl,u as Jt,b as Ze,s as sl,w as we,o as ka,a as ct,g as $e,y as Al,l as Vl,a1 as Hl,p as qa,R as Pa,c as Ee,A as ea,a2 as nl,N as ta,C as la,f as C,a3 as aa,E as oa,a4 as na,F as sa,a5 as ia,O as ra,h as N,a6 as El,J as et,z as Ge,a7 as Il,a8 as ua,a9 as ca,aa as da,B as vl,ab as Ma,D as gl,ac as Ta,I as Aa,ad as Q,ae as Va,af as Ba,ag as za,ah as La,j as Ea,ai as Ia,x as Da,aj as Fa,ak as Nl,al as Oa,am as Ra,an as Qa,ao as Ha,n as Na,ap as Wa,aq as ja,ar as Ua,as as Ka,at as ma,au as Ga,av as Wl,aw as Kt,ax as Ja,ay as Ya,az as Xa,v as Lt,aA as Za,aB as ut,U as fa,aC as $a,aD as W,aE as eo,d as Bl,e as Et,k as to,M as lo,m as ao,aF as oo,aG as no,aH as so,V as va,_ as ga,X as b,aI as j,aJ as v,$ as a,Z as n,aK as x,aL as k,Y as K,aM as he,aN as se,aO as _e,aP as De,aQ as Me,aR as We,aS as It,aT as Fe,H as pt,aU as jl,aV as io,aW as ro,aX as uo,aY as bt,aZ as ql,a_ as co,a$ as mo}from"./index-C0u6t7SN.js";import{c as zl,n as Ul}from"./format-CFYi1h6W.js";const ha={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},fo={...ha,contextMenu:Boolean};function ya({showing:e,avoidEmit:l,configureAnchorEl:i}){const{props:t,proxy:d,emit:c}=$e(),o=E(null);let f=null;function h(p){return o.value===null?!1:p===void 0||p.touches===void 0||p.touches.length<=1}const T={};i===void 0&&(Object.assign(T,{hide(p){d.hide(p)},toggle(p){d.toggle(p),p.qAnchorHandled=!0},toggleKey(p){fl(p,13)===!0&&T.toggle(p)},contextClick(p){d.hide(p),Jt(p),Ze(()=>{d.show(p),p.qAnchorHandled=!0})},prevent:Jt,mobileTouch(p){if(T.mobileCleanup(p),h(p)!==!0)return;d.hide(p),o.value.classList.add("non-selectable");const z=p.target;sl(T,"anchor",[[z,"touchmove","mobileCleanup","passive"],[z,"touchend","mobileCleanup","passive"],[z,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,d.show(p),p.qAnchorHandled=!0},300)},mobileCleanup(p){o.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&p!==void 0&&zl()}}),i=function(p=t.contextMenu){if(t.noParentEvent===!0||o.value===null)return;let z;p===!0?d.$q.platform.is.mobile===!0?z=[[o.value,"touchstart","mobileTouch","passive"]]:z=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:z=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],sl(T,"anchor",z)});function y(){Al(T,"anchor")}function D(p){for(o.value=p;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;i()}function _(){if(t.target===!1||t.target===""||d.$el.parentNode===null)o.value=null;else if(t.target===!0)D(d.$el.parentNode);else{let p=t.target;if(typeof t.target=="string")try{p=document.querySelector(t.target)}catch{p=void 0}p!=null?(o.value=p.$el||p,i()):(o.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return we(()=>t.contextMenu,p=>{o.value!==null&&(y(),i(p))}),we(()=>t.target,()=>{o.value!==null&&y(),_()}),we(()=>t.noParentEvent,p=>{o.value!==null&&(p===!0?y():i())}),ka(()=>{_(),l!==!0&&t.modelValue===!0&&o.value===null&&c("update:modelValue",!1)}),ct(()=>{f!==null&&clearTimeout(f),y()}),{anchorEl:o,canShow:h,anchorEvents:T}}function pa(e,l){const i=E(null);let t;function d(f,h){const T=`${h!==void 0?"add":"remove"}EventListener`,y=h!==void 0?h:t;f!==window&&f[T]("scroll",y,Vl.passive),window[T]("scroll",y,Vl.passive),t=h}function c(){i.value!==null&&(d(i.value),i.value=null)}const o=we(()=>e.noParentEvent,()=>{i.value!==null&&(c(),l())});return ct(o),{localScrollTarget:i,unconfigureScrollTarget:c,changeScrollEvent:d}}const{notPassiveCapture:il}=Vl,St=[];function rl(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let i=Hl.length-1;for(;i>=0;){const t=Hl[i].$;if(t.type.name==="QTooltip"){i--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;i--}for(let t=St.length-1;t>=0;t--){const d=St[t];if((d.anchorEl.value===null||d.anchorEl.value.contains(l)===!1)&&(l===document.body||d.innerRef.value!==null&&d.innerRef.value.contains(l)===!1))e.qClickOutside=!0,d.onClickOutside(e);else return}}function ba(e){St.push(e),St.length===1&&(document.addEventListener("mousedown",rl,il),document.addEventListener("touchstart",rl,il))}function ul(e){const l=St.findIndex(i=>i===e);l!==-1&&(St.splice(l,1),St.length===0&&(document.removeEventListener("mousedown",rl,il),document.removeEventListener("touchstart",rl,il)))}let Kl,Gl;function cl(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function wa(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Ll={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Ll[`${e}#ltr`]=e,Ll[`${e}#rtl`]=e});function dl(e,l){const i=e.split(" ");return{vertical:i[0],horizontal:Ll[`${i[1]}#${l===!0?"rtl":"ltr"}`]}}function vo(e,l){let{top:i,left:t,right:d,bottom:c,width:o,height:f}=e.getBoundingClientRect();return l!==void 0&&(i-=l[1],t-=l[0],c+=l[1],d+=l[0],o+=l[0],f+=l[1]),{top:i,bottom:c,height:f,left:t,right:d,width:o,middle:t+(d-t)/2,center:i+(c-i)/2}}function go(e,l,i){let{top:t,left:d}=e.getBoundingClientRect();return t+=l.top,d+=l.left,i!==void 0&&(t+=i[1],d+=i[0]),{top:t,bottom:t+1,height:1,left:d,right:d+1,width:1,middle:d,center:t}}function ho(e,l){return{top:0,center:l/2,bottom:l,left:0,middle:e/2,right:e}}function Jl(e,l,i,t){return{top:e[i.vertical]-l[t.vertical],left:e[i.horizontal]-l[t.horizontal]}}function Dl(e,l=0){if(e.targetEl===null||e.anchorEl===null||l>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Dl(e,l+1)},10);return}const{targetEl:i,offset:t,anchorEl:d,anchorOrigin:c,selfOrigin:o,absoluteOffset:f,fit:h,cover:T,maxHeight:y,maxWidth:D}=e;if(qa.is.ios===!0&&window.visualViewport!==void 0){const $=document.body.style,{offsetLeft:ee,offsetTop:oe}=window.visualViewport;ee!==Kl&&($.setProperty("--q-pe-left",ee+"px"),Kl=ee),oe!==Gl&&($.setProperty("--q-pe-top",oe+"px"),Gl=oe)}const{scrollLeft:_,scrollTop:p}=i,z=f===void 0?vo(d,T===!0?[0,0]:t):go(d,f,t);Object.assign(i.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:D,maxHeight:y,visibility:"visible"});const{offsetWidth:O,offsetHeight:M}=i,{elWidth:H,elHeight:I}=h===!0||T===!0?{elWidth:Math.max(z.width,O),elHeight:T===!0?Math.max(z.height,M):M}:{elWidth:O,elHeight:M};let A={maxWidth:D,maxHeight:y};(h===!0||T===!0)&&(A.minWidth=z.width+"px",T===!0&&(A.minHeight=z.height+"px")),Object.assign(i.style,A);const U=ho(H,I);let Z=Jl(z,U,c,o);if(f===void 0||t===void 0)Pl(Z,z,U,c,o);else{const{top:$,left:ee}=Z;Pl(Z,z,U,c,o);let oe=!1;if(Z.top!==$){oe=!0;const ue=2*t[1];z.center=z.top-=ue,z.bottom-=ue+2}if(Z.left!==ee){oe=!0;const ue=2*t[0];z.middle=z.left-=ue,z.right-=ue+2}oe===!0&&(Z=Jl(z,U,c,o),Pl(Z,z,U,c,o))}A={top:Z.top+"px",left:Z.left+"px"},Z.maxHeight!==void 0&&(A.maxHeight=Z.maxHeight+"px",z.height>Z.maxHeight&&(A.minHeight=A.maxHeight)),Z.maxWidth!==void 0&&(A.maxWidth=Z.maxWidth+"px",z.width>Z.maxWidth&&(A.minWidth=A.maxWidth)),Object.assign(i.style,A),i.scrollTop!==p&&(i.scrollTop=p),i.scrollLeft!==_&&(i.scrollLeft=_)}function Pl(e,l,i,t,d){const c=i.bottom,o=i.right,f=Pa(),h=window.innerHeight-f,T=document.body.clientWidth;if(e.top<0||e.top+c>h)if(d.vertical==="center")e.top=l[t.vertical]>h/2?Math.max(0,h-c):0,e.maxHeight=Math.min(c,h);else if(l[t.vertical]>h/2){const y=Math.min(h,t.vertical==="center"?l.center:t.vertical===d.vertical?l.bottom:l.top);e.maxHeight=Math.min(c,y),e.top=Math.max(0,y-c)}else e.top=Math.max(0,t.vertical==="center"?l.center:t.vertical===d.vertical?l.top:l.bottom),e.maxHeight=Math.min(c,h-e.top);if(e.left<0||e.left+o>T)if(e.maxWidth=Math.min(o,T),d.horizontal==="middle")e.left=l[t.horizontal]>T/2?Math.max(0,T-o):0;else if(l[t.horizontal]>T/2){const y=Math.min(T,t.horizontal==="middle"?l.middle:t.horizontal===d.horizontal?l.right:l.left);e.maxWidth=Math.min(o,y),e.left=Math.max(0,y-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?l.middle:t.horizontal===d.horizontal?l.left:l.right),e.maxWidth=Math.min(o,T-e.left)}const ve=Ee({name:"QTooltip",inheritAttrs:!1,props:{...ha,...ea,...nl,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...nl.transitionShow,default:"jump-down"},transitionHide:{...nl.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:cl},self:{type:String,default:"top middle",validator:cl},offset:{type:Array,default:()=>[14,14],validator:wa},scrollTarget:ta,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...la],setup(e,{slots:l,emit:i,attrs:t}){let d,c;const o=$e(),{proxy:{$q:f}}=o,h=E(null),T=E(!1),y=C(()=>dl(e.anchor,f.lang.rtl)),D=C(()=>dl(e.self,f.lang.rtl)),_=C(()=>e.persistent!==!0),{registerTick:p,removeTick:z}=aa(),{registerTimeout:O}=oa(),{transitionProps:M,transitionStyle:H}=na(e),{localScrollTarget:I,changeScrollEvent:A,unconfigureScrollTarget:U}=pa(e,Pe),{anchorEl:Z,canShow:$,anchorEvents:ee}=ya({showing:T,configureAnchorEl:Te}),{show:oe,hide:ue}=sa({showing:T,canShow:$,handleShow:te,handleHide:ye,hideOnRouteChange:_,processOnMount:!0});Object.assign(ee,{delayShow:Re,delayHide:Ie});const{showPortal:qe,hidePortal:Ve,renderPortal:de}=ia(o,h,w,"tooltip");if(f.platform.is.mobile===!0){const F={anchorEl:Z,innerRef:h,onClickOutside(ae){return ue(ae),ae.target.classList.contains("q-dialog__backdrop")&&Ge(ae),!0}},le=C(()=>e.modelValue===null&&e.persistent!==!0&&T.value===!0);we(le,ae=>{(ae===!0?ba:ul)(F)}),ct(()=>{ul(F)})}function te(F){qe(),p(()=>{c=new MutationObserver(()=>fe()),c.observe(h.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),fe(),Pe()}),d===void 0&&(d=we(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,fe)),O(()=>{qe(!0),i("show",F)},e.transitionDuration)}function ye(F){z(),Ve(),me(),O(()=>{Ve(!0),i("hide",F)},e.transitionDuration)}function me(){c!==void 0&&(c.disconnect(),c=void 0),d!==void 0&&(d(),d=void 0),U(),Al(ee,"tooltipTemp")}function fe(){Dl({targetEl:h.value,offset:e.offset,anchorEl:Z.value,anchorOrigin:y.value,selfOrigin:D.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Re(F){if(f.platform.is.mobile===!0){zl(),document.body.classList.add("non-selectable");const le=Z.value,ae=["touchmove","touchcancel","touchend","click"].map(Y=>[le,Y,"delayHide","passiveCapture"]);sl(ee,"tooltipTemp",ae)}O(()=>{oe(F)},e.delay)}function Ie(F){f.platform.is.mobile===!0&&(Al(ee,"tooltipTemp"),zl(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),O(()=>{ue(F)},e.hideDelay)}function Te(){if(e.noParentEvent===!0||Z.value===null)return;const F=f.platform.is.mobile===!0?[[Z.value,"touchstart","delayShow","passive"]]:[[Z.value,"mouseenter","delayShow","passive"],[Z.value,"mouseleave","delayHide","passive"]];sl(ee,"anchor",F)}function Pe(){if(Z.value!==null||e.scrollTarget!==void 0){I.value=ra(Z.value,e.scrollTarget);const F=e.noParentEvent===!0?fe:ue;A(I.value,F)}}function g(){return T.value===!0?N("div",{...t,ref:h,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,H.value],role:"tooltip"},et(l.default)):null}function w(){return N(El,M.value,g)}return ct(me),Object.assign(o.proxy,{updatePosition:fe}),de}}),Ue=Ee({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:l}){const i=C(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>N("div",{class:i.value},et(l.default))}}),yo=Ee({name:"QField",inheritAttrs:!1,props:{...Il,tag:{type:String,default:"label"}},emits:ua,setup(){return ca(da({tagProp:!0}))}}),po={xs:8,sm:10,md:14,lg:20,xl:24},re=Ee({name:"QChip",props:{...vl,...Ma,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:i}){const{proxy:{$q:t}}=$e(),d=gl(e,t),c=Ta(e,po),o=C(()=>e.selected===!0||e.icon!==void 0),f=C(()=>e.selected===!0?e.iconSelected||t.iconSet.chip.selected:e.icon),h=C(()=>e.iconRemove||t.iconSet.chip.remove),T=C(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),y=C(()=>{const M=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(M?` text-${M} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(T.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(d.value===!0?" q-chip--dark q-dark":"")}),D=C(()=>{const M=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},H={...M,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||t.lang.label.remove};return{chip:M,remove:H}});function _(M){M.keyCode===13&&p(M)}function p(M){e.disable||(i("update:selected",!e.selected),i("click",M))}function z(M){(M.keyCode===void 0||M.keyCode===13)&&(Ge(M),e.disable===!1&&(i("update:modelValue",!1),i("remove")))}function O(){const M=[];T.value===!0&&M.push(N("div",{class:"q-focus-helper"})),o.value===!0&&M.push(N(Q,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const H=e.label!==void 0?[N("div",{class:"ellipsis"},[e.label])]:void 0;return M.push(N("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Va(l.default,H))),e.iconRight&&M.push(N(Q,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&M.push(N(Q,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...D.value.remove,onClick:z,onKeyup:z})),M}return()=>{if(e.modelValue===!1)return;const M={class:y.value,style:c.value};return T.value===!0&&Object.assign(M,D.value.chip,{onClick:p,onKeyup:_}),Aa("div",M,O(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Ba,e.ripple]])}}}),ke=Ee({name:"QItem",props:{...vl,...za,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:i}){const{proxy:{$q:t}}=$e(),d=gl(e,t),{hasLink:c,linkAttrs:o,linkClass:f,linkTag:h,navigateOnClick:T}=La(),y=E(null),D=E(null),_=C(()=>e.clickable===!0||c.value===!0||e.tag==="label"),p=C(()=>e.disable!==!0&&_.value===!0),z=C(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(d.value===!0?" q-item--dark":"")+(c.value===!0&&e.active===null?f.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(p.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),O=C(()=>e.insetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function M(A){p.value===!0&&(D.value!==null&&(A.qKeyEvent!==!0&&document.activeElement===y.value?D.value.focus():document.activeElement===D.value&&y.value.focus()),T(A))}function H(A){if(p.value===!0&&fl(A,[13,32])===!0){Ge(A),A.qKeyEvent=!0;const U=new MouseEvent("click",A);U.qKeyEvent=!0,y.value.dispatchEvent(U)}i("keyup",A)}function I(){const A=Ea(l.default,[]);return p.value===!0&&A.unshift(N("div",{class:"q-focus-helper",tabindex:-1,ref:D})),A}return()=>{const A={ref:y,class:z.value,style:O.value,role:"listitem",onClick:M,onKeyup:H};return p.value===!0?(A.tabindex=e.tabindex||"0",Object.assign(A,o.value)):_.value===!0&&(A["aria-disabled"]="true"),N(h.value,A,I())}}}),G=Ee({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const i=C(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>N("div",{class:i.value},et(l.default))}}),ge=Ee({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const i=C(()=>parseInt(e.lines,10)),t=C(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(i.value===1?" ellipsis":"")),d=C(()=>e.lines!==void 0&&i.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":i.value}:null);return()=>N("div",{style:d.value,class:t.value},et(l.default))}}),Sa=Ee({name:"QMenu",inheritAttrs:!1,props:{...fo,...ea,...vl,...nl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:cl},self:{type:String,validator:cl},offset:{type:Array,validator:wa},scrollTarget:ta,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...la,"click","escapeKey"],setup(e,{slots:l,emit:i,attrs:t}){let d=null,c,o,f;const h=$e(),{proxy:T}=h,{$q:y}=T,D=E(null),_=E(!1),p=C(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),z=gl(e,y),{registerTick:O,removeTick:M}=aa(),{registerTimeout:H}=oa(),{transitionProps:I,transitionStyle:A}=na(e),{localScrollTarget:U,changeScrollEvent:Z,unconfigureScrollTarget:$}=pa(e,F),{anchorEl:ee,canShow:oe}=ya({showing:_}),{hide:ue}=sa({showing:_,canShow:oe,handleShow:Pe,handleHide:g,hideOnRouteChange:p,processOnMount:!0}),{showPortal:qe,hidePortal:Ve,renderPortal:de}=ia(h,D,pe,"menu"),te={anchorEl:ee,innerRef:D,onClickOutside(P){if(e.persistent!==!0&&_.value===!0)return ue(P),(P.type==="touchstart"||P.target.classList.contains("q-dialog__backdrop"))&&Ge(P),!0}},ye=C(()=>dl(e.anchor||(e.cover===!0?"center middle":"bottom start"),y.lang.rtl)),me=C(()=>e.cover===!0?ye.value:dl(e.self||"top start",y.lang.rtl)),fe=C(()=>(e.square===!0?" q-menu--square":"")+(z.value===!0?" q-menu--dark q-dark":"")),Re=C(()=>e.autoClose===!0?{onClick:le}:{}),Ie=C(()=>_.value===!0&&e.persistent!==!0);we(Ie,P=>{P===!0?(Ra(Y),ba(te)):(Nl(Y),ul(te))});function Te(){Qa(()=>{let P=D.value;P&&P.contains(document.activeElement)!==!0&&(P=P.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||P.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||P.querySelector("[autofocus], [data-autofocus]")||P,P.focus({preventScroll:!0}))})}function Pe(P){if(d=e.noRefocus===!1?document.activeElement:null,Ia(ae),qe(),F(),c=void 0,P!==void 0&&(e.touchPosition||e.contextMenu)){const Se=Da(P);if(Se.left!==void 0){const{top:Qe,left:tt}=ee.value.getBoundingClientRect();c={left:Se.left-tt,top:Se.top-Qe}}}o===void 0&&(o=we(()=>y.screen.width+"|"+y.screen.height+"|"+e.self+"|"+e.anchor+"|"+y.lang.rtl,J)),e.noFocus!==!0&&document.activeElement.blur(),O(()=>{J(),e.noFocus!==!0&&Te()}),H(()=>{y.platform.is.ios===!0&&(f=e.autoClose,D.value.click()),J(),qe(!0),i("show",P)},e.transitionDuration)}function g(P){M(),Ve(),w(!0),d!==null&&(P===void 0||P.qClickOutside!==!0)&&(((P&&P.type.indexOf("key")===0?d.closest('[tabindex]:not([tabindex^="-"])'):void 0)||d).focus(),d=null),H(()=>{Ve(!0),i("hide",P)},e.transitionDuration)}function w(P){c=void 0,o!==void 0&&(o(),o=void 0),(P===!0||_.value===!0)&&(Fa(ae),$(),ul(te),Nl(Y)),P!==!0&&(d=null)}function F(){(ee.value!==null||e.scrollTarget!==void 0)&&(U.value=ra(ee.value,e.scrollTarget),Z(U.value,J))}function le(P){f!==!0?(Oa(T,P),i("click",P)):f=!1}function ae(P){Ie.value===!0&&e.noFocus!==!0&&Ha(D.value,P.target)!==!0&&Te()}function Y(P){i("escapeKey"),ue(P)}function J(){Dl({targetEl:D.value,offset:e.offset,anchorEl:ee.value,anchorOrigin:ye.value,selfOrigin:me.value,absoluteOffset:c,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function pe(){return N(El,I.value,()=>_.value===!0?N("div",{role:"menu",...t,ref:D,tabindex:-1,class:["q-menu q-position-engine scroll"+fe.value,t.class],style:[t.style,A.value],...Re.value},et(l.default)):null)}return ct(w),Object.assign(T,{focus:Te,updatePosition:J}),de}});let ml=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,ml=e.scrollLeft>=0,e.remove()}const je=1e3,bo=["start","center","end","start-force","center-force","end-force"],xa=Array.prototype.filter,wo=window.getComputedStyle(document.body).overflowAnchor===void 0?Na:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const i=e.children||[];xa.call(i,d=>d.dataset&&d.dataset.qVsAnchor!==void 0).forEach(d=>{delete d.dataset.qVsAnchor});const t=i[l];t&&t.dataset&&(t.dataset.qVsAnchor="")}))};function Dt(e,l){return e+l}function Ml(e,l,i,t,d,c,o,f){const h=e===window?document.scrollingElement||document.documentElement:e,T=d===!0?"offsetWidth":"offsetHeight",y={scrollStart:0,scrollViewSize:-o-f,scrollMaxSize:0,offsetStart:-o,offsetEnd:-f};if(d===!0?(e===window?(y.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,y.scrollViewSize+=document.documentElement.clientWidth):(y.scrollStart=h.scrollLeft,y.scrollViewSize+=h.clientWidth),y.scrollMaxSize=h.scrollWidth,c===!0&&(y.scrollStart=(ml===!0?y.scrollMaxSize-y.scrollViewSize:0)-y.scrollStart)):(e===window?(y.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,y.scrollViewSize+=document.documentElement.clientHeight):(y.scrollStart=h.scrollTop,y.scrollViewSize+=h.clientHeight),y.scrollMaxSize=h.scrollHeight),i!==null)for(let D=i.previousElementSibling;D!==null;D=D.previousElementSibling)D.classList.contains("q-virtual-scroll--skip")===!1&&(y.offsetStart+=D[T]);if(t!==null)for(let D=t.nextElementSibling;D!==null;D=D.nextElementSibling)D.classList.contains("q-virtual-scroll--skip")===!1&&(y.offsetEnd+=D[T]);if(l!==e){const D=h.getBoundingClientRect(),_=l.getBoundingClientRect();d===!0?(y.offsetStart+=_.left-D.left,y.offsetEnd-=_.width):(y.offsetStart+=_.top-D.top,y.offsetEnd-=_.height),e!==window&&(y.offsetStart+=y.scrollStart),y.offsetEnd+=y.scrollMaxSize-y.offsetStart}return y}function Yl(e,l,i,t){l==="end"&&(l=(e===window?document.body:e)[i===!0?"scrollWidth":"scrollHeight"]),e===window?i===!0?(t===!0&&(l=(ml===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):i===!0?(t===!0&&(l=(ml===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Gt(e,l,i,t){if(i>=t)return 0;const d=l.length,c=Math.floor(i/je),o=Math.floor((t-1)/je)+1;let f=e.slice(c,o).reduce(Dt,0);return i%je!==0&&(f-=l.slice(c*je,i).reduce(Dt,0)),t%je!==0&&t!==d&&(f-=l.slice(t,o*je).reduce(Dt,0)),f}const So={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Xl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...So};function xo({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:i,virtualScrollItemSizeComputed:t}){const d=$e(),{props:c,emit:o,proxy:f}=d,{$q:h}=f;let T,y,D,_=[],p;const z=E(0),O=E(0),M=E({}),H=E(null),I=E(null),A=E(null),U=E({from:0,to:0}),Z=C(()=>c.tableColspan!==void 0?c.tableColspan:100);t===void 0&&(t=C(()=>c.virtualScrollItemSize));const $=C(()=>t.value+";"+c.virtualScrollHorizontal),ee=C(()=>$.value+";"+c.virtualScrollSliceRatioBefore+";"+c.virtualScrollSliceRatioAfter);we(ee,()=>{fe()}),we($,oe);function oe(){me(y,!0)}function ue(g){me(g===void 0?y:g)}function qe(g,w){const F=l();if(F==null||F.nodeType===8)return;const le=Ml(F,i(),H.value,I.value,c.virtualScrollHorizontal,h.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd);D!==le.scrollViewSize&&fe(le.scrollViewSize),de(F,le,Math.min(e.value-1,Math.max(0,parseInt(g,10)||0)),0,bo.indexOf(w)!==-1?w:y!==-1&&g>y?"end":"start")}function Ve(){const g=l();if(g==null||g.nodeType===8)return;const w=Ml(g,i(),H.value,I.value,c.virtualScrollHorizontal,h.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd),F=e.value-1,le=w.scrollMaxSize-w.offsetStart-w.offsetEnd-O.value;if(T===w.scrollStart)return;if(w.scrollMaxSize<=0){de(g,w,0,0);return}D!==w.scrollViewSize&&fe(w.scrollViewSize),te(U.value.from);const ae=Math.floor(w.scrollMaxSize-Math.max(w.scrollViewSize,w.offsetEnd)-Math.min(p[F],w.scrollViewSize/2));if(ae>0&&Math.ceil(w.scrollStart)>=ae){de(g,w,F,w.scrollMaxSize-w.offsetEnd-_.reduce(Dt,0));return}let Y=0,J=w.scrollStart-w.offsetStart,pe=J;if(J<=le&&J+w.scrollViewSize>=z.value)J-=z.value,Y=U.value.from,pe=J;else for(let P=0;J>=_[P]&&Y<F;P++)J-=_[P],Y+=je;for(;J>0&&Y<F;)J-=p[Y],J>-w.scrollViewSize?(Y++,pe=J):pe=p[Y]+J;de(g,w,Y,pe)}function de(g,w,F,le,ae){const Y=typeof ae=="string"&&ae.indexOf("-force")!==-1,J=Y===!0?ae.replace("-force",""):ae,pe=J!==void 0?J:"start";let P=Math.max(0,F-M.value[pe]),Se=P+M.value.total;Se>e.value&&(Se=e.value,P=Math.max(0,Se-M.value.total)),T=w.scrollStart;const Qe=P!==U.value.from||Se!==U.value.to;if(Qe===!1&&J===void 0){Ie(F);return}const{activeElement:tt}=document,He=A.value;Qe===!0&&He!==null&&He!==tt&&He.contains(tt)===!0&&(He.addEventListener("focusout",ye),setTimeout(()=>{He!==null&&He.removeEventListener("focusout",ye)})),wo(He,F-P);const xt=J!==void 0?p.slice(P,F).reduce(Dt,0):0;if(Qe===!0){const Je=Se>=U.value.from&&P<=U.value.to?U.value.to:Se;U.value={from:P,to:Je},z.value=Gt(_,p,0,P),O.value=Gt(_,p,Se,e.value),requestAnimationFrame(()=>{U.value.to!==Se&&T===w.scrollStart&&(U.value={from:U.value.from,to:Se},O.value=Gt(_,p,Se,e.value))})}requestAnimationFrame(()=>{if(T!==w.scrollStart)return;Qe===!0&&te(P);const Je=p.slice(P,F).reduce(Dt,0),Ye=Je+w.offsetStart+z.value,Ct=Ye+p[F];let dt=Ye+le;if(J!==void 0){const Ft=Je-xt,mt=w.scrollStart+Ft;dt=Y!==!0&&mt<Ye&&Ct<mt+w.scrollViewSize?mt:J==="end"?Ct-w.scrollViewSize:Ye-(J==="start"?0:Math.round((w.scrollViewSize-p[F])/2))}T=dt,Yl(g,dt,c.virtualScrollHorizontal,h.lang.rtl),Ie(F)})}function te(g){const w=A.value;if(w){const F=xa.call(w.children,P=>P.classList&&P.classList.contains("q-virtual-scroll--skip")===!1),le=F.length,ae=c.virtualScrollHorizontal===!0?P=>P.getBoundingClientRect().width:P=>P.offsetHeight;let Y=g,J,pe;for(let P=0;P<le;){for(J=ae(F[P]),P++;P<le&&F[P].classList.contains("q-virtual-scroll--with-prev")===!0;)J+=ae(F[P]),P++;pe=J-p[Y],pe!==0&&(p[Y]+=pe,_[Math.floor(Y/je)]+=pe),Y++}}}function ye(){A.value!==null&&A.value!==void 0&&A.value.focus()}function me(g,w){const F=1*t.value;(w===!0||Array.isArray(p)===!1)&&(p=[]);const le=p.length;p.length=e.value;for(let Y=e.value-1;Y>=le;Y--)p[Y]=F;const ae=Math.floor((e.value-1)/je);_=[];for(let Y=0;Y<=ae;Y++){let J=0;const pe=Math.min((Y+1)*je,e.value);for(let P=Y*je;P<pe;P++)J+=p[P];_.push(J)}y=-1,T=void 0,z.value=Gt(_,p,0,U.value.from),O.value=Gt(_,p,U.value.to,e.value),g>=0?(te(U.value.from),Ze(()=>{qe(g)})):Te()}function fe(g){if(g===void 0&&typeof window<"u"){const J=l();J!=null&&J.nodeType!==8&&(g=Ml(J,i(),H.value,I.value,c.virtualScrollHorizontal,h.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd).scrollViewSize)}D=g;const w=parseFloat(c.virtualScrollSliceRatioBefore)||0,F=parseFloat(c.virtualScrollSliceRatioAfter)||0,le=1+w+F,ae=g===void 0||g<=0?1:Math.ceil(g/t.value),Y=Math.max(1,ae,Math.ceil((c.virtualScrollSliceSize>0?c.virtualScrollSliceSize:10)/le));M.value={total:Math.ceil(Y*le),start:Math.ceil(Y*w),center:Math.ceil(Y*(.5+w)),end:Math.ceil(Y*(1+w)),view:ae}}function Re(g,w){const F=c.virtualScrollHorizontal===!0?"width":"height",le={["--q-virtual-scroll-item-"+F]:t.value+"px"};return[g==="tbody"?N(g,{class:"q-virtual-scroll__padding",key:"before",ref:H},[N("tr",[N("td",{style:{[F]:`${z.value}px`,...le},colspan:Z.value})])]):N(g,{class:"q-virtual-scroll__padding",key:"before",ref:H,style:{[F]:`${z.value}px`,...le}}),N(g,{class:"q-virtual-scroll__content",key:"content",ref:A,tabindex:-1},w.flat()),g==="tbody"?N(g,{class:"q-virtual-scroll__padding",key:"after",ref:I},[N("tr",[N("td",{style:{[F]:`${O.value}px`,...le},colspan:Z.value})])]):N(g,{class:"q-virtual-scroll__padding",key:"after",ref:I,style:{[F]:`${O.value}px`,...le}})]}function Ie(g){y!==g&&(c.onVirtualScroll!==void 0&&o("virtualScroll",{index:g,from:U.value.from,to:U.value.to-1,direction:g<y?"decrease":"increase",ref:f}),y=g)}fe();const Te=Wa(Ve,h.platform.is.ios===!0?120:35);ja(()=>{fe()});let Pe=!1;return Ua(()=>{Pe=!0}),Ka(()=>{if(Pe!==!0)return;const g=l();T!==void 0&&g!==void 0&&g!==null&&g.nodeType!==8?Yl(g,T,c.virtualScrollHorizontal,h.lang.rtl):qe(y)}),ct(()=>{Te.cancel()}),Object.assign(f,{scrollTo:qe,reset:oe,refresh:ue}),{virtualScrollSliceRange:U,virtualScrollSliceSizeComputed:M,setVirtualScrollSize:fe,onVirtualScrollEvt:Te,localResetVirtualScroll:me,padVirtualScroll:Re,scrollTo:qe,reset:oe,refresh:ue}}const Zl=e=>["add","add-unique","toggle"].includes(e),Co=".*+?^${}()|[]\\",_o=Object.keys(Il);function Tl(e,l){if(typeof e=="function")return e;const i=e!==void 0?e:l;return t=>t!==null&&typeof t=="object"&&i in t?t[i]:t}const rt=Ee({name:"QSelect",inheritAttrs:!1,props:{...Xl,...ma,...Il,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Zl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Xl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...ua,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:i}){const{proxy:t}=$e(),{$q:d}=t,c=E(!1),o=E(!1),f=E(-1),h=E(""),T=E(!1),y=E(!1);let D=null,_=null,p,z,O,M=null,H,I,A,U;const Z=E(null),$=E(null),ee=E(null),oe=E(null),ue=E(null),qe=Ga(e),Ve=Xa(Zt),de=C(()=>e.options.length),te=C(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ye,virtualScrollSliceSizeComputed:me,localResetVirtualScroll:fe,padVirtualScroll:Re,onVirtualScrollEvt:Ie,scrollTo:Te,setVirtualScrollSize:Pe}=xo({virtualScrollLength:de,getVirtualScrollTarget:Xt,getVirtualScrollEl:Tt,virtualScrollItemSizeComputed:te}),g=da(),w=C(()=>{const s=e.mapOptions===!0&&e.multiple!==!0,V=e.modelValue!==void 0&&(e.modelValue!==null||s===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0){const B=e.mapOptions===!0&&p!==void 0?p:[],X=V.map(ce=>Pt(ce,B));return e.modelValue===null&&s===!0?X.filter(ce=>ce!==null):X}return V}),F=C(()=>{const s={};return _o.forEach(V=>{const B=e[V];B!==void 0&&(s[V]=B)}),s}),le=C(()=>e.optionsDark===null?g.isDark.value:e.optionsDark),ae=C(()=>Wl(w.value)),Y=C(()=>{let s="q-field__input q-placeholder col";return e.hideSelected===!0||w.value.length===0?[s,e.inputClass]:(s+=" q-field__input--padding",e.inputClass===void 0?s:[s,e.inputClass])}),J=C(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),pe=C(()=>de.value===0),P=C(()=>w.value.map(s=>Be.value(s)).join(", ")),Se=C(()=>e.displayValue!==void 0?e.displayValue:P.value),Qe=C(()=>e.optionsHtml===!0?()=>!0:s=>s!=null&&s.html===!0),tt=C(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||w.value.some(Qe.value))),He=C(()=>g.focused.value===!0?e.tabindex:-1),xt=C(()=>{const s={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":c.value===!0?"true":"false","aria-controls":`${g.targetUid.value}_lb`};return f.value>=0&&(s["aria-activedescendant"]=`${g.targetUid.value}_${f.value}`),s}),Je=C(()=>({id:`${g.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ye=C(()=>w.value.map((s,V)=>({index:V,opt:s,html:Qe.value(s),selected:!0,removeAtIndex:Yt,toggleOption:ze,tabindex:He.value}))),Ct=C(()=>{if(de.value===0)return[];const{from:s,to:V}=ye.value;return e.options.slice(s,V).map((B,X)=>{const ce=lt.value(B)===!0,ie=at(B)===!0,Ce=s+X,be={clickable:!0,active:ie,activeClass:mt.value,manualFocus:!0,focused:!1,disable:ce,tabindex:-1,dense:e.optionsDense,dark:le.value,role:"option","aria-selected":ie===!0?"true":"false",id:`${g.targetUid.value}_${Ce}`,onClick:()=>{ze(B)}};return ce!==!0&&(f.value===Ce&&(be.focused=!0),d.platform.is.desktop===!0&&(be.onMousemove=()=>{c.value===!0&&xe(Ce)})),{index:Ce,opt:B,html:Qe.value(B),label:Be.value(B),selected:be.active,focused:be.focused,toggleOption:ze,setOptionIndex:xe,itemProps:be}})}),dt=C(()=>e.dropdownIcon!==void 0?e.dropdownIcon:d.iconSet.arrow.dropdown),Ft=C(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),mt=C(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Ne=C(()=>Tl(e.optionValue,"value")),Be=C(()=>Tl(e.optionLabel,"label")),lt=C(()=>Tl(e.optionDisable,"disable")),_t=C(()=>w.value.map(Ne.value)),kt=C(()=>{const s={onInput:Zt,onChange:Ve,onKeydown:Qt,onKeyup:vt,onKeypress:gt,onFocus:Mt,onClick(V){z===!0&&Lt(V)}};return s.onCompositionstart=s.onCompositionupdate=s.onCompositionend=Ve,s});we(w,s=>{p=s,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&g.innerLoading.value!==!0&&(o.value!==!0&&c.value!==!0||ae.value!==!0)&&(O!==!0&&it(),(o.value===!0||c.value===!0)&&ot(""))},{immediate:!0}),we(()=>e.fillInput,it),we(c,jt),we(de,Cl);function Ot(s){return e.emitValue===!0?Ne.value(s):s}function qt(s){if(s!==-1&&s<w.value.length)if(e.multiple===!0){const V=e.modelValue.slice();i("remove",{index:s,value:V.splice(s,1)[0]}),i("update:modelValue",V)}else i("update:modelValue",null)}function Yt(s){qt(s),g.focus()}function Rt(s,V){const B=Ot(s);if(e.multiple!==!0){e.fillInput===!0&&ht(Be.value(s),!0,!0),i("update:modelValue",B);return}if(w.value.length===0){i("add",{index:0,value:B}),i("update:modelValue",e.multiple===!0?[B]:B);return}if(V===!0&&at(s)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const X=e.modelValue.slice();i("add",{index:X.length,value:B}),X.push(B),i("update:modelValue",X)}function ze(s,V){if(g.editable.value!==!0||s===void 0||lt.value(s)===!0)return;const B=Ne.value(s);if(e.multiple!==!0){V!==!0&&(ht(e.fillInput===!0?Be.value(s):"",!0,!0),Xe()),$.value!==null&&$.value.focus(),(w.value.length===0||Kt(Ne.value(w.value[0]),B)!==!0)&&i("update:modelValue",e.emitValue===!0?B:s);return}if((z!==!0||T.value===!0)&&g.focus(),Mt(),w.value.length===0){const ie=e.emitValue===!0?B:s;i("add",{index:0,value:ie}),i("update:modelValue",e.multiple===!0?[ie]:ie);return}const X=e.modelValue.slice(),ce=_t.value.findIndex(ie=>Kt(ie,B));if(ce!==-1)i("remove",{index:ce,value:X.splice(ce,1)[0]});else{if(e.maxValues!==void 0&&X.length>=e.maxValues)return;const ie=e.emitValue===!0?B:s;i("add",{index:X.length,value:ie}),X.push(ie)}i("update:modelValue",X)}function xe(s){if(d.platform.is.desktop!==!0)return;const V=s!==-1&&s<de.value?s:-1;f.value!==V&&(f.value=V)}function Le(s=1,V){if(c.value===!0){let B=f.value;do B=Ul(B+s,-1,de.value-1);while(B!==-1&&B!==f.value&&lt.value(e.options[B])===!0);f.value!==B&&(xe(B),Te(B),V!==!0&&e.useInput===!0&&e.fillInput===!0&&At(B>=0?Be.value(e.options[B]):H,!0))}}function Pt(s,V){const B=X=>Kt(Ne.value(X),s);return e.options.find(B)||V.find(B)||s}function at(s){const V=Ne.value(s);return _t.value.find(B=>Kt(B,V))!==void 0}function Mt(s){e.useInput===!0&&$.value!==null&&(s===void 0||$.value===s.target&&s.target.value===P.value)&&$.value.select()}function ft(s){fl(s,27)===!0&&c.value===!0&&(Lt(s),Xe(),it()),i("keyup",s)}function vt(s){const{value:V}=s.target;if(s.keyCode!==void 0){ft(s);return}if(s.target.value="",D!==null&&(clearTimeout(D),D=null),_!==null&&(clearTimeout(_),_=null),it(),typeof V=="string"&&V.length!==0){const B=V.toLocaleLowerCase(),X=ie=>{const Ce=e.options.find(be=>ie.value(be).toLocaleLowerCase()===B);return Ce===void 0?!1:(w.value.indexOf(Ce)===-1?ze(Ce):Xe(),!0)},ce=ie=>{X(Ne)!==!0&&(X(Be)===!0||ie===!0||ot(V,!0,()=>ce(!0)))};ce()}else g.clearValue(s)}function gt(s){i("keypress",s)}function Qt(s){if(i("keydown",s),Za(s)===!0)return;const V=h.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),B=s.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||V===!0);if(s.keyCode===27){Jt(s);return}if(s.keyCode===9&&B===!1){nt();return}if(s.target===void 0||s.target.id!==g.targetUid.value||g.editable.value!==!0)return;if(s.keyCode===40&&g.innerLoading.value!==!0&&c.value===!1){Ge(s),st();return}if(s.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?qt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&i("update:modelValue",null);return}(s.keyCode===35||s.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(Ge(s),f.value=-1,Le(s.keyCode===36?1:-1,e.multiple)),(s.keyCode===33||s.keyCode===34)&&me.value!==void 0&&(Ge(s),f.value=Math.max(-1,Math.min(de.value,f.value+(s.keyCode===33?-1:1)*me.value.view)),Le(s.keyCode===33?1:-1,e.multiple)),(s.keyCode===38||s.keyCode===40)&&(Ge(s),Le(s.keyCode===38?-1:1,e.multiple));const X=de.value;if((A===void 0||U<Date.now())&&(A=""),X>0&&e.useInput!==!0&&s.key!==void 0&&s.key.length===1&&s.altKey===!1&&s.ctrlKey===!1&&s.metaKey===!1&&(s.keyCode!==32||A.length!==0)){c.value!==!0&&st(s);const ce=s.key.toLocaleLowerCase(),ie=A.length===1&&A[0]===ce;U=Date.now()+1500,ie===!1&&(Ge(s),A+=ce);const Ce=new RegExp("^"+A.split("").map(Ut=>Co.indexOf(Ut)!==-1?"\\"+Ut:Ut).join(".*"),"i");let be=f.value;if(ie===!0||be<0||Ce.test(Be.value(e.options[be]))!==!0)do be=Ul(be+1,-1,X-1);while(be!==f.value&&(lt.value(e.options[be])===!0||Ce.test(Be.value(e.options[be]))!==!0));f.value!==be&&Ze(()=>{xe(be),Te(be),be>=0&&e.useInput===!0&&e.fillInput===!0&&At(Be.value(e.options[be]),!0)});return}if(!(s.keyCode!==13&&(s.keyCode!==32||e.useInput===!0||A!=="")&&(s.keyCode!==9||B===!1))){if(s.keyCode!==9&&Ge(s),f.value!==-1&&f.value<X){ze(e.options[f.value]);return}if(V===!0){const ce=(ie,Ce)=>{if(Ce){if(Zl(Ce)!==!0)return}else Ce=e.newValueMode;if(ht("",e.multiple!==!0,!0),ie==null)return;(Ce==="toggle"?ze:Rt)(ie,Ce==="add-unique"),e.multiple!==!0&&($.value!==null&&$.value.focus(),Xe())};if(e.onNewValue!==void 0?i("newValue",h.value,ce):ce(h.value),e.multiple!==!0)return}c.value===!0?nt():g.innerLoading.value!==!0&&st()}}function Tt(){return z===!0?ue.value:ee.value!==null&&ee.value.contentEl!==null?ee.value.contentEl:void 0}function Xt(){return Tt()}function Ht(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Ye.value.map(s=>l["selected-item"](s)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Ye.value.map((s,V)=>N(re,{key:"option-"+V,removable:g.editable.value===!0&&lt.value(s.opt)!==!0,dense:!0,textColor:e.color,tabindex:He.value,onRemove(){s.removeAtIndex(V)}},()=>N("span",{class:"ellipsis",[s.html===!0?"innerHTML":"textContent"]:Be.value(s.opt)}))):[N("span",{[tt.value===!0?"innerHTML":"textContent"]:Se.value})]}function Nt(){if(pe.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:h.value}):void 0;const s=l.option!==void 0?l.option:B=>N(ke,{key:B.index,...B.itemProps},()=>N(G,()=>N(ge,()=>N("span",{[B.html===!0?"innerHTML":"textContent"]:B.label}))));let V=Re("div",Ct.value.map(s));return l["before-options"]!==void 0&&(V=l["before-options"]().concat(V)),fa(l["after-options"],V)}function hl(s,V){const B=V===!0?{...xt.value,...g.splitAttrs.attributes.value}:void 0,X={ref:V===!0?$:void 0,key:"i_t",class:Y.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...B,id:V===!0?g.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":s===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...kt.value};return s!==!0&&z===!0&&(Array.isArray(X.class)===!0?X.class=[...X.class,"no-pointer-events"]:X.class+=" no-pointer-events"),N("input",X)}function Zt(s){D!==null&&(clearTimeout(D),D=null),_!==null&&(clearTimeout(_),_=null),!(s&&s.target&&s.target.qComposing===!0)&&(At(s.target.value||""),O=!0,H=h.value,g.focused.value!==!0&&(z!==!0||T.value===!0)&&g.focus(),e.onFilter!==void 0&&(D=setTimeout(()=>{D=null,ot(h.value)},e.inputDebounce)))}function At(s,V){h.value!==s&&(h.value=s,V===!0||e.inputDebounce===0||e.inputDebounce==="0"?i("inputValue",s):_=setTimeout(()=>{_=null,i("inputValue",s)},e.inputDebounce))}function ht(s,V,B){O=B!==!0,e.useInput===!0&&(At(s,!0),(V===!0||B!==!0)&&(H=s),V!==!0&&ot(s))}function ot(s,V,B){if(e.onFilter===void 0||V!==!0&&g.focused.value!==!0)return;g.innerLoading.value===!0?i("filterAbort"):(g.innerLoading.value=!0,y.value=!0),s!==""&&e.multiple!==!0&&w.value.length!==0&&O!==!0&&s===Be.value(w.value[0])&&(s="");const X=setTimeout(()=>{c.value===!0&&(c.value=!1)},10);M!==null&&clearTimeout(M),M=X,i("filter",s,(ce,ie)=>{(V===!0||g.focused.value===!0)&&M===X&&(clearTimeout(M),typeof ce=="function"&&ce(),y.value=!1,Ze(()=>{g.innerLoading.value=!1,g.editable.value===!0&&(V===!0?c.value===!0&&Xe():c.value===!0?jt(!0):c.value=!0),typeof ie=="function"&&Ze(()=>{ie(t)}),typeof B=="function"&&Ze(()=>{B(t)})}))},()=>{g.focused.value===!0&&M===X&&(clearTimeout(M),g.innerLoading.value=!1,y.value=!1),c.value===!0&&(c.value=!1)})}function $t(){return N(Sa,{ref:ee,class:J.value,style:e.popupContentStyle,modelValue:c.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&pe.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:le.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Ft.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Je.value,onScrollPassive:Ie,onBeforeShow:ll,onBeforeHide:yl,onShow:pl},Nt)}function yl(s){al(s),nt()}function pl(){Pe()}function el(s){Lt(s),$.value!==null&&$.value.focus(),T.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function bl(s){Lt(s),Ze(()=>{T.value=!1})}function wl(){const s=[N(yo,{class:`col-auto ${g.fieldClass.value}`,...F.value,for:g.targetUid.value,dark:le.value,square:!0,loading:y.value,itemAligned:!1,filled:!0,stackLabel:h.value.length!==0,...g.splitAttrs.listeners.value,onFocus:el,onBlur:bl},{...l,rawControl:()=>g.getControl(!0),before:void 0,after:void 0})];return c.value===!0&&s.push(N("div",{ref:ue,class:J.value+" scroll",style:e.popupContentStyle,...Je.value,onClick:Jt,onScrollPassive:Ie},Nt())),N(ut,{ref:oe,modelValue:o.value,position:e.useInput===!0?"top":void 0,transitionShow:I,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:ll,onBeforeHide:Sl,onHide:xl,onShow:Wt},()=>N("div",{class:"q-select__dialog"+(le.value===!0?" q-select__dialog--dark q-dark":"")+(T.value===!0?" q-select__dialog--focused":"")},s))}function Sl(s){al(s),oe.value!==null&&oe.value.__updateRefocusTarget(g.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),g.focused.value=!1}function xl(s){Xe(),g.focused.value===!1&&i("blur",s),it()}function Wt(){const s=document.activeElement;(s===null||s.id!==g.targetUid.value)&&$.value!==null&&$.value!==s&&$.value.focus(),Pe()}function nt(){o.value!==!0&&(f.value=-1,c.value===!0&&(c.value=!1),g.focused.value===!1&&(M!==null&&(clearTimeout(M),M=null),g.innerLoading.value===!0&&(i("filterAbort"),g.innerLoading.value=!1,y.value=!1)))}function st(s){g.editable.value===!0&&(z===!0?(g.onControlFocusin(s),o.value=!0,Ze(()=>{g.focus()})):g.focus(),e.onFilter!==void 0?ot(h.value):(pe.value!==!0||l["no-option"]!==void 0)&&(c.value=!0))}function Xe(){o.value=!1,nt()}function it(){e.useInput===!0&&ht(e.multiple!==!0&&e.fillInput===!0&&w.value.length!==0&&Be.value(w.value[0])||"",!0,!0)}function jt(s){let V=-1;if(s===!0){if(w.value.length!==0){const B=Ne.value(w.value[0]);V=e.options.findIndex(X=>Kt(Ne.value(X),B))}fe(V)}xe(V)}function Cl(s,V){c.value===!0&&g.innerLoading.value===!1&&(fe(-1,!0),Ze(()=>{c.value===!0&&g.innerLoading.value===!1&&(s>V?fe():jt(!0))}))}function tl(){o.value===!1&&ee.value!==null&&ee.value.updatePosition()}function ll(s){s!==void 0&&Lt(s),i("popupShow",s),g.hasPopupOpen=!0,g.onControlFocusin(s)}function al(s){s!==void 0&&Lt(s),i("popupHide",s),g.hasPopupOpen=!1,g.onControlFocusout(s)}function ol(){z=d.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||pe.value===!1:!0),I=d.platform.is.ios===!0&&z===!0&&e.useInput===!0?"fade":e.transitionShow}return Ja(ol),Ya(tl),ol(),ct(()=>{D!==null&&clearTimeout(D),_!==null&&clearTimeout(_)}),Object.assign(t,{showPopup:st,hidePopup:Xe,removeAtIndex:qt,add:Rt,toggleOption:ze,getOptionIndex:()=>f.value,setOptionIndex:xe,moveOptionSelection:Le,filter:ot,updateMenuPosition:tl,updateInputValue:ht,isOptionSelected:at,getEmittingOptionValue:Ot,isOptionDisabled:(...s)=>lt.value.apply(null,s)===!0,getOptionValue:(...s)=>Ne.value.apply(null,s),getOptionLabel:(...s)=>Be.value.apply(null,s)}),Object.assign(g,{innerValue:w,fieldClass:C(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:Z,targetRef:$,hasValue:ae,showPopup:st,floatingLabel:C(()=>e.hideSelected!==!0&&ae.value===!0||typeof h.value=="number"||h.value.length!==0||Wl(e.displayValue)),getControlChild:()=>{if(g.editable.value!==!1&&(o.value===!0||pe.value!==!0||l["no-option"]!==void 0))return z===!0?wl():$t();g.hasPopupOpen===!0&&(g.hasPopupOpen=!1)},controlEvents:{onFocusin(s){g.onControlFocusin(s)},onFocusout(s){g.onControlFocusout(s,()=>{it(),nt()})},onClick(s){if(Jt(s),z!==!0&&c.value===!0){nt(),$.value!==null&&$.value.focus();return}st(s)}},getControl:s=>{const V=Ht(),B=s===!0||o.value!==!0||z!==!0;if(e.useInput===!0)V.push(hl(s,B));else if(g.editable.value===!0){const ce=B===!0?xt.value:void 0;V.push(N("input",{ref:B===!0?$:void 0,key:"d_t",class:"q-select__focus-target",id:B===!0?g.targetUid.value:void 0,value:Se.value,readonly:!0,"data-autofocus":s===!0||e.autofocus===!0||void 0,...ce,onKeydown:Qt,onKeyup:ft,onKeypress:gt})),B===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&V.push(N("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:vt}))}if(qe.value!==void 0&&e.disable!==!0&&_t.value.length!==0){const ce=_t.value.map(ie=>N("option",{value:ie,selected:!0}));V.push(N("select",{class:"hidden",name:qe.value,multiple:e.multiple},ce))}const X=e.useInput===!0||B!==!0?void 0:g.splitAttrs.attributes.value;return N("div",{class:"q-field__native row items-center",...X,...g.splitAttrs.listeners.value},V)},getInnerAppend:()=>e.loading!==!0&&y.value!==!0&&e.hideDropdownIcon!==!0?[N(Q,{class:"q-select__dropdown-icon"+(c.value===!0?" rotate-180":""),name:dt.value})]:null}),ca(g)}}),Ke=Ee({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:l}){const i=C(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>N("div",{class:i.value,role:"toolbar"},et(l.default))}}),ko=["ul","ol"],Oe=Ee({name:"QList",props:{...vl,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:l}){const i=$e(),t=gl(e,i.proxy.$q),d=C(()=>ko.includes(e.tag)?null:"list"),c=C(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(t.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>N(e.tag,{class:c.value,role:d.value},et(l.default))}}),qo=Ee({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:l}){const i=C(()=>{const t=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(d=>e[d]===!0).map(d=>`q-btn-group--${d}`).join(" ");return`q-btn-group row no-wrap${t.length!==0?" "+t:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>N("div",{class:i.value},et(l.default))}}),Po=Ee({name:"QBtnToggle",props:{...ma,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(l=>("label"in l||"icon"in l||"slot"in l)&&"value"in l)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:l,emit:i}){const t=C(()=>e.options.find(_=>_.value===e.modelValue)!==void 0),d=C(()=>({type:"hidden",name:e.name,value:e.modelValue})),c=eo(d),o=C(()=>$a(e)),f=C(()=>({rounded:e.rounded,dense:e.dense,...o.value})),h=C(()=>e.options.map((_,p)=>{const{attrs:z,value:O,slot:M,...H}=_;return{slot:M,props:{key:p,"aria-pressed":O===e.modelValue?"true":"false",...z,...H,...f.value,disable:e.disable===!0||H.disable===!0,color:O===e.modelValue?y(H,"toggleColor"):y(H,"color"),textColor:O===e.modelValue?y(H,"toggleTextColor"):y(H,"textColor"),noCaps:y(H,"noCaps")===!0,noWrap:y(H,"noWrap")===!0,size:y(H,"size"),padding:y(H,"padding"),ripple:y(H,"ripple"),stack:y(H,"stack")===!0,stretch:y(H,"stretch")===!0,onClick(I){T(O,_,I)}}}}));function T(_,p,z){e.readonly!==!0&&(e.modelValue===_?e.clearable===!0&&(i("update:modelValue",null,null),i("clear")):i("update:modelValue",_,p),i("click",z))}function y(_,p){return _[p]===void 0?e[p]:_[p]}function D(){const _=h.value.map(p=>N(W,p.props,p.slot!==void 0?l[p.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&t.value===!0&&c(_,"push"),fa(l.default,_)}return()=>N(qo,{class:"q-btn-toggle",...o.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},D)}}),Mo=Ee({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:l,emit:i}){let t=!1,d,c,o=null,f=null,h,T;function y(){d&&d(),d=null,t=!1,o!==null&&(clearTimeout(o),o=null),f!==null&&(clearTimeout(f),f=null),c!==void 0&&c.removeEventListener("transitionend",h),h=null}function D(O,M,H){M!==void 0&&(O.style.height=`${M}px`),O.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,t=!0,d=H}function _(O,M){O.style.overflowY=null,O.style.height=null,O.style.transition=null,y(),M!==T&&i(M)}function p(O,M){let H=0;c=O,t===!0?(y(),H=O.offsetHeight===O.scrollHeight?0:void 0):(T="hide",O.style.overflowY="hidden"),D(O,H,M),o=setTimeout(()=>{o=null,O.style.height=`${O.scrollHeight}px`,h=I=>{f=null,(Object(I)!==I||I.target===O)&&_(O,"show")},O.addEventListener("transitionend",h),f=setTimeout(h,e.duration*1.1)},100)}function z(O,M){let H;c=O,t===!0?y():(T="show",O.style.overflowY="hidden",H=O.scrollHeight),D(O,H,M),o=setTimeout(()=>{o=null,O.style.height=0,h=I=>{f=null,(Object(I)!==I||I.target===O)&&_(O,"hide")},O.addEventListener("transitionend",h),f=setTimeout(h,e.duration*1.1)},100)}return ct(()=>{t===!0&&y()}),()=>N(El,{css:!1,appear:e.appear,onEnter:p,onLeave:z},l.default)}}),To=Ee({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:l}){const{proxy:{$q:i}}=$e(),t=Bl(to,Et);if(t===Et)return console.error("QPage needs to be a deep child of QLayout"),Et;if(Bl(lo,Et)===Et)return console.error("QPage needs to be child of QPageContainer"),Et;const c=C(()=>{const f=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const h=t.isContainer.value===!0?t.containerHeight.value:i.screen.height;return e.styleFn(f,h)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-f+"px":i.screen.height===0?f!==0?`calc(100vh - ${f}px)`:"100vh":i.screen.height-f+"px"}}),o=C(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>N("main",{class:o.value,style:c.value},et(l.default))}});function $l(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const l=parseInt(e,10);return isNaN(l)?0:l}const wt=ao({name:"close-popup",beforeMount(e,{value:l}){const i={depth:$l(l),handler(t){i.depth!==0&&setTimeout(()=>{const d=oo(e);d!==void 0&&no(d,t,i.depth)})},handlerKey(t){fl(t,13)===!0&&i.handler(t)}};e.__qclosepopup=i,e.addEventListener("click",i.handler),e.addEventListener("keyup",i.handlerKey)},updated(e,{value:l,oldValue:i}){l!==i&&(e.__qclosepopup.depth=$l(l))},beforeUnmount(e){const l=e.__qclosepopup;e.removeEventListener("click",l.handler),e.removeEventListener("keyup",l.handlerKey),delete e.__qclosepopup}});function Ao(){return Bl(so)}const Vo=va({__name:"TeamArrangement",props:{team1:{},team2:{},createBalancedMatch:{type:Function}},emits:["update:team1","update:team2"],setup(e,{expose:l,emit:i}){l();const t=e,d=i,c=E(null),o=E(null),f=I=>I.reduce((A,U)=>A+U.level,0),h=()=>Math.abs(f(t.team1)-f(t.team2)),H={props:t,emit:d,selectedForSwap:c,selectedForSwapTeam:o,getTeamSkill:f,getSkillDifference:h,isBalanced:()=>h()<=1,getBalanceColor:()=>{const I=h();return I===0?"green":I===1?"light-green":I===2?"orange":"red"},getBalanceIcon:()=>{const I=h();return I===0?"verified":I===1?"check_circle":I===2?"warning":"error"},getBalanceText:()=>{const I=h();return I===0?"Perfect Balance":I===1?"Well Balanced":I===2?"Slightly Unbalanced":"Very Unbalanced"},getLevelColor:I=>{switch(I){case 1:return"green-6";case 2:return"orange-7";case 3:return"red-8";default:return"grey-5"}},balanceTeams:()=>{const I=[...t.team1,...t.team2],A=t.createBalancedMatch(I);d("update:team1",[A[0],A[1]]),d("update:team2",[A[2],A[3]])},shuffleTeams:()=>{const I=[...t.team1,...t.team2];for(let A=I.length-1;A>0;A--){const U=Math.floor(Math.random()*(A+1));[I[A],I[U]]=[I[U],I[A]]}d("update:team1",[I[0],I[1]]),d("update:team2",[I[2],I[3]])},selectPlayerForSwap:(I,A)=>{if(!c.value){c.value=I,o.value=A;return}if(c.value.name===I.name){c.value=null,o.value=null;return}const U=[...t.team1],Z=[...t.team2],$=U.filter(oe=>oe.name!==c.value.name&&oe.name!==I.name),ee=Z.filter(oe=>oe.name!==c.value.name&&oe.name!==I.name);o.value==="team1"?ee.push(c.value):$.push(c.value),A==="team1"?ee.push(I):$.push(I),d("update:team1",$),d("update:team2",ee),c.value=null,o.value=null}};return Object.defineProperty(H,"__isScriptSetup",{enumerable:!1,value:!0}),H}}),Bo={class:"team-arrangement"},zo={class:"balance-indicator q-mb-lg"},Lo={class:"row items-center justify-between"},Eo={class:"row items-center q-gutter-sm"},Io={class:"text-caption text-grey-7 q-mt-xs"},Do={class:"row q-mb-lg q-gutter-sm"},Fo={class:"row q-col-gutter-lg"},Oo={class:"col-12 col-md-6"},Ro={class:"text-h6"},Qo={class:"text-caption text-grey-6 q-mb-sm text-center"},Ho={key:1,class:"text-center text-grey-6 q-pa-md empty-team-drop"},No={class:"col-12 col-md-6"},Wo={class:"text-h6"},jo={class:"text-caption text-grey-6 q-mb-sm text-center"},Uo={key:1,class:"text-center text-grey-6 q-pa-md empty-team-drop"};function Ko(e,l,i,t,d,c){return b(),j("div",Bo,[v("div",zo,[v("div",Lo,[l[1]||(l[1]=v("div",{class:"text-subtitle1"},"Team Balance",-1)),v("div",Eo,[a(re,{color:t.getBalanceColor(),"text-color":"white",icon:t.getBalanceIcon(),size:"md"},{default:n(()=>[x(k(t.getBalanceText()),1)]),_:1},8,["color","icon"]),t.isBalanced()?he("",!0):(b(),K(Q,{key:0,name:"warning",color:"orange",size:"sm"},{default:n(()=>[a(ve,null,{default:n(()=>l[0]||(l[0]=[x("Teams are unbalanced. Consider using Balance Teams button.")])),_:1})]),_:1}))])]),v("div",Io," Skill difference: "+k(t.getSkillDifference())+" point"+k(t.getSkillDifference()!==1?"s":"")+" (Team 1: "+k(t.getTeamSkill(i.team1))+" vs Team 2: "+k(t.getTeamSkill(i.team2))+") ",1)]),v("div",Do,[a(W,{color:"accent",label:"Balance Teams",icon:"balance",onClick:t.balanceTeams,outline:""},{default:n(()=>[a(ve,null,{default:n(()=>l[2]||(l[2]=[x("Use smart algorithm to create balanced teams")])),_:1})]),_:1}),a(W,{color:"accent",label:"Shuffle",icon:"shuffle",onClick:t.shuffleTeams,outline:""},{default:n(()=>[a(ve,null,{default:n(()=>l[3]||(l[3]=[x("Randomly assign players to teams")])),_:1})]),_:1})]),v("div",Fo,[v("div",Oo,[a(Me,{flat:"",bordered:""},{default:n(()=>[a(se,{class:"bg-blue-6 text-white"},{default:n(()=>[v("div",Ro,[l[4]||(l[4]=x(" Team 1 ")),a(re,{label:`Skill: ${t.getTeamSkill(i.team1)}`,color:"white","text-color":"blue-6",size:"sm",class:"q-ml-sm"},null,8,["label"])])]),_:1}),a(se,{class:"team-drop-area"},{default:n(()=>[v("div",Qo,[a(Q,{name:"touch_app",size:"xs"}),l[5]||(l[5]=x(" Click to select, click another to swap "))]),i.team1.length>0?(b(),K(Oe,{key:0},{default:n(()=>[(b(!0),j(_e,null,De(i.team1,(o,f)=>(b(),K(ke,{key:o.name,clickable:"",class:We(["team-player-item swappable-player",{"selected-for-swap":t.selectedForSwap?.name===o.name,"can-swap-with":t.selectedForSwap&&t.selectedForSwap.name!==o.name}]),onClick:h=>t.selectPlayerForSwap(o,"team1")},{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(It,{color:t.getLevelColor(o.level),"text-color":"white",class:We({"swap-pulse":t.selectedForSwap?.name===o.name})},{default:n(()=>[x(k(f+1)+" ",1),a(ve,null,{default:n(()=>[x(k(o.name)+" - Level "+k(o.level)+" - Position "+k(f+1),1)]),_:2},1024)]),_:2},1032,["color","class"])]),_:2},1024),a(G,null,{default:n(()=>[a(ge,{class:"text-weight-medium"},{default:n(()=>[x(k(o.name)+" ",1),t.selectedForSwap?.name===o.name?(b(),K(Q,{key:0,name:"check_circle",color:"green",size:"sm",class:"q-ml-xs swap-icon-pulse"})):he("",!0)]),_:2},1024),a(ge,{caption:""},{default:n(()=>[x("Level "+k(o.level),1)]),_:2},1024)]),_:2},1024),a(G,{side:""},{default:n(()=>[a(Q,{name:"swap_horiz",color:"grey-5",size:"sm"})]),_:1})]),_:2},1032,["class","onClick"]))),128))]),_:1})):(b(),j("div",Ho,[a(Q,{name:"group_add",size:"lg",color:"grey-4"}),l[6]||(l[6]=v("p",{class:"q-mt-sm"},"Click to assign",-1))]))]),_:1})]),_:1})]),v("div",No,[a(Me,{flat:"",bordered:""},{default:n(()=>[a(se,{class:"bg-orange-6 text-white"},{default:n(()=>[v("div",Wo,[l[7]||(l[7]=x(" Team 2 ")),a(re,{label:`Skill: ${t.getTeamSkill(i.team2)}`,color:"white","text-color":"orange-6",size:"sm",class:"q-ml-sm"},null,8,["label"])])]),_:1}),a(se,{class:"team-drop-area"},{default:n(()=>[v("div",jo,[a(Q,{name:"touch_app",size:"xs"}),l[8]||(l[8]=x(" Click to select, click another to swap "))]),i.team2.length>0?(b(),K(Oe,{key:0},{default:n(()=>[(b(!0),j(_e,null,De(i.team2,(o,f)=>(b(),K(ke,{key:o.name,clickable:"",class:We(["team-player-item swappable-player",{"selected-for-swap":t.selectedForSwap?.name===o.name,"can-swap-with":t.selectedForSwap&&t.selectedForSwap.name!==o.name}]),onClick:h=>t.selectPlayerForSwap(o,"team2")},{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(It,{color:t.getLevelColor(o.level),"text-color":"white",class:We({"swap-pulse":t.selectedForSwap?.name===o.name})},{default:n(()=>[x(k(f+1)+" ",1),a(ve,null,{default:n(()=>[x(k(o.name)+" - Level "+k(o.level)+" - Position "+k(f+1),1)]),_:2},1024)]),_:2},1032,["color","class"])]),_:2},1024),a(G,null,{default:n(()=>[a(ge,{class:"text-weight-medium"},{default:n(()=>[x(k(o.name)+" ",1),t.selectedForSwap?.name===o.name?(b(),K(Q,{key:0,name:"check_circle",color:"green",size:"sm",class:"q-ml-xs swap-icon-pulse"})):he("",!0)]),_:2},1024),a(ge,{caption:""},{default:n(()=>[x("Level "+k(o.level),1)]),_:2},1024)]),_:2},1024),a(G,{side:""},{default:n(()=>[a(Q,{name:"swap_horiz",color:"grey-5",size:"sm"})]),_:1})]),_:2},1032,["class","onClick"]))),128))]),_:1})):(b(),j("div",Uo,[a(Q,{name:"group_add",size:"lg",color:"grey-4"}),l[9]||(l[9]=v("p",{class:"q-mt-sm"},"Click to assign",-1))]))]),_:1})]),_:1})])])])}const Go=ga(Vo,[["render",Ko],["__scopeId","data-v-98afa0fc"],["__file","TeamArrangement.vue"]]),Jo=va({__name:"IndexPage",setup(e,{expose:l}){l();const i=Ao(),t=E(qt()),d=E(Yt()),c=E(Rt()),o=E(null),f=E(null),h=E(!1),T=E(""),y=E([]),D=E(2),_=E(Pt().availableCourts),p=E(Pt().autoAssignCourts),z=E(Pt().autoAdvanceMatches),O=E(8),M=()=>typeof _.value=="object"&&_.value!==null?_.value.value:_.value||2,H=E(!1),I=E(!1),A=E(!1),U=E(!1),Z=E(!1),$=E(!1),ee=E(null),oe=E(null),ue=E(-1),qe=E(-1),Ve=E(!1),de=E(1),te=E([]),ye=E([]),me=E([]),fe=E(null),Re=E(!1),Ie=E(null),Te=E(null),Pe=E(vt().sortBy),g=E(vt().matchesFilterBy),w=E(vt().matchType),F=E(Mt().queueReturnMethod),le=E(Mt().autoSortQueue),ae=E(-1),Y=[{label:"Beginner",value:1,description:"New to the game"},{label:"Intermediate",value:2,description:"Some experience"},{label:"Advanced",value:3,description:"Experienced player"}],J=[{label:"Singles (1v1)",value:"singles"},{label:"Doubles (2v2)",value:"doubles"}],pe=[{label:"Games played",value:"gamesPlayed"},{label:"Wins",value:"wins"},{label:"Losses",value:"losses"},{label:"Name",value:"name"}],P=C(()=>{const r=[{label:"All",value:"all"}],u=typeof _.value=="number"?_.value:_.value.value;for(let m=1;m<=u;m++)r.push({label:`Court ${m}`,value:m});return r}),Se=[{label:"Fairness First (Recommended)",value:"fairness_first",description:"Players return to front, maintaining fairness"},{label:"End of Queue",value:"end_of_queue",description:"Players added to end of queue"},{label:"Smart Position",value:"smart_position",description:"Calculate position based on games played"}],Qe=C(()=>Array.from({length:O.value},(r,u)=>({label:`${u+1} Court${u>0?"s":""}`,value:u+1}))),tt=C(()=>{const r=Math.max(M(),2);return Array.from({length:r},(u,m)=>({value:m+1,label:`Court ${m+1}`}))}),He=C(()=>{const r=d.value.length,u=d.value.filter(S=>S.level===1).length,m=d.value.filter(S=>S.level===2).length,q=d.value.filter(S=>S.level===3).length;return{total:r,level1:u,level2:m,level3:q}}),xt=C(()=>[...t.value].sort((r,u)=>{if(Pe.value==="gamesPlayed"){if(r.gamesPlayed!==u.gamesPlayed)return u.gamesPlayed-r.gamesPlayed}else if(Pe.value==="wins"){if(r.wins!==u.wins)return u.wins-r.wins}else if(Pe.value==="losses"){if(r.losses!==u.losses)return u.losses-r.losses}else if(Pe.value==="name")return r.name.localeCompare(u.name);return r.name.localeCompare(u.name)})),Je=C(()=>g.value==="all"?c.value:c.value.filter(r=>r.court===g.value)),Ye=C(()=>ue.value>=0&&ue.value<c.value.length?c.value[ue.value].players:[]),Ct=r=>{switch(r){case 1:return"green-6";case 2:return"orange-7";case 3:return"red-8";default:return"grey-5"}},dt=r=>{switch(r){case 1:return"star_border";case 2:return"star_half";case 3:return"star";default:return"star_outline"}},Ft=()=>{const r=d.value.length,u=w.value==="singles"?2:4;return r>=u},mt=()=>{const r=d.value.length,u=w.value==="singles"?2:4;if(r<u)return`Need ${u-r} more player${u-r>1?"s":""} to generate ${w.value} matches`;const m=Math.floor(r/u),q=r%u;return q===0?`Can generate ${m} ${w.value} match${m>1?"es":""}`:w.value==="singles"?`Can generate ${m} singles match${m>1?"es":""} (1 player will wait)`:q===1?`Can generate ${m} match${m>1?"es":""} (1 player will wait)`:q===2?`Can generate ${m} match${m>1?"es":""} (2 players will wait)`:`Can generate ${m} match${m>1?"es":""} (3 players will wait)`},Ne=()=>{const r=d.value.length,u=w.value==="singles"?2:4,m=r%u;if(m===0)return"";if(w.value==="singles")return"1 player waiting - Practice serves or warm up";const q={1:"Practice serves or warm up",2:"Practice doubles positioning",3:"Practice singles or wait for 1 more player"};return`${m} player${m>1?"s":""} waiting - ${q[m]}`},Be=r=>{switch(r){case"waiting":return"grey-6";case"in-progress":return"green-6";case"completed":return"blue-6";default:return"grey-6"}},lt=r=>{switch(r){case"waiting":return"Waiting";case"in-progress":return"In Progress";case"completed":return"Completed";default:return"Unknown"}},_t=r=>{if(r.priority==="returned")return"Recently returned";if(r.originalQueueTime){const m=new Date().getTime()-new Date(r.originalQueueTime).getTime(),q=Math.floor(m/6e4);return q<1?"Just joined":q<60?`${q}m ago`:`${Math.floor(q/60)}h ago`}return"In queue"},kt=()=>{le.value&&(d.value.sort((r,u)=>r.gamesPlayed-u.gamesPlayed),xe(d.value))},Ot=r=>{const u=[...d.value].sort((q,S)=>q.gamesPlayed-S.gamesPlayed),m=r.gamesPlayed;for(let q=0;q<u.length;q++)if(u[q].gamesPlayed>m)return q;return d.value.length};function qt(){const r=localStorage.getItem("playerList");return(r?JSON.parse(r):[]).map(m=>({...m,wins:m.wins||0,losses:m.losses||0}))}function Yt(){const r=localStorage.getItem("playerQueue");return(r?JSON.parse(r):[]).map(m=>({...m,wins:m.wins||0,losses:m.losses||0}))}function Rt(){const r=localStorage.getItem("matches"),u=r?JSON.parse(r):[];return u.length>0&&Array.isArray(u[0])&&!("id"in u[0])?u.map((m,q)=>({id:`match-${Date.now()}-${q}`,players:m.map(S=>({...S,wins:S.wins||0,losses:S.losses||0})),status:"waiting",order:q+1,createdAt:new Date})):u.map(m=>({...m,status:m.status||"waiting",order:m.order||1,createdAt:m.createdAt?new Date(m.createdAt):new Date}))}function ze(r){localStorage.setItem("playerList",JSON.stringify(r))}function xe(r){localStorage.setItem("playerQueue",JSON.stringify(r))}function Le(r){localStorage.setItem("matches",JSON.stringify(r))}function Pt(){const r=localStorage.getItem("courtSettings");if(r){const u=JSON.parse(r);return{availableCourts:u.availableCourts||2,autoAssignCourts:u.autoAssignCourts!==void 0?u.autoAssignCourts:!0,autoAdvanceMatches:u.autoAdvanceMatches!==void 0?u.autoAdvanceMatches:!0}}return{availableCourts:2,autoAssignCourts:!0,autoAdvanceMatches:!0}}function at(){localStorage.setItem("courtSettings",JSON.stringify({availableCourts:_.value,autoAssignCourts:p.value,autoAdvanceMatches:z.value}))}function Mt(){const r=localStorage.getItem("queueSettings");if(r){const u=JSON.parse(r);return{queueReturnMethod:u.queueReturnMethod||"fairness_first",autoSortQueue:u.autoSortQueue!==void 0?u.autoSortQueue:!0}}return{queueReturnMethod:"fairness_first",autoSortQueue:!0}}function ft(){localStorage.setItem("queueSettings",JSON.stringify({queueReturnMethod:F.value,autoSortQueue:le.value}))}function vt(){const r=localStorage.getItem("uiSettings");if(r){const u=JSON.parse(r);return{sortBy:u.sortBy||"gamesPlayed",matchType:u.matchType||"doubles",matchesFilterBy:u.matchesFilterBy||"all"}}return{sortBy:"gamesPlayed",matchType:"doubles",matchesFilterBy:"all"}}function gt(){localStorage.setItem("uiSettings",JSON.stringify({sortBy:Pe.value,matchType:w.value,matchesFilterBy:g.value}))}we(_,()=>{at()}),we(p,()=>{at()}),we(z,()=>{at()}),we(F,()=>{ft()}),we(le,()=>{ft()}),we(Pe,()=>{gt()}),we(w,()=>{gt()}),we(g,()=>{gt()});const Qt=()=>{const r=[],u=[...d.value].sort((L,R)=>L.gamesPlayed-R.gamesPlayed),m=w.value==="singles"?2:4,q=Math.floor(u.length/m);for(let L=0;L<q;L++){const R=u.splice(0,m);let Ae;w.value==="singles"?Ae=R:Ae=Ht(R);const ne={id:`match-${Date.now()}-${L}`,players:Ae,status:"waiting",order:c.value.length+L+1,createdAt:new Date,court:void 0,startedAt:void 0};r.push(ne)}p.value&&r.length>0&&Xt(r);const S=r.flatMap(L=>L.players.map(R=>R.name));return d.value=d.value.filter(L=>!S.includes(L.name)),r},Tt=()=>{const r=M(),u=new Map;for(let S=1;S<=r;S++)u.set(S,{inProgress:0,waiting:0,total:0});c.value.forEach(S=>{if(S.court){const L=u.get(S.court)||{inProgress:0,waiting:0,total:0};S.status==="in-progress"?L.inProgress++:S.status==="waiting"&&L.waiting++,L.total++,u.set(S.court,L)}});let m=1,q=1/0;for(let S=1;S<=r;S++){const L=u.get(S)||{inProgress:0,waiting:0,total:0};let R=L.total*1e3;L.inProgress>0&&(R+=1e4),R+=L.waiting*100,R<q&&(q=R,m=S)}return m},Xt=r=>{const u=M(),m=new Map;for(let S=1;S<=u;S++)m.set(S,{inProgress:0,waiting:0,total:0});c.value.forEach(S=>{if(S.court){const L=m.get(S.court)||{inProgress:0,waiting:0,total:0};S.status==="in-progress"?L.inProgress++:S.status==="waiting"&&L.waiting++,L.total++,m.set(S.court,L)}});const q=new Set;c.value.forEach(S=>{S.court&&S.status==="in-progress"&&q.add(S.court)});for(let S=0;S<r.length;S++){const L=r[S];let R=1,Ae=1/0;for(let Bt=1;Bt<=u;Bt++){const zt=m.get(Bt)||{inProgress:0,waiting:0,total:0};let yt=zt.total*1e3;zt.inProgress>0&&(yt+=1e4),yt+=zt.waiting*100,yt<Ae&&(Ae=yt,R=Bt)}L.court=R;const ne=m.get(R)||{inProgress:0,waiting:0,total:0};ne.total++,m.set(R,ne),!q.has(R)?(L.status="in-progress",L.startedAt=new Date,q.add(R),ne.inProgress++):(L.status="waiting",ne.waiting++),m.set(R,ne)}},Ht=r=>{const u=[...r].sort((ne,Vt)=>ne.level-Vt.level),q=Nt(u).map(ne=>{const Vt=ne.team1,Bt=ne.team2,zt=Vt.reduce((_l,kl)=>_l+kl.level,0),yt=Bt.reduce((_l,kl)=>_l+kl.level,0),_a=Math.abs(zt-yt);return{...ne,difference:_a,team1Skill:zt,team2Skill:yt}});q.sort((ne,Vt)=>ne.difference-Vt.difference);const S=q[0].difference,L=q.filter(ne=>ne.difference<=S+1),R=Math.floor(Math.random()*L.length),Ae=L[R];return[...Ae.team1,...Ae.team2]},Nt=r=>{const u=[],m=[0,1,2,3],q=[[0,1],[0,2],[0,3],[1,2],[1,3],[2,3]];for(const S of q){const L=m.filter(ne=>!S.includes(ne)),R=S.map(ne=>r[ne]),Ae=L.map(ne=>r[ne]);u.push({team1:R,team2:Ae})}return u},hl=()=>{if(!o.value?.trim()){i.notify({type:"negative",message:"Please enter a player name",position:"top"});return}if(f.value===null){i.notify({type:"negative",message:"Please select a player level",position:"top"});return}const r=o.value.trim();if(t.value.some(m=>m.name.toLowerCase()===r.toLowerCase())){i.notify({type:"negative",message:`Player "${r}" already exists`,position:"top"});return}const u={name:r,level:f.value,gamesPlayed:0,wins:0,losses:0};t.value.push(u),d.value.push(u),ze(t.value),xe(d.value),i.notify({type:"positive",message:`Player "${r}" added successfully`,position:"top"}),o.value=null,f.value=null,H.value=!1},Zt=()=>{if(!T.value?.trim()){y.value=[];return}const r=T.value.trim();let u=[];r.includes(`
`)?u=r.split(`
`).map(m=>m.trim()).filter(m=>m.length>0):r.includes(",")?u=r.split(",").map(m=>m.trim()).filter(m=>m.length>0):r.includes(";")?u=r.split(";").map(m=>m.trim()).filter(m=>m.length>0):u=[r],y.value=u.map(m=>({name:m.trim(),level:D.value,original:m.trim()}))},At=()=>{y.value.forEach(r=>{r.level=D.value})},ht=()=>{if(y.value.length===0){i.notify({type:"negative",message:"No players to import",position:"top"});return}const r=[],u=[],m=[];for(const q of y.value){const S=q.name.trim();if(!S){m.push(q.original);continue}if(t.value.some(R=>R.name.toLowerCase()===S.toLowerCase())){u.push(S);continue}const L={name:S,level:q.level,gamesPlayed:0,wins:0,losses:0};r.push(L)}r.length>0&&(t.value.push(...r),d.value.push(...r),ze(t.value),xe(d.value),i.notify({type:"positive",message:`Successfully imported ${r.length} player${r.length>1?"s":""}`,position:"top"})),u.length>0&&i.notify({type:"warning",message:`Skipped ${u.length} duplicate player${u.length>1?"s":""}: ${u.join(", ")}`,position:"top",timeout:5e3}),m.length>0&&i.notify({type:"warning",message:`Skipped ${m.length} invalid name${m.length>1?"s":""}: ${m.join(", ")}`,position:"top",timeout:5e3}),h.value=!1,T.value="",y.value=[],D.value=2,H.value=!1},ot=()=>{const r=Math.floor(d.value.length/(w.value==="singles"?2:4));i.dialog({title:"Confirm Match Generation",message:`Generate ${r} ${w.value} match${r>1?"es":""} from the queue?`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Generate",color:"accent",icon:"auto_awesome"}}).onOk(()=>{$t()})},$t=()=>{const r=Qt();if(c.value=[...c.value,...r],xe(d.value),Le(c.value),r.length>0){const u=d.value.length;let m=`Generated ${r.length} new match(es)`;u>0&&(m+=`. ${u} player${u>1?"s":""} waiting for more players`,u===1?m+=" (suggest: practice serves or warm up)":u===2?m+=" (suggest: practice doubles positioning)":u===3&&(m+=" (suggest: practice singles or wait for 1 more player)")),i.notify({type:"positive",message:m,position:"top",timeout:5e3})}else i.notify({type:"warning",message:"Not enough players in queue to generate matches",position:"top"})},yl=r=>{ue.value=r,oe.value=null,A.value=!0},pl=()=>{if(oe.value===null||ue.value===-1)return;const r=oe.value==="team1"?"Team 1":"Team 2";i.dialog({title:"Complete Match",message:`Confirm ${r} as the winner? This will update player stats and remove the match.`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Complete",color:"accent",icon:"check"}}).onOk(()=>{const u=c.value[ue.value];u.players.forEach(m=>{const q=t.value.find(S=>S.name===m.name);if(q){q.gamesPlayed++;const S=u.players.findIndex(ne=>ne.name===m.name),R=u.players.length===2?S===0:S<2;oe.value==="team1"&&R||oe.value==="team2"&&!R?q.wins++:q.losses++}}),c.value.splice(ue.value,1),el(u.court),Le(c.value),ze(t.value),A.value=!1,oe.value=null,ue.value=-1,i.notify({type:"positive",message:"Match completed! Stats updated.",position:"top"})})},el=r=>{if(!z.value)return;const u=c.value.find(m=>m.status==="waiting"&&m.court===r);u&&(u.status="in-progress",u.startedAt=new Date,Le(c.value),i.notify({type:"info",message:`Next match started on Court ${r}`,position:"top",timeout:3e3}))},bl=r=>{i.dialog({title:"Confirm Removal",message:`Are you sure you want to remove "${r}" from all lists?`,cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Remove",color:"negative",icon:"delete"},persistent:!0}).onOk(()=>{t.value=t.value.filter(u=>u.name!==r),d.value=d.value.filter(u=>u.name!==r),ze(t.value),xe(d.value),i.notify({type:"positive",message:`Player "${r}" removed successfully`,position:"top"})})},wl=r=>{i.dialog({title:"Remove from Queue",message:`Remove "${r}" from the queue?`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Remove",color:"negative",icon:"remove_circle"}}).onOk(()=>{d.value=d.value.filter(u=>u.name!==r),xe(d.value),i.notify({type:"info",message:`Player "${r}" removed from queue`,position:"top"})})},Sl=()=>{i.dialog({title:"Confirm Reset",message:"Are you sure you want to reset all games played counters to zero?",cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Reset",color:"negative",icon:"refresh"},persistent:!0}).onOk(()=>{t.value.forEach(r=>{r.gamesPlayed=0,r.wins=0,r.losses=0}),ze(t.value),i.notify({type:"positive",message:"All games played counters have been reset",position:"top"})})},xl=r=>{const u=t.value.find(m=>m.name===r);if(u){if(d.value.some(q=>q.name===r)){i.notify({type:"warning",message:`Player "${r}" is already in the queue`,position:"top"});return}const m={...u,originalQueueTime:new Date,priority:"normal"};d.value.push(m),kt(),i.notify({type:"positive",message:`Player "${r}" added to queue`,position:"top"})}},Wt=(r,u,m)=>{const q=new Date,S=r.map(L=>({...L,originalQueueTime:q,priority:m==="cancelled"?"high":"returned"}));switch(u){case"fairness_first":d.value.unshift(...S);break;case"end_of_queue":d.value.push(...S);break;case"smart_position":S.forEach(L=>{const R=Ot(L);d.value.splice(R,0,L)});break}kt(),xe(d.value),i.notify({type:"positive",message:`${r.length} player(s) returned to queue using ${u} method`,position:"top"})},nt=()=>{i.dialog({title:"Confirm Reset All",message:"This will clear all players, queue, and matches. Are you sure?",cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Reset All",color:"negative",icon:"delete_forever"},persistent:!0}).onOk(()=>{t.value=[],d.value=[],c.value=[],ze(t.value),xe(d.value),Le(c.value),i.notify({type:"positive",message:"All data has been reset",position:"top"})})},st=()=>{te.value=[],ye.value=[],me.value=[],de.value=1,Ve.value=!0},Xe=()=>{te.value=[],ye.value=[],me.value=[],de.value=1,Ie.value=null,Te.value=null,fe.value=null,Re.value=!1,Ve.value=!1},it=r=>{const u=te.value.findIndex(q=>q.name===r.name),m=w.value==="singles"?2:4;u>=0?te.value.splice(u,1):te.value.length<m?te.value.push(r):i.notify({type:"warning",message:`You can only select ${m} players`,position:"top"})},jt=r=>te.value.some(u=>u.name===r.name),Cl=()=>{const r=te.value.length;if(r<2){i.notify({type:"warning",message:"Please select at least 2 players",position:"top"});return}if(r>4){i.notify({type:"warning",message:"Maximum 4 players allowed for tennis matches",position:"top"});return}if(r===4){const u=Ht([...te.value]);ye.value=[u[0],u[1]],me.value=[u[2],u[3]]}else ye.value=[],me.value=[];de.value=2},tl=()=>{if(te.value.length!==2){i.notify({type:"warning",message:"Please select exactly 2 players",position:"top"});return}de.value=3},ll=()=>{if(ye.value.length!==2||me.value.length!==2){i.notify({type:"warning",message:"Please arrange both teams properly",position:"top"});return}de.value=3},al=()=>{fe.value=null},ol=()=>{Re.value=!Re.value},s=r=>c.value.filter(u=>u.court===r).length,V=()=>{const r=new Map,u=M();for(let L=1;L<=u;L++)r.set(L,0);c.value.forEach(L=>{if(L.court){const R=r.get(L.court)||0;r.set(L.court,R+1)}});let m=1,q=r.get(1)||0;for(let L=1;L<=u;L++){const R=r.get(L)||0;R<q&&(q=R,m=L)}const S=r.get(m)||0;return`Will assign Court ${m} (least busy court, ${S} matches)`},B=r=>{fe.value=r},X=()=>{let r;w.value==="doubles"?r=[...ye.value,...me.value]:r=[...te.value];const u=fe.value||(p.value?Tt():void 0),m=!u||!c.value.some(L=>L.court===u&&L.status==="in-progress"),q={id:`match-${Date.now()}`,players:r,status:m?"in-progress":"waiting",order:c.value.length+1,createdAt:new Date,court:u,startedAt:m?new Date:void 0};c.value.push(q);const S=q.players.map(L=>L.name);d.value=d.value.filter(L=>!S.includes(L.name)),Le(c.value),xe(d.value),Ve.value=!1,te.value=[],ye.value=[],me.value=[],fe.value=null,de.value=1,i.notify({type:"positive",message:`Manual match created successfully${q.court?` on Court ${q.court}`:""}!`,position:"top"})},ce=r=>{i.dialog({title:"Cancel Match",message:"Are you sure you want to cancel this match? All players will return to the queue.",cancel:{label:"Keep Match",color:"grey",flat:!0},ok:{label:"Cancel Match",color:"negative",icon:"cancel"},persistent:!0}).onOk(()=>{const m=c.value[r].players;i.dialog({title:"Return Players to Queue",message:`How should ${m.length} player(s) be returned to the queue?`,options:{type:"radio",model:F.value,items:Se},cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Return to Queue",color:"accent",icon:"queue"}}).onOk(q=>{q&&q!==F.value&&(F.value=q,ft()),Wt(m,q||F.value,"cancelled"),c.value.splice(r,1),Le(c.value),xe(d.value),i.notify({type:"positive",message:"Match cancelled and players returned to queue",position:"top"})})})},ie=r=>{qe.value=r,$.value=!0},Ce=()=>{const r=qe.value,u=c.value[r],m=Tt();if(m>0){u.court=m,Le(c.value);const q=c.value.filter(S=>S.court===m).length;i.notify({type:"positive",message:`Assigned to Court ${m} (${q} total matches)`,position:"top"})}else i.notify({type:"negative",message:"No available courts",position:"top"});$.value=!1},be=r=>{const u=qe.value,m=c.value[u];m.court=r,Le(c.value);const q=c.value.filter(S=>S.court===r).length;i.notify({type:"positive",message:`Assigned to Court ${r} (${q} total matches)`,position:"top"}),$.value=!1},Ut=r=>{ae.value=r,U.value=!0,de.value=1,te.value=[...c.value[r].players];const u=c.value[r];u.players.length===4?(ye.value=[u.players[0],u.players[1]],me.value=[u.players[2],u.players[3]]):(ye.value=[],me.value=[])},Ca=()=>{const r=c.value[ae.value];let u;Rl.value==="doubles"&&te.value.length===4&&ye.value.length===2&&me.value.length===2?u=[...ye.value,...me.value]:u=[...te.value],c.value[ae.value].players=u;const m=Fl(r.players,u);Le(c.value),xe(d.value),U.value=!1,te.value=[],ye.value=[],me.value=[],de.value=1,Ie.value=null,Te.value=null;let q="Match updated successfully!";if(m.removed.length>0||m.added.length>0){const S=[];m.removed.length>0&&S.push(`${m.removed.length} player(s) returned to queue`),m.added.length>0&&S.push(`${m.added.length} player(s) removed from queue`),q+=` (${S.join(", ")})`}i.notify({type:"positive",message:q,position:"top",timeout:4e3})},Fl=(r,u)=>{const m=r.map(R=>R.name),q=u.map(R=>R.name),S=r.filter(R=>!q.includes(R.name)),L=u.filter(R=>!m.includes(R.name));return console.log("Queue Update Analysis:",{original:m,updated:q,removed:S.map(R=>R.name),added:L.map(R=>R.name)}),L.forEach(R=>{const Ae=d.value.findIndex(ne=>ne.name===R.name);Ae>=0&&(d.value.splice(Ae,1),console.log(`Removed ${R.name} from queue (now in match)`))}),S.forEach(R=>{if(d.value.some(ne=>ne.name===R.name))console.log(`${R.name} is already in queue, skipping`);else{const ne={...R,priority:"returned",originalQueueTime:new Date,lastMatchTime:new Date};console.log(`Adding ${R.name} back to queue with priority: returned`),Wt([ne],F.value,"edited")}}),le.value&&kt(),xe(d.value),{removed:S,added:L}},Ol=C(()=>{const r=te.value.map(u=>u.name);return d.value.filter(u=>!r.includes(u.name))}),Rl=C(()=>te.value.length===4?"doubles":"singles"),Ql={$q:i,players:t,queue:d,matches:c,newPlayerName:o,newPlayerLevel:f,bulkImportMode:h,bulkPlayerText:T,bulkPlayers:y,bulkDefaultLevel:D,availableCourts:_,autoAssignCourts:p,autoAdvanceMatches:z,maxCourts:O,getCourtCount:M,showAddPlayerDialog:H,showSettingsDialog:I,showMatchResultDialog:A,showMatchEditDialog:U,showReplacePlayerDialog:Z,showCourtSelectionDialog:$,playerToReplaceInEdit:ee,selectedWinner:oe,currentMatchIndex:ue,currentMatchForCourtAssignment:qe,showManualSelectionDialog:Ve,manualSelectionStep:de,selectedPlayers:te,manualTeam1:ye,manualTeam2:me,selectedCourt:fe,showManualSelection:Re,selectedForSwap:Ie,selectedForSwapTeam:Te,sortBy:Pe,matchesFilterBy:g,matchType:w,queueReturnMethod:F,autoSortQueue:le,currentMatchIndexForActions:ae,levelOptions:Y,matchTypeOptions:J,sortOptions:pe,matchesFilterOptions:P,queueReturnOptions:Se,courtOptions:Qe,courtSelectionOptions:tt,queueStats:He,sortedPlayers:xt,filteredMatches:Je,currentMatch:Ye,getLevelColor:Ct,getLevelIcon:dt,canGenerateMatches:Ft,getMatchGenerationHint:mt,getWaitingPlayersInfo:Ne,getMatchStatusColor:Be,getMatchStatusLabel:lt,getQueueTimeInfo:_t,sortQueueByFairness:kt,calculateSmartPosition:Ot,getPlayersFromStorage:qt,getQueueFromStorage:Yt,getMatchesFromStorage:Rt,savePlayersToStorage:ze,saveQueueToStorage:xe,saveMatchesToStorage:Le,getCourtSettingsFromStorage:Pt,saveCourtSettingsToStorage:at,getQueueSettingsFromStorage:Mt,saveQueueSettingsToStorage:ft,getUISettingsFromStorage:vt,saveUISettingsToStorage:gt,generateMatches:Qt,assignCourt:Tt,assignCourtsToMatches:Xt,createBalancedMatch:Ht,generateTeamCombinations:Nt,addNewPlayer:hl,parseBulkPlayers:Zt,updateAllBulkLevels:At,addBulkPlayers:ht,generateNewMatches:ot,executeMatchGeneration:$t,openMatchResultDialog:yl,completeMatch:pl,autoAdvanceNextMatchForCourt:el,removePlayer:bl,removeFromQueue:wl,resetGamesPlayed:Sl,requeuePlayer:xl,executeQueueReturn:Wt,resetAllData:nt,startManualSelection:st,cancelManualSelection:Xe,togglePlayerSelection:it,isPlayerSelected:jt,proceedToTeamArrangement:Cl,proceedToCourtSelection:tl,proceedToCourtSelectionFromTeams:ll,selectAutoCourt:al,toggleManualSelection:ol,getCourtMatchCount:s,getAutoAssignDescription:V,selectSpecificCourt:B,createManualMatchWithCourt:X,cancelMatch:ce,openCourtSelectionDialog:ie,assignCourtAutomatically:Ce,assignSpecificCourt:be,editMatch:Ut,saveMatchEdit:Ca,updateQueueAfterEdit:Fl,availableQueuePlayers:Ol,currentMatchType:Rl,removePlayerFromEdit:r=>{const u=te.value.findIndex(m=>m.name===r.name);u>=0&&(te.value.splice(u,1),i.notify({type:"info",message:`Removed ${r.name} from match`,position:"top",timeout:2e3}))},addPlayerToEdit:r=>{te.value.length<4&&(te.value.push(r),i.notify({type:"positive",message:`Added ${r.name} to match`,position:"top",timeout:2e3}))},replacePlayerInEdit:r=>{if(Ol.value.length===0){i.notify({type:"warning",message:"No players available in queue to replace with",position:"top"});return}ee.value=r,Z.value=!0},selectReplacementPlayer:r=>{if(!ee.value)return;const u=te.value.findIndex(m=>m.name===ee.value.name);u>=0&&(te.value[u]=r,i.notify({type:"positive",message:`Replaced ${ee.value.name} with ${r.name}`,position:"top"})),Z.value=!1,ee.value=null},TeamArrangement:Go};return Object.defineProperty(Ql,"__isScriptSetup",{enumerable:!1,value:!0}),Ql}}),Yo={class:"header-section"},Xo={class:"container"},Zo={class:"row items-center justify-between"},$o={class:"col-auto"},en={class:"container q-pa-md"},tn={class:"row q-col-gutter-lg"},ln={class:"col-12 col-md-4"},an={class:"card-content"},on={class:"q-ml-sm text-grey-7"},nn={class:"q-ml-sm text-positive"},sn={class:"q-ml-sm text-negative"},rn={class:"row items-center q-gutter-xs"},un={key:1,class:"empty-state"},cn={class:"col-12 col-md-4"},dn={class:"queue-stats"},mn={class:"card-content"},fn={class:"q-ml-sm"},vn={class:"q-ml-sm text-grey-6"},gn={key:1,class:"empty-state"},hn={class:"q-mb-md"},yn={class:"row q-gutter-sm"},pn={class:"text-caption text-grey-6 q-mt-sm text-center"},bn={key:0,class:"q-mt-md"},wn={class:"text-caption text-orange q-mt-sm"},Sn={class:"col-12 col-md-4"},xn={class:"card-content"},Cn={class:"row items-center q-pa-sm"},_n={class:"col-auto q-mr-md"},kn={class:"col"},qn={key:0,class:"row items-center justify-center"},Pn={class:"col text-center"},Mn={class:"column items-center q-mb-xs"},Tn={class:"text-weight-medium text-center"},An={class:"col-auto"},Vn={class:"col text-center"},Bn={class:"column items-center q-mb-xs"},zn={class:"text-weight-medium text-center"},Ln={key:1,class:"row items-center justify-center"},En={class:"col text-center"},In={class:"text-weight-medium text-center"},Dn={class:"col-auto"},Fn={class:"col text-center"},On={class:"text-weight-medium text-center"},Rn={class:"col-auto q-ml-md"},Qn={key:1,class:"empty-state"},Hn={class:"q-mb-md q-pb-lg"},Nn={key:0,class:"q-gutter-y-md"},Wn={key:1,class:"q-gutter-y-md"},jn={key:0},Un={key:1},Kn={class:"text-subtitle2 q-mb-sm"},Gn={class:"q-gutter-y-md"},Jn={key:0,class:"row q-col-gutter-md"},Yn={class:"col-6"},Xn={class:"text-caption q-mt-sm"},Zn={class:"col-6"},$n={class:"text-caption q-mt-sm"},es={key:1,class:"row q-col-gutter-md"},ts={class:"col-6"},ls={class:"col-6"},as={class:"q-gutter-y-md"},os={class:"manual-selection-container"},ns={key:0,class:"selection-step"},ss={class:"text-h6 q-mb-md"},is={class:"text-caption text-grey-7 q-mb-md"},rs={class:"q-ml-sm text-grey-7"},us={class:"q-ml-sm text-positive"},cs={class:"q-ml-sm text-negative"},ds={key:1,class:"arrangement-step"},ms={key:2,class:"court-selection-step"},fs={class:"col"},vs={class:"text-caption text-grey-6"},gs={key:0},hs={key:0},ys={class:"text-h6 q-mb-md"},ps={class:"q-mb-lg"},bs={class:"text-subtitle2 q-mb-sm"},ws={class:"q-ml-sm text-grey-7"},Ss={class:"row items-center q-gutter-xs"},xs={key:0},Cs={class:"text-subtitle2 q-mb-sm"},_s={class:"q-ml-sm text-grey-7"},ks={key:0,class:"q-ml-sm text-orange"},qs={key:1,class:"text-center text-grey-6 q-pa-md"},Ps={key:1},Ms={class:"text-subtitle2 q-mb-md"},Ts={class:"q-ml-sm text-grey-7"},As={key:0,class:"q-ml-sm text-orange"},Vs={class:"q-gutter-y-md"};function Bs(e,l,i,t,d,c){return b(),K(To,{class:"doubles-queue-page"},{default:n(()=>[v("div",Yo,[v("div",Xo,[v("div",Zo,[l[40]||(l[40]=v("div",{class:"col"},[v("h1",{class:"text-h5 text-weight-bold text-white q-mb-xs"}," 🏓 Queue Master "),v("p",{class:"text-caption text-grey-1 q-ma-none"}," Smart matchmaking for singles & doubles ")],-1)),v("div",$o,[a(W,{color:"white",icon:"settings",label:"Settings",onClick:l[0]||(l[0]=o=>t.showSettingsDialog=!0),flat:"",size:"sm"},{default:n(()=>[a(ve,null,{default:n(()=>l[39]||(l[39]=[x("Open settings and preferences")])),_:1})]),_:1})])])])]),v("div",en,[v("div",tn,[v("div",ln,[a(Me,{class:"players-card",flat:"",bordered:""},{default:n(()=>[a(se,{class:"players-header text-white q-pa-none"},{default:n(()=>[a(Ke,{class:"q-pa-md"},{default:n(()=>[a(Ue,null,{default:n(()=>[a(Q,{name:"people",class:"q-mr-sm"}),x(" Players ("+k(t.players.length)+") ",1)]),_:1}),a(rt,{modelValue:t.sortBy,"onUpdate:modelValue":l[1]||(l[1]=o=>t.sortBy=o),options:t.sortOptions,dense:"",outlined:"",dark:"",color:"white","emit-value":"","map-options":"",style:{"min-width":"200px"}},{prepend:n(()=>[a(Q,{name:"sort"})]),_:1},8,["modelValue"]),a(W,{color:"white",onClick:l[2]||(l[2]=o=>t.showAddPlayerDialog=!0),icon:"person_add",flat:"",round:"",dense:""},{default:n(()=>[a(ve,null,{default:n(()=>l[41]||(l[41]=[x("Add new player to the system")])),_:1})]),_:1})]),_:1})]),_:1}),a(se,{class:"q-pa-none"},{default:n(()=>[v("div",an,[t.players.length>0?(b(),K(Oe,{key:0,separator:""},{default:n(()=>[(b(!0),j(_e,null,De(t.sortedPlayers,o=>(b(),K(ke,{key:o.name,class:"player-item"},{default:n(()=>[a(G,null,{default:n(()=>[a(ge,{class:"text-weight-medium"},{default:n(()=>[x(k(o.name),1)]),_:2},1024),a(ge,{caption:"",class:"q-pl-xs"},{default:n(()=>[a(re,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),v("span",on,"Games: "+k(o.gamesPlayed),1),v("span",nn,"W: "+k(o.wins),1),v("span",sn,"L: "+k(o.losses),1)]),_:2},1024)]),_:2},1024),a(G,{side:""},{default:n(()=>[v("div",rn,[a(W,{flat:"",round:"",color:"negative",onClick:f=>t.removePlayer(o.name),icon:"delete",size:"sm"},null,8,["onClick"]),a(W,{flat:"",color:"accent",onClick:f=>t.requeuePlayer(o.name),icon:"input",size:"sm",disable:t.queue.some(f=>f.name===o.name)},null,8,["onClick","disable"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(b(),j("div",un,[a(Q,{name:"people",size:"48px",color:"grey-4"}),l[42]||(l[42]=v("p",{class:"text-grey-6 q-mt-sm"},"No players added yet",-1)),l[43]||(l[43]=v("p",{class:"text-caption text-grey-5"},"Click the + button to add your first player",-1))]))])]),_:1})]),_:1})]),v("div",cn,[a(Me,{class:"queue-card",flat:"",bordered:""},{default:n(()=>[a(se,{class:"queue-header text-white q-pa-none"},{default:n(()=>[a(Ke,{class:"q-pa-md"},{default:n(()=>[a(Ue,null,{default:n(()=>[a(Q,{name:"queue",class:"q-mr-sm"}),x(" Players Queue ("+k(t.queue.length)+") ",1)]),_:1}),v("div",dn,[a(re,{label:`L1: ${t.queueStats.level1}`,color:"green-6","text-color":"white",size:"sm"},null,8,["label"]),a(re,{label:`L2: ${t.queueStats.level2}`,color:"orange-7","text-color":"white",size:"sm"},null,8,["label"]),a(re,{label:`L3: ${t.queueStats.level3}`,color:"red-8","text-color":"white",size:"sm"},null,8,["label"])])]),_:1})]),_:1}),a(se,{class:"q-pa-none"},{default:n(()=>[v("div",mn,[t.queue.length>0?(b(),K(Oe,{key:0,separator:""},{default:n(()=>[(b(!0),j(_e,null,De(t.queue,(o,f)=>(b(),K(ke,{key:o.name,class:"queue-item"},{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(It,{color:o.priority==="returned"?"warning":"accent","text-color":"white",size:"md"},{default:n(()=>[x(k(f+1)+" ",1),a(ve,null,{default:n(()=>[x(" Position: "+k(f+1)+" ",1),l[44]||(l[44]=v("br",null,null,-1)),x("Games: "+k(o.gamesPlayed)+" ",1),l[45]||(l[45]=v("br",null,null,-1)),x("Priority: "+k(o.priority||"normal"),1)]),_:2},1024)]),_:2},1032,["color"])]),_:2},1024),a(G,null,{default:n(()=>[a(ge,{class:"text-weight-medium"},{default:n(()=>[x(k(o.name)+" ",1),o.priority==="returned"?(b(),K(re,{key:0,label:"Returned",color:"warning","text-color":"white",size:"xs",dense:"",class:"q-ml-xs"})):he("",!0)]),_:2},1024),a(ge,{caption:"",class:"q-pl-xs"},{default:n(()=>[a(re,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),v("span",fn,k(o.gamesPlayed)+" games",1),v("span",vn,k(t.getQueueTimeInfo(o)),1)]),_:2},1024)]),_:2},1024),a(G,{side:""},{default:n(()=>[a(W,{flat:"",round:"",color:"negative",onClick:h=>t.removeFromQueue(o.name),icon:"remove_circle",size:"sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(b(),j("div",gn,[a(Q,{name:"queue",size:"48px",color:"grey-4"}),l[46]||(l[46]=v("p",{class:"text-grey-6 q-mt-sm"},"Queue is empty",-1)),l[47]||(l[47]=v("p",{class:"text-caption text-grey-5"},"Add players to start generating matches",-1))]))])]),_:1}),a(se,null,{default:n(()=>[v("div",hn,[l[48]||(l[48]=v("div",{class:"text-caption text-grey-7 q-mb-xs"},"Match Type",-1)),a(rt,{modelValue:t.matchType,"onUpdate:modelValue":l[3]||(l[3]=o=>t.matchType=o),options:t.matchTypeOptions,dense:"",outlined:"","emit-value":"","map-options":"",color:"accent"},{prepend:n(()=>[a(Q,{name:t.matchType==="singles"?"person":"people"},null,8,["name"])]),_:1},8,["modelValue"])]),v("div",yn,[a(W,{class:"col",color:"accent",onClick:t.generateNewMatches,size:"md",icon:"auto_awesome",disable:!t.canGenerateMatches()},{default:n(()=>[l[49]||(l[49]=v("span",{class:"gt-xs"},"Auto Generate",-1)),l[50]||(l[50]=v("span",{class:"lt-sm"},"Auto",-1)),t.canGenerateMatches()?he("",!0):(b(),K(ve,{key:0},{default:n(()=>[x(k(t.matchType==="singles"?"Need at least 2 players":"Need at least 4 players"),1)]),_:1}))]),_:1},8,["disable"]),a(W,{class:"col",color:"accent",onClick:t.startManualSelection,size:"md",icon:"touch_app",disable:t.queue.length<(t.matchType==="singles"?2:4),outline:""},{default:n(()=>[l[51]||(l[51]=v("span",{class:"gt-xs"},"Manual Selection",-1)),l[52]||(l[52]=v("span",{class:"lt-sm"},"Manual",-1)),t.queue.length<(t.matchType==="singles"?2:4)?(b(),K(ve,{key:0},{default:n(()=>[x(k(t.matchType==="singles"?"Need at least 2 players for manual singles selection":"Need at least 4 players for manual doubles selection"),1)]),_:1})):he("",!0)]),_:1},8,["disable"])]),v("div",pn,k(t.getMatchGenerationHint()),1),t.queue.length>0&&t.queue.length%(t.matchType==="singles"?2:4)!==0?(b(),j("div",bn,[a(Fe),v("div",wn,[a(Q,{name:"schedule",size:"xs",class:"q-mr-xs"}),x(" "+k(t.getWaitingPlayersInfo()),1)])])):he("",!0)]),_:1})]),_:1})]),v("div",Sn,[a(Me,{class:"matches-card",flat:"",bordered:""},{default:n(()=>[a(se,{class:"matches-header text-white q-pa-none"},{default:n(()=>[a(Ke,{class:"q-pa-md"},{default:n(()=>[a(Ue,null,{default:n(()=>[a(Q,{name:"sports_tennis",class:"q-mr-sm"}),x(" Matches ("+k(t.filteredMatches.length)+") ",1)]),_:1}),a(rt,{modelValue:t.matchesFilterBy,"onUpdate:modelValue":l[4]||(l[4]=o=>t.matchesFilterBy=o),options:t.matchesFilterOptions,dense:"",outlined:"",dark:"",color:"white","emit-value":"","map-options":"",style:{"min-width":"150px"}},{prepend:n(()=>[a(Q,{name:"filter_list"})]),_:1},8,["modelValue","options"])]),_:1})]),_:1}),a(se,{class:"q-pa-none"},{default:n(()=>[v("div",xn,[t.filteredMatches.length>0?(b(),K(Oe,{key:0,separator:""},{default:n(()=>[(b(!0),j(_e,null,De(t.filteredMatches,(o,f)=>(b(),K(ke,{key:o.id,class:"match-item"},{default:n(()=>[a(G,null,{default:n(()=>[v("div",Cn,[v("div",_n,[a(re,{color:t.getMatchStatusColor(o.status),"text-color":"white",size:"sm",dense:""},{default:n(()=>[x(k(t.getMatchStatusLabel(o.status)),1)]),_:2},1032,["color"])]),v("div",kn,[o.players.length===2?(b(),j("div",qn,[v("div",Pn,[v("div",Mn,[v("span",Tn,k(o.players[0].name),1),a(re,{label:`L${o.players[0].level}`,color:t.getLevelColor(o.players[0].level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"])])]),v("div",An,[a(Q,{name:"sports_tennis",color:"grey-6",size:"sm",class:"q-mx-md"})]),v("div",Vn,[v("div",Bn,[v("span",zn,k(o.players[1].name),1),a(re,{label:`L${o.players[1].level}`,color:t.getLevelColor(o.players[1].level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"])])])])):(b(),j("div",Ln,[v("div",En,[(b(!0),j(_e,null,De(o.players.slice(0,2),h=>(b(),j("div",{key:h.name,class:"column items-center q-mb-xs"},[v("span",In,k(h.name),1),a(re,{label:`L${h.level}`,color:t.getLevelColor(h.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"])]))),128))]),v("div",Dn,[a(Q,{name:"sports_tennis",color:"grey-6",size:"sm",class:"q-mx-md"})]),v("div",Fn,[(b(!0),j(_e,null,De(o.players.slice(2,4),h=>(b(),j("div",{key:h.name,class:"column items-center q-mb-xs"},[v("span",On,k(h.name),1),a(re,{label:`L${h.level}`,color:t.getLevelColor(h.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"])]))),128))])]))]),v("div",Rn,[o.court?(b(),K(re,{key:0,color:"blue-grey-6","text-color":"white",size:"sm",dense:""},{default:n(()=>[x(" Court "+k(o.court),1)]),_:2},1024)):he("",!0)])])]),_:2},1024),a(G,{side:""},{default:n(()=>[a(W,{color:"grey-7",icon:"more_vert",flat:"",round:"",size:"sm"},{default:n(()=>[a(Sa,null,{default:n(()=>[a(Oe,{style:{"min-width":"150px"}},{default:n(()=>[o.status==="in-progress"?(b(),K(ke,{key:0,clickable:"",onClick:h=>t.openMatchResultDialog(f)},{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(Q,{name:"emoji_events"})]),_:1}),a(G,null,{default:n(()=>l[53]||(l[53]=[x("Complete Match")])),_:1})]),_:2},1032,["onClick"])):he("",!0),a(ke,{clickable:"",onClick:h=>t.editMatch(f)},{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(Q,{name:"edit"})]),_:1}),a(G,null,{default:n(()=>l[54]||(l[54]=[x("Edit Match")])),_:1})]),_:2},1032,["onClick"]),!o.court&&t.getCourtCount()>0?(b(),K(ke,{key:1,clickable:"",onClick:h=>t.openCourtSelectionDialog(f)},{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(Q,{name:"sports_tennis"})]),_:1}),a(G,null,{default:n(()=>l[55]||(l[55]=[x("Assign Court")])),_:1})]),_:2},1032,["onClick"])):he("",!0),o.court?(b(),K(ke,{key:2,clickable:"",onClick:h=>t.openCourtSelectionDialog(f)},{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(Q,{name:"swap_horiz"})]),_:1}),a(G,null,{default:n(()=>l[56]||(l[56]=[x("Change Court")])),_:1})]),_:2},1032,["onClick"])):he("",!0),a(Fe),a(ke,{clickable:"",onClick:h=>t.cancelMatch(f),class:"text-negative"},{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(Q,{name:"cancel"})]),_:1}),a(G,null,{default:n(()=>l[57]||(l[57]=[x("Cancel Match")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(b(),j("div",Qn,[a(Q,{name:"sports_tennis",size:"48px",color:"grey-4"}),l[58]||(l[58]=v("p",{class:"text-grey-6 q-mt-sm"},"No active matches",-1)),l[59]||(l[59]=v("p",{class:"text-caption text-grey-5"},"Generate matches from the queue to get started",-1))]))])]),_:1})]),_:1})])])]),a(ut,{modelValue:t.showAddPlayerDialog,"onUpdate:modelValue":l[11]||(l[11]=o=>t.showAddPlayerDialog=o),maximized:t.$q.screen.lt.md},{default:n(()=>[a(Me,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(se,{class:"players-header text-white q-pa-none"},{default:n(()=>[a(Ke,{class:"q-pa-md"},{default:n(()=>[a(Ue,null,{default:n(()=>[a(Q,{name:"person_add",class:"q-mr-sm"}),l[60]||(l[60]=x(" Add New Player "))]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(se,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[v("div",Hn,[a(Po,{modelValue:t.bulkImportMode,"onUpdate:modelValue":l[5]||(l[5]=o=>t.bulkImportMode=o),options:[{label:"Single Player",value:!1,icon:"person"},{label:"Bulk Import",value:!0,icon:"group_add"}],color:"grey-5","toggle-color":"accent",spread:"",class:"full-width"},null,8,["modelValue"])]),t.bulkImportMode?(b(),j("div",Wn,[v("div",null,[a(jl,{modelValue:t.bulkPlayerText,"onUpdate:modelValue":[l[8]||(l[8]=o=>t.bulkPlayerText=o),t.parseBulkPlayers],label:"Player Names (one per line, or separated by commas/semicolons)",type:"textarea",outlined:"",rows:"6",placeholder:`Enter player names separated by newlines, commas, or semicolons

Example:
John Smith
Jane Doe
Bob Wilson

Or: John Smith, Jane Doe, Bob Wilson`},{prepend:n(()=>[a(Q,{name:"group_add"})]),_:1},8,["modelValue"])]),t.bulkPlayers.length>0?(b(),j("div",jn,[a(rt,{modelValue:t.bulkDefaultLevel,"onUpdate:modelValue":[l[9]||(l[9]=o=>t.bulkDefaultLevel=o),t.updateAllBulkLevels],options:t.levelOptions,label:"Default Level for All Players",outlined:"",dense:"","emit-value":"","map-options":""},{prepend:n(()=>[a(Q,{name:"star"})]),_:1},8,["modelValue"])])):he("",!0),t.bulkPlayers.length>0?(b(),j("div",Un,[v("div",Kn,[a(Q,{name:"preview",class:"q-mr-xs"}),x(" Preview ("+k(t.bulkPlayers.length)+" players) ",1)]),a(Oe,{bordered:"",separator:""},{default:n(()=>[(b(!0),j(_e,null,De(t.bulkPlayers,(o,f)=>(b(),K(ke,{key:f,class:"q-pa-sm"},{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(It,{color:t.getLevelColor(o.level),"text-color":"white",size:"sm"},{default:n(()=>[x(k(o.name.charAt(0).toUpperCase()),1)]),_:2},1032,["color"])]),_:2},1024),a(G,null,{default:n(()=>[a(ge,{class:"text-weight-medium"},{default:n(()=>[x(k(o.name),1)]),_:2},1024),a(ge,{caption:""},{default:n(()=>[x("Level "+k(o.level),1)]),_:2},1024)]),_:2},1024),a(G,{side:""},{default:n(()=>[a(rt,{modelValue:t.bulkPlayers[f].level,"onUpdate:modelValue":h=>t.bulkPlayers[f].level=h,options:t.levelOptions,dense:"",outlined:"","emit-value":"","map-options":"",style:{"min-width":"120px"}},{prepend:n(()=>[a(Q,{name:t.getLevelIcon(o.level),color:t.getLevelColor(o.level),size:"xs"},null,8,["name","color"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):he("",!0)])):(b(),j("div",Nn,[a(jl,{modelValue:t.newPlayerName,"onUpdate:modelValue":l[6]||(l[6]=o=>t.newPlayerName=o),label:"Player Name",type:"text",onKeyup:io(t.addNewPlayer,["enter"]),rules:[o=>!!o?.trim()||"Player name is required"],outlined:"",dense:"",autofocus:""},{prepend:n(()=>[a(Q,{name:"person"})]),_:1},8,["modelValue","rules"]),a(rt,{modelValue:t.newPlayerLevel,"onUpdate:modelValue":l[7]||(l[7]=o=>t.newPlayerLevel=o),options:t.levelOptions,label:"Player Level",rules:[o=>o!==null||"Player level is required"],outlined:"",dense:"","emit-value":"","map-options":""},{prepend:n(()=>[a(Q,{name:"star"})]),option:n(o=>[a(ke,ro(uo(o.itemProps)),{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(Q,{name:t.getLevelIcon(o.opt.value),color:t.getLevelColor(o.opt.value)},null,8,["name","color"])]),_:2},1024),a(G,null,{default:n(()=>[a(ge,null,{default:n(()=>[x(k(o.opt.label),1)]),_:2},1024),a(ge,{caption:""},{default:n(()=>[x(k(o.opt.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","rules"])]))]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:n(()=>[a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[10]||(l[10]=o=>t.showAddPlayerDialog=!1)},{default:n(()=>[a(ve,null,{default:n(()=>l[61]||(l[61]=[x("Cancel adding new player")])),_:1})]),_:1}),t.bulkImportMode?(b(),K(W,{key:1,color:"accent",onClick:t.addBulkPlayers,label:"Import All Players",disable:t.bulkPlayers.length===0,icon:"group_add"},{default:n(()=>[a(ve,null,{default:n(()=>[x("Import all "+k(t.bulkPlayers.length)+" players to the system",1)]),_:1})]),_:1},8,["disable"])):(b(),K(W,{key:0,color:"accent",onClick:t.addNewPlayer,label:"Add Player",disable:!t.newPlayerName?.trim()||t.newPlayerLevel===null,icon:"add"},{default:n(()=>[a(ve,null,{default:n(()=>l[62]||(l[62]=[x("Add this player to the system")])),_:1})]),_:1},8,["disable"]))]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ut,{modelValue:t.showMatchResultDialog,"onUpdate:modelValue":l[17]||(l[17]=o=>t.showMatchResultDialog=o),maximized:t.$q.screen.lt.md},{default:n(()=>[a(Me,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(se,{class:"matches-header text-white q-pa-none"},{default:n(()=>[a(Ke,{class:"q-pa-md"},{default:n(()=>[a(Ue,null,{default:n(()=>[a(Q,{name:"emoji_events",class:"q-mr-sm"}),l[63]||(l[63]=x(" Match Result "))]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(se,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[v("div",Gn,[l[66]||(l[66]=v("div",{class:"text-subtitle1 text-center q-mb-md"},"Who won this match?",-1)),t.currentMatch.length===2?(b(),j("div",Jn,[v("div",Yn,[a(Me,{class:We([t.selectedWinner==="team1"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[12]||(l[12]=o=>t.selectedWinner="team1"),flat:"",bordered:""},{default:n(()=>[a(se,{class:"text-center"},{default:n(()=>[a(re,{label:t.currentMatch[0].name,color:t.getLevelColor(t.currentMatch[0].level),"text-color":"white",size:"md"},null,8,["label","color"]),v("div",Xn,"Level "+k(t.currentMatch[0].level),1)]),_:1})]),_:1},8,["class"])]),v("div",Zn,[a(Me,{class:We([t.selectedWinner==="team2"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[13]||(l[13]=o=>t.selectedWinner="team2"),flat:"",bordered:""},{default:n(()=>[a(se,{class:"text-center"},{default:n(()=>[a(re,{label:t.currentMatch[1].name,color:t.getLevelColor(t.currentMatch[1].level),"text-color":"white",size:"md"},null,8,["label","color"]),v("div",$n,"Level "+k(t.currentMatch[1].level),1)]),_:1})]),_:1},8,["class"])])])):(b(),j("div",es,[v("div",ts,[a(Me,{class:We([t.selectedWinner==="team1"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[14]||(l[14]=o=>t.selectedWinner="team1"),flat:"",bordered:""},{default:n(()=>[a(se,{class:"text-center"},{default:n(()=>[l[64]||(l[64]=v("div",{class:"text-weight-medium q-mb-sm"},"Team 1",-1)),a(re,{label:t.currentMatch[0].name,color:t.getLevelColor(t.currentMatch[0].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),a(re,{label:t.currentMatch[1].name,color:t.getLevelColor(t.currentMatch[1].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])]),v("div",ls,[a(Me,{class:We([t.selectedWinner==="team2"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[15]||(l[15]=o=>t.selectedWinner="team2"),flat:"",bordered:""},{default:n(()=>[a(se,{class:"text-center"},{default:n(()=>[l[65]||(l[65]=v("div",{class:"text-weight-medium q-mb-sm"},"Team 2",-1)),a(re,{label:t.currentMatch[2].name,color:t.getLevelColor(t.currentMatch[2].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),a(re,{label:t.currentMatch[3].name,color:t.getLevelColor(t.currentMatch[3].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])])]))])]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:n(()=>[a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[16]||(l[16]=o=>t.showMatchResultDialog=!1)}),a(W,{color:"accent",onClick:t.completeMatch,label:"Complete Match",disable:t.selectedWinner===null,icon:"check"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ut,{modelValue:t.showSettingsDialog,"onUpdate:modelValue":l[24]||(l[24]=o=>t.showSettingsDialog=o),maximized:t.$q.screen.lt.md},{default:n(()=>[a(Me,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(se,{class:"queue-header text-white q-pa-none"},{default:n(()=>[a(Ke,{class:"q-pa-md"},{default:n(()=>[a(Ue,null,{default:n(()=>[a(Q,{name:"settings",class:"q-mr-sm"}),l[67]||(l[67]=x(" Settings "))]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(se,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[v("div",as,[v("div",null,[l[68]||(l[68]=v("div",{class:"text-subtitle2 q-mb-sm"},"Queue Management",-1)),a(rt,{modelValue:t.queueReturnMethod,"onUpdate:modelValue":l[18]||(l[18]=o=>t.queueReturnMethod=o),options:t.queueReturnOptions,label:"Default method for returning players to queue",outlined:"",dense:""},null,8,["modelValue"])]),v("div",null,[a(ql,{modelValue:t.autoSortQueue,"onUpdate:modelValue":l[19]||(l[19]=o=>t.autoSortQueue=o),label:"Automatically sort queue by fairness",color:"accent"},null,8,["modelValue"])]),a(Fe),v("div",null,[l[69]||(l[69]=v("div",{class:"text-subtitle2 q-mb-sm"},"Court Management",-1)),a(rt,{modelValue:t.availableCourts,"onUpdate:modelValue":l[20]||(l[20]=o=>t.availableCourts=o),options:t.courtOptions,label:"Number of available courts",outlined:"",dense:""},null,8,["modelValue","options"]),a(ql,{modelValue:t.autoAssignCourts,"onUpdate:modelValue":l[21]||(l[21]=o=>t.autoAssignCourts=o),label:"Automatically assign courts to matches",color:"accent",class:"q-mt-sm"},null,8,["modelValue"]),a(ql,{modelValue:t.autoAdvanceMatches,"onUpdate:modelValue":l[22]||(l[22]=o=>t.autoAdvanceMatches=o),label:"Automatically start next match when one completes",color:"accent",class:"q-mt-sm"},null,8,["modelValue"])]),a(Fe),v("div",null,[a(W,{color:"accent",onClick:t.resetGamesPlayed,icon:"refresh",label:"Reset Games Played",class:"full-width"})]),v("div",null,[a(W,{color:"negative",onClick:t.resetAllData,icon:"delete_forever",label:"Reset All Data",class:"full-width"})])])]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:n(()=>[a(W,{flat:"",label:"Close",color:"grey",onClick:l[23]||(l[23]=o=>t.showSettingsDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ut,{modelValue:t.showManualSelectionDialog,"onUpdate:modelValue":l[29]||(l[29]=o=>t.showManualSelectionDialog=o),maximized:t.$q.screen.lt.md,"transition-show":"slide-up","transition-hide":"slide-down"},{default:n(()=>[a(Me,{class:"bg-white",style:{"max-width":"700px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(se,{class:"players-header text-white q-pa-none"},{default:n(()=>[a(Ke,{class:"q-pa-md"},{default:n(()=>[a(Ue,null,{default:n(()=>[a(Q,{name:"touch_app",class:"q-mr-sm"}),x(" "+k(t.matchType==="singles"?"Singles":"Doubles")+" Match Selection ",1)]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(se,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[v("div",os,[t.manualSelectionStep===1?(b(),j("div",ns,[v("div",ss,"Step 1: Select "+k(t.matchType==="singles"?"2":"4")+" Players",1),v("div",is," Click on players to select them for the match ("+k(t.selectedPlayers.length)+"/"+k(t.matchType==="singles"?2:4)+" selected) ",1),a(Oe,{separator:"",bordered:"",class:"rounded-borders"},{default:n(()=>[(b(!0),j(_e,null,De(t.queue,o=>(b(),K(ke,{key:o.name,clickable:"",onClick:f=>t.togglePlayerSelection(o),class:We([{"selected-player":t.isPlayerSelected(o)},"player-selection-item"])},{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(co,{"model-value":t.isPlayerSelected(o),color:"accent",onClick:mo(f=>t.togglePlayerSelection(o),["stop"])},null,8,["model-value","onClick"])]),_:2},1024),a(G,null,{default:n(()=>[a(ge,{class:"text-weight-medium"},{default:n(()=>[x(k(o.name),1)]),_:2},1024),a(ge,{caption:"",class:"q-pl-xs"},{default:n(()=>[a(re,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),v("span",rs,"Games: "+k(o.gamesPlayed),1),v("span",us,"W: "+k(o.wins),1),v("span",cs,"L: "+k(o.losses),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})])):he("",!0),t.manualSelectionStep===2?(b(),j("div",ds,[l[70]||(l[70]=v("div",{class:"text-h6 q-mb-md"},"Step 2: Arrange Teams",-1)),a(t.TeamArrangement,{team1:t.manualTeam1,"onUpdate:team1":l[25]||(l[25]=o=>t.manualTeam1=o),team2:t.manualTeam2,"onUpdate:team2":l[26]||(l[26]=o=>t.manualTeam2=o),"create-balanced-match":t.createBalancedMatch},null,8,["team1","team2"])])):he("",!0),t.manualSelectionStep===3?(b(),j("div",ms,[l[73]||(l[73]=v("div",{class:"text-h6 q-mb-md"},"Step 3: Select Court",-1)),l[74]||(l[74]=v("div",{class:"text-caption text-grey-7 q-mb-md"}," Choose how to assign a court for this match ",-1)),a(Me,{flat:"",bordered:"",class:We(["cursor-pointer q-mb-md primary-court-option",{selected:t.selectedCourt===null}]),onClick:t.selectAutoCourt},{default:n(()=>[a(se,{class:"row items-center"},{default:n(()=>[a(Q,{name:"auto_awesome",color:"accent",size:"md",class:"q-mr-md"}),v("div",fs,[l[71]||(l[71]=v("div",{class:"text-weight-medium"},"Auto-Assign Court",-1)),v("div",vs,k(t.getAutoAssignDescription()),1)]),t.selectedCourt===null?(b(),K(Q,{key:0,name:"check_circle",color:"accent"})):(b(),K(Q,{key:1,name:"radio_button_unchecked",color:"grey-6"}))]),_:1})]),_:1},8,["class"]),a(W,{flat:"",color:"primary",icon:"sports_tennis",onClick:t.toggleManualSelection,class:"q-mb-md"},{default:n(()=>[a(Q,{name:"sports_tennis",class:"q-mr-xs"}),x(" "+k(t.showManualSelection?"Hide":"Choose")+" Specific Court ",1)]),_:1}),a(Mo,null,{default:n(()=>[t.showManualSelection?(b(),j("div",gs,[a(Fe,{class:"q-mb-md"}),l[72]||(l[72]=v("div",{class:"text-subtitle2 q-mb-sm"},"Select Court",-1)),a(Oe,{separator:""},{default:n(()=>[(b(!0),j(_e,null,De(t.courtSelectionOptions,o=>(b(),K(ke,{key:o.value,clickable:"",onClick:f=>t.selectSpecificCourt(o.value),class:We({"selected-court":t.selectedCourt===o.value})},{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(It,{color:t.selectedCourt===o.value?"accent":"blue-6","text-color":"white"},{default:n(()=>[x(k(o.value),1)]),_:2},1032,["color"])]),_:2},1024),a(G,null,{default:n(()=>[a(ge,null,{default:n(()=>[x("Court "+k(o.value),1)]),_:2},1024),a(ge,{caption:""},{default:n(()=>[x(k(t.getCourtMatchCount(o.value))+" matches ",1)]),_:2},1024)]),_:2},1024),t.selectedCourt===o.value?(b(),K(G,{key:0,side:""},{default:n(()=>[a(Q,{name:"check_circle",color:"accent"})]),_:1})):(b(),K(G,{key:1,side:""},{default:n(()=>[a(Q,{name:"radio_button_unchecked",color:"grey-6"})]),_:1}))]),_:2},1032,["onClick","class"]))),128))]),_:1})])):he("",!0)]),_:1})])):he("",!0)])]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:n(()=>[t.manualSelectionStep===1?(b(),j(_e,{key:0},[a(W,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),t.matchType==="doubles"?(b(),K(W,{key:0,color:"accent",label:"Next: Arrange Teams","icon-right":"arrow_forward",onClick:t.proceedToTeamArrangement,disable:t.selectedPlayers.length!==4},null,8,["disable"])):(b(),K(W,{key:1,color:"accent",label:"Next: Select Court",icon:"sports_tennis",onClick:t.proceedToCourtSelection,disable:t.selectedPlayers.length!==2},null,8,["disable"]))],64)):t.manualSelectionStep===2?(b(),j(_e,{key:1},[a(W,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[27]||(l[27]=()=>{t.manualSelectionStep=1,t.selectedForSwap=null,t.selectedForSwapTeam=null})}),a(W,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),a(W,{color:"accent",label:"Next: Select Court",icon:"sports_tennis",onClick:t.proceedToCourtSelectionFromTeams,disable:t.manualTeam1.length!==2||t.manualTeam2.length!==2},null,8,["disable"])],64)):t.manualSelectionStep===3?(b(),j(_e,{key:2},[a(W,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[28]||(l[28]=()=>{t.manualSelectionStep=t.matchType==="doubles"?2:1})}),a(W,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),a(W,{color:"accent",label:"Create Match",icon:"check",onClick:t.createManualMatchWithCourt})],64)):he("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ut,{modelValue:t.showMatchEditDialog,"onUpdate:modelValue":l[34]||(l[34]=o=>t.showMatchEditDialog=o),maximized:t.$q.screen.lt.md},{default:n(()=>[a(Me,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(se,{class:"matches-header text-white q-pa-none"},{default:n(()=>[a(Ke,{class:"q-pa-md"},{default:n(()=>[a(Ue,null,{default:n(()=>[a(Q,{name:"edit",class:"q-mr-sm"}),l[75]||(l[75]=x(" Edit Match "))]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(se,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[t.manualSelectionStep===1?(b(),j("div",hs,[v("div",ys,[l[76]||(l[76]=x(" Step 1: Manage Players ")),a(re,{label:t.currentMatchType==="singles"?"Singles Match":"Doubles Match",color:t.currentMatchType==="singles"?"blue":"green","text-color":"white",size:"sm",class:"q-ml-sm"},null,8,["label","color"])]),v("div",ps,[v("div",bs,[x(" Current Players ("+k(t.selectedPlayers.length)+") ",1),t.selectedPlayers.length<2?(b(),K(re,{key:0,color:"orange","text-color":"white",size:"sm",class:"q-ml-sm"},{default:n(()=>l[77]||(l[77]=[x(" Need at least 2 players ")])),_:1})):he("",!0)]),a(Oe,{bordered:"",separator:""},{default:n(()=>[(b(!0),j(_e,null,De(t.selectedPlayers,o=>(b(),K(ke,{key:o.name,class:"player-edit-item"},{default:n(()=>[a(G,null,{default:n(()=>[a(ge,{class:"text-weight-medium"},{default:n(()=>[x(k(o.name),1)]),_:2},1024),a(ge,{caption:"",class:"q-pl-xs"},{default:n(()=>[a(re,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),v("span",ws,"Games: "+k(o.gamesPlayed),1)]),_:2},1024)]),_:2},1024),a(G,{side:""},{default:n(()=>[v("div",Ss,[a(W,{flat:"",round:"",color:"negative",icon:"remove_circle",size:"sm",onClick:f=>t.removePlayerFromEdit(o),disable:t.selectedPlayers.length<=1},{default:n(()=>[a(ve,null,{default:n(()=>l[78]||(l[78]=[x("Remove from match")])),_:1})]),_:2},1032,["onClick","disable"]),a(W,{flat:"",round:"",color:"accent",icon:"swap_horiz",size:"sm",onClick:f=>t.replacePlayerInEdit(o),disable:t.availableQueuePlayers.length===0},{default:n(()=>[a(ve,null,{default:n(()=>l[79]||(l[79]=[x("Replace with another player")])),_:1})]),_:2},1032,["onClick","disable"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),t.availableQueuePlayers.length>0?(b(),j("div",xs,[v("div",Cs,[l[80]||(l[80]=x(" Add Players from Queue ")),a(re,{label:`${t.availableQueuePlayers.length} available`,color:"grey-5","text-color":"white",size:"sm",class:"q-ml-sm"},null,8,["label"])]),a(Oe,{bordered:"",separator:""},{default:n(()=>[(b(!0),j(_e,null,De(t.availableQueuePlayers,o=>(b(),K(ke,{key:o.name,clickable:"",class:"player-edit-item",onClick:f=>t.addPlayerToEdit(o),disable:t.selectedPlayers.length>=4},{default:n(()=>[a(G,null,{default:n(()=>[a(ge,{class:"text-weight-medium"},{default:n(()=>[x(k(o.name),1)]),_:2},1024),a(ge,{caption:"",class:"q-pl-xs"},{default:n(()=>[a(re,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),v("span",_s,"Games: "+k(o.gamesPlayed),1),o.priority==="returned"?(b(),j("span",ks,"(Returned)")):he("",!0)]),_:2},1024)]),_:2},1024),a(G,{side:""},{default:n(()=>[a(W,{flat:"",round:"",color:"accent",icon:"add_circle",size:"sm",disable:t.selectedPlayers.length>=4},{default:n(()=>[a(ve,null,{default:n(()=>l[81]||(l[81]=[x("Add to match")])),_:1})]),_:1},8,["disable"])]),_:1})]),_:2},1032,["onClick","disable"]))),128))]),_:1})])):(b(),j("div",qs,[a(Q,{name:"people_outline",size:"48px",color:"grey-4"}),l[82]||(l[82]=v("p",{class:"q-mt-sm"},"No players available in queue",-1)),l[83]||(l[83]=v("p",{class:"text-caption"},"All players are already in matches",-1))]))])):he("",!0),t.manualSelectionStep===2&&t.currentMatchType==="doubles"?(b(),j("div",Ps,[l[84]||(l[84]=v("div",{class:"text-h6 q-mb-md"},"Step 2: Arrange Teams",-1)),a(t.TeamArrangement,{team1:t.manualTeam1,"onUpdate:team1":l[30]||(l[30]=o=>t.manualTeam1=o),team2:t.manualTeam2,"onUpdate:team2":l[31]||(l[31]=o=>t.manualTeam2=o),"create-balanced-match":t.createBalancedMatch},null,8,["team1","team2"])])):he("",!0)]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:n(()=>[t.manualSelectionStep===1?(b(),j(_e,{key:0},[t.selectedPlayers.length===4?(b(),K(W,{key:0,color:"accent",label:"Next: Arrange Teams","icon-right":"arrow_forward",onClick:t.proceedToTeamArrangement},{default:n(()=>[a(ve,null,{default:n(()=>l[85]||(l[85]=[x("Proceed to team arrangement")])),_:1})]),_:1})):(b(),K(W,{key:1,color:"accent",label:"Save Changes",icon:"save",onClick:t.saveMatchEdit,disable:t.selectedPlayers.length<2},{default:n(()=>[t.selectedPlayers.length<2?(b(),K(ve,{key:0},{default:n(()=>l[86]||(l[86]=[x(" Need at least 2 players to save match ")])),_:1})):(b(),K(ve,{key:1},{default:n(()=>l[87]||(l[87]=[x(" Save match changes ")])),_:1}))]),_:1},8,["disable"]))],64)):t.manualSelectionStep===2?(b(),j(_e,{key:1},[a(W,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[32]||(l[32]=()=>{t.manualSelectionStep=1,t.selectedForSwap=null,t.selectedForSwapTeam=null})}),a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[33]||(l[33]=o=>t.showMatchEditDialog=!1)}),a(W,{color:"accent",label:"Save Changes",icon:"check",onClick:t.saveMatchEdit,disable:t.selectedPlayers.length<2||t.selectedPlayers.length>4},{default:n(()=>[t.selectedPlayers.length<2?(b(),K(ve,{key:0},{default:n(()=>l[88]||(l[88]=[x(" Need at least 2 players to save match ")])),_:1})):t.selectedPlayers.length>4?(b(),K(ve,{key:1},{default:n(()=>l[89]||(l[89]=[x(" Maximum 4 players allowed for tennis matches ")])),_:1})):(b(),K(ve,{key:2},{default:n(()=>l[90]||(l[90]=[x(" Save match changes ")])),_:1}))]),_:1},8,["disable"])],64)):he("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ut,{modelValue:t.showReplacePlayerDialog,"onUpdate:modelValue":l[36]||(l[36]=o=>t.showReplacePlayerDialog=o),maximized:t.$q.screen.lt.md},{default:n(()=>[a(Me,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(se,{class:"players-header text-white q-pa-none"},{default:n(()=>[a(Ke,{class:"q-pa-md"},{default:n(()=>[a(Ue,null,{default:n(()=>[a(Q,{name:"swap_horiz",class:"q-mr-sm"}),l[91]||(l[91]=x(" Replace Player "))]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(se,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[v("div",Ms,[l[92]||(l[92]=x(" Choose a player to replace ")),v("strong",null,k(t.playerToReplaceInEdit?.name),1),l[93]||(l[93]=x(" with: "))]),a(Oe,{bordered:"",separator:""},{default:n(()=>[(b(!0),j(_e,null,De(t.availableQueuePlayers,o=>(b(),K(ke,{key:o.name,clickable:"",class:"player-edit-item",onClick:f=>t.selectReplacementPlayer(o)},{default:n(()=>[a(G,null,{default:n(()=>[a(ge,{class:"text-weight-medium"},{default:n(()=>[x(k(o.name),1)]),_:2},1024),a(ge,{caption:"",class:"q-pl-xs"},{default:n(()=>[a(re,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),v("span",Ts,"Games: "+k(o.gamesPlayed),1),o.priority==="returned"?(b(),j("span",As,"(Returned)")):he("",!0)]),_:2},1024)]),_:2},1024),a(G,{side:""},{default:n(()=>[a(W,{flat:"",round:"",color:"accent",icon:"swap_horiz",size:"sm"},{default:n(()=>[a(ve,null,{default:n(()=>[x("Click to replace "+k(t.playerToReplaceInEdit?.name)+" with "+k(o.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:n(()=>[a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[35]||(l[35]=o=>t.showReplacePlayerDialog=!1)},{default:n(()=>[a(ve,null,{default:n(()=>l[94]||(l[94]=[x("Cancel player replacement")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ut,{modelValue:t.showCourtSelectionDialog,"onUpdate:modelValue":l[38]||(l[38]=o=>t.showCourtSelectionDialog=o),maximized:t.$q.screen.lt.md},{default:n(()=>[a(Me,{class:"bg-white",style:{"max-width":"500px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(se,{class:"queue-header text-white q-pa-none"},{default:n(()=>[a(Ke,{class:"q-pa-md"},{default:n(()=>[a(Ue,null,{default:n(()=>[a(Q,{name:"sports_tennis",class:"q-mr-sm"}),l[95]||(l[95]=x(" Assign Court "))]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(se,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[v("div",Vs,[l[97]||(l[97]=v("div",{class:"text-subtitle2 q-mb-sm"},"Select Court",-1)),a(Me,{flat:"",bordered:"",class:"cursor-pointer",onClick:t.assignCourtAutomatically},{default:n(()=>[a(se,{class:"row items-center"},{default:n(()=>[a(Q,{name:"auto_awesome",color:"accent",size:"md",class:"q-mr-md"}),l[96]||(l[96]=v("div",{class:"col"},[v("div",{class:"text-weight-medium"},"Auto-Assign"),v("div",{class:"text-caption text-grey-6"},"Automatically assign next available court")],-1)),a(Q,{name:"arrow_forward",color:"grey-6"})]),_:1})]),_:1}),a(Fe),l[98]||(l[98]=v("div",{class:"text-subtitle2 q-mb-sm"},"Manual Selection",-1)),a(Oe,{separator:""},{default:n(()=>[(b(!0),j(_e,null,De(t.courtSelectionOptions,o=>(b(),K(ke,{key:o.value,clickable:"",onClick:f=>t.assignSpecificCourt(o.value)},{default:n(()=>[a(G,{avatar:""},{default:n(()=>[a(It,{color:"accent","text-color":"white"},{default:n(()=>[x(k(o.value),1)]),_:2},1024)]),_:2},1024),a(G,null,{default:n(()=>[a(ge,null,{default:n(()=>[x("Court "+k(o.value),1)]),_:2},1024),a(ge,{caption:""},{default:n(()=>[x(k(t.getCourtMatchCount(o.value))+" matches ",1)]),_:2},1024)]),_:2},1024),a(G,{side:""},{default:n(()=>[a(Q,{name:"check_circle",color:"green-6"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:n(()=>[a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[37]||(l[37]=o=>t.showCourtSelectionDialog=!1)},{default:n(()=>[a(ve,null,{default:n(()=>l[99]||(l[99]=[x("Cancel court assignment")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])]),_:1})}const Os=ga(Jo,[["render",Bs],["__file","IndexPage.vue"]]);export{Os as default};
