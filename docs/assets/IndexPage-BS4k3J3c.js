import{c as Oe,a0 as tl,a1 as bl,a2 as Sl,a3 as wl,B as Ft,a4 as Kl,D as Ot,a5 as Ul,f as k,I as Gl,g as Qe,h as E,a6 as G,a7 as Xl,a8 as Yl,z as Fe,a9 as Jl,aa as Zl,r as B,ab as It,j as $l,J as gt,u as kt,b as We,s as Tt,w as xe,o as ea,a as lt,y as Yt,l as Jt,ac as sl,p as ta,R as la,A as pl,ad as Mt,N as xl,C as _l,ae as kl,E as Cl,af as ql,F as Pl,ag as Ml,ah as aa,x as na,ai as oa,aj as ul,O as Tl,ak as ia,al as Vl,am as sa,an as ua,ao as ra,n as ca,ap as da,aq as fa,ar as va,as as ma,at as ga,au as ha,av as rl,aw as pt,ax as ya,ay as ba,az as Sa,v as rt,aA as wa,aB as _t,U as pa,d as Zt,e as ct,k as xa,M as _a,m as ka,aC as Ca,aD as qa,aE as Pa,V as Ma,_ as Ta,X as N,Y as de,Z as r,aF as v,$ as i,aG as ee,aH as te,aI as A,aJ as z,aK as fe,aL as dt,aM as ft,aN as qe,aO as Ge,aP as Va,aQ as za,aR as La,aS as Aa,aT as Ba,aU as Qt,aV as Ne,H as Ea,aW as jt,aX as Fa,aY as Oa}from"./index-DvgvnPft.js";import{c as $t,n as cl}from"./format-CNKu4zio.js";const Ia=Oe({name:"QField",inheritAttrs:!1,props:{...tl,tag:{type:String,default:"label"}},emits:bl,setup(){return Sl(wl({tagProp:!0}))}}),Ha={xs:8,sm:10,md:14,lg:20,xl:24},le=Oe({name:"QChip",props:{...Ft,...Kl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:o}){const{proxy:{$q:t}}=Qe(),c=Ot(e,t),d=Ul(e,Ha),n=k(()=>e.selected===!0||e.icon!==void 0),f=k(()=>e.selected===!0?e.iconSelected||t.iconSet.chip.selected:e.icon),S=k(()=>e.iconRemove||t.iconSet.chip.remove),P=k(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),h=k(()=>{const p=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(p?` text-${p} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(P.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(c.value===!0?" q-chip--dark q-dark":"")}),q=k(()=>{const p=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},R={...p,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||t.lang.label.remove};return{chip:p,remove:R}});function M(p){p.keyCode===13&&m(p)}function m(p){e.disable||(o("update:selected",!e.selected),o("click",p))}function C(p){(p.keyCode===void 0||p.keyCode===13)&&(Fe(p),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function I(){const p=[];P.value===!0&&p.push(E("div",{class:"q-focus-helper"})),n.value===!0&&p.push(E(G,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const R=e.label!==void 0?[E("div",{class:"ellipsis"},[e.label])]:void 0;return p.push(E("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Xl(l.default,R))),e.iconRight&&p.push(E(G,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&p.push(E(G,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:S.value,...q.value.remove,onClick:C,onKeyup:C})),p}return()=>{if(e.modelValue===!1)return;const p={class:h.value,style:d.value};return P.value===!0&&Object.assign(p,q.value.chip,{onClick:m,onKeyup:M}),Gl("div",p,I(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Yl,e.ripple]])}}}),Xe=Oe({name:"QItem",props:{...Ft,...Jl,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:o}){const{proxy:{$q:t}}=Qe(),c=Ot(e,t),{hasLink:d,linkAttrs:n,linkClass:f,linkTag:S,navigateOnClick:P}=Zl(),h=B(null),q=B(null),M=k(()=>e.clickable===!0||d.value===!0||e.tag==="label"),m=k(()=>e.disable!==!0&&M.value===!0),C=k(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(c.value===!0?" q-item--dark":"")+(d.value===!0&&e.active===null?f.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(m.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),I=k(()=>e.insetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function p(T){m.value===!0&&(q.value!==null&&(T.qKeyEvent!==!0&&document.activeElement===h.value?q.value.focus():document.activeElement===q.value&&h.value.focus()),P(T))}function R(T){if(m.value===!0&&It(T,[13,32])===!0){Fe(T),T.qKeyEvent=!0;const H=new MouseEvent("click",T);H.qKeyEvent=!0,h.value.dispatchEvent(H)}o("keyup",T)}function j(){const T=$l(l.default,[]);return m.value===!0&&T.unshift(E("div",{class:"q-focus-helper",tabindex:-1,ref:q})),T}return()=>{const T={ref:h,class:C.value,style:I.value,role:"listitem",onClick:p,onKeyup:R};return m.value===!0?(T.tabindex=e.tabindex||"0",Object.assign(T,n.value)):M.value===!0&&(T["aria-disabled"]="true"),E(S.value,T,j())}}}),ve=Oe({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const o=k(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>E("div",{class:o.value},gt(l.default))}}),Pe=Oe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const o=k(()=>parseInt(e.lines,10)),t=k(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),c=k(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>E("div",{style:c.value,class:t.value},gt(l.default))}}),zl={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Ra={...zl,contextMenu:Boolean};function Ll({showing:e,avoidEmit:l,configureAnchorEl:o}){const{props:t,proxy:c,emit:d}=Qe(),n=B(null);let f=null;function S(m){return n.value===null?!1:m===void 0||m.touches===void 0||m.touches.length<=1}const P={};o===void 0&&(Object.assign(P,{hide(m){c.hide(m)},toggle(m){c.toggle(m),m.qAnchorHandled=!0},toggleKey(m){It(m,13)===!0&&P.toggle(m)},contextClick(m){c.hide(m),kt(m),We(()=>{c.show(m),m.qAnchorHandled=!0})},prevent:kt,mobileTouch(m){if(P.mobileCleanup(m),S(m)!==!0)return;c.hide(m),n.value.classList.add("non-selectable");const C=m.target;Tt(P,"anchor",[[C,"touchmove","mobileCleanup","passive"],[C,"touchend","mobileCleanup","passive"],[C,"touchcancel","mobileCleanup","passive"],[n.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,c.show(m),m.qAnchorHandled=!0},300)},mobileCleanup(m){n.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&m!==void 0&&$t()}}),o=function(m=t.contextMenu){if(t.noParentEvent===!0||n.value===null)return;let C;m===!0?c.$q.platform.is.mobile===!0?C=[[n.value,"touchstart","mobileTouch","passive"]]:C=[[n.value,"mousedown","hide","passive"],[n.value,"contextmenu","contextClick","notPassive"]]:C=[[n.value,"click","toggle","passive"],[n.value,"keyup","toggleKey","passive"]],Tt(P,"anchor",C)});function h(){Yt(P,"anchor")}function q(m){for(n.value=m;n.value.classList.contains("q-anchor--skip");)n.value=n.value.parentNode;o()}function M(){if(t.target===!1||t.target===""||c.$el.parentNode===null)n.value=null;else if(t.target===!0)q(c.$el.parentNode);else{let m=t.target;if(typeof t.target=="string")try{m=document.querySelector(t.target)}catch{m=void 0}m!=null?(n.value=m.$el||m,o()):(n.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return xe(()=>t.contextMenu,m=>{n.value!==null&&(h(),o(m))}),xe(()=>t.target,()=>{n.value!==null&&h(),M()}),xe(()=>t.noParentEvent,m=>{n.value!==null&&(m===!0?h():o())}),ea(()=>{M(),l!==!0&&t.modelValue===!0&&n.value===null&&d("update:modelValue",!1)}),lt(()=>{f!==null&&clearTimeout(f),h()}),{anchorEl:n,canShow:S,anchorEvents:P}}function Al(e,l){const o=B(null);let t;function c(f,S){const P=`${S!==void 0?"add":"remove"}EventListener`,h=S!==void 0?S:t;f!==window&&f[P]("scroll",h,Jt.passive),window[P]("scroll",h,Jt.passive),t=S}function d(){o.value!==null&&(c(o.value),o.value=null)}const n=xe(()=>e.noParentEvent,()=>{o.value!==null&&(d(),l())});return lt(n),{localScrollTarget:o,unconfigureScrollTarget:d,changeScrollEvent:c}}const{notPassiveCapture:Vt}=Jt,tt=[];function zt(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let o=sl.length-1;for(;o>=0;){const t=sl[o].$;if(t.type.name==="QTooltip"){o--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;o--}for(let t=tt.length-1;t>=0;t--){const c=tt[t];if((c.anchorEl.value===null||c.anchorEl.value.contains(l)===!1)&&(l===document.body||c.innerRef.value!==null&&c.innerRef.value.contains(l)===!1))e.qClickOutside=!0,c.onClickOutside(e);else return}}function Bl(e){tt.push(e),tt.length===1&&(document.addEventListener("mousedown",zt,Vt),document.addEventListener("touchstart",zt,Vt))}function Lt(e){const l=tt.findIndex(o=>o===e);l!==-1&&(tt.splice(l,1),tt.length===0&&(document.removeEventListener("mousedown",zt,Vt),document.removeEventListener("touchstart",zt,Vt)))}let dl,fl;function At(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function El(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const el={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{el[`${e}#ltr`]=e,el[`${e}#rtl`]=e});function Bt(e,l){const o=e.split(" ");return{vertical:o[0],horizontal:el[`${o[1]}#${l===!0?"rtl":"ltr"}`]}}function Da(e,l){let{top:o,left:t,right:c,bottom:d,width:n,height:f}=e.getBoundingClientRect();return l!==void 0&&(o-=l[1],t-=l[0],d+=l[1],c+=l[0],n+=l[0],f+=l[1]),{top:o,bottom:d,height:f,left:t,right:c,width:n,middle:t+(c-t)/2,center:o+(d-o)/2}}function Na(e,l,o){let{top:t,left:c}=e.getBoundingClientRect();return t+=l.top,c+=l.left,o!==void 0&&(t+=o[1],c+=o[0]),{top:t,bottom:t+1,height:1,left:c,right:c+1,width:1,middle:c,center:t}}function Wa(e,l){return{top:0,center:l/2,bottom:l,left:0,middle:e/2,right:e}}function vl(e,l,o,t){return{top:e[o.vertical]-l[t.vertical],left:e[o.horizontal]-l[t.horizontal]}}function ll(e,l=0){if(e.targetEl===null||e.anchorEl===null||l>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{ll(e,l+1)},10);return}const{targetEl:o,offset:t,anchorEl:c,anchorOrigin:d,selfOrigin:n,absoluteOffset:f,fit:S,cover:P,maxHeight:h,maxWidth:q}=e;if(ta.is.ios===!0&&window.visualViewport!==void 0){const K=document.body.style,{offsetLeft:X,offsetTop:ae}=window.visualViewport;X!==dl&&(K.setProperty("--q-pe-left",X+"px"),dl=X),ae!==fl&&(K.setProperty("--q-pe-top",ae+"px"),fl=ae)}const{scrollLeft:M,scrollTop:m}=o,C=f===void 0?Da(c,P===!0?[0,0]:t):Na(c,f,t);Object.assign(o.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:q,maxHeight:h,visibility:"visible"});const{offsetWidth:I,offsetHeight:p}=o,{elWidth:R,elHeight:j}=S===!0||P===!0?{elWidth:Math.max(C.width,I),elHeight:P===!0?Math.max(C.height,p):p}:{elWidth:I,elHeight:p};let T={maxWidth:q,maxHeight:h};(S===!0||P===!0)&&(T.minWidth=C.width+"px",P===!0&&(T.minHeight=C.height+"px")),Object.assign(o.style,T);const H=Wa(R,j);let L=vl(C,H,d,n);if(f===void 0||t===void 0)Kt(L,C,H,d,n);else{const{top:K,left:X}=L;Kt(L,C,H,d,n);let ae=!1;if(L.top!==K){ae=!0;const ie=2*t[1];C.center=C.top-=ie,C.bottom-=ie+2}if(L.left!==X){ae=!0;const ie=2*t[0];C.middle=C.left-=ie,C.right-=ie+2}ae===!0&&(L=vl(C,H,d,n),Kt(L,C,H,d,n))}T={top:L.top+"px",left:L.left+"px"},L.maxHeight!==void 0&&(T.maxHeight=L.maxHeight+"px",C.height>L.maxHeight&&(T.minHeight=T.maxHeight)),L.maxWidth!==void 0&&(T.maxWidth=L.maxWidth+"px",C.width>L.maxWidth&&(T.minWidth=T.maxWidth)),Object.assign(o.style,T),o.scrollTop!==m&&(o.scrollTop=m),o.scrollLeft!==M&&(o.scrollLeft=M)}function Kt(e,l,o,t,c){const d=o.bottom,n=o.right,f=la(),S=window.innerHeight-f,P=document.body.clientWidth;if(e.top<0||e.top+d>S)if(c.vertical==="center")e.top=l[t.vertical]>S/2?Math.max(0,S-d):0,e.maxHeight=Math.min(d,S);else if(l[t.vertical]>S/2){const h=Math.min(S,t.vertical==="center"?l.center:t.vertical===c.vertical?l.bottom:l.top);e.maxHeight=Math.min(d,h),e.top=Math.max(0,h-d)}else e.top=Math.max(0,t.vertical==="center"?l.center:t.vertical===c.vertical?l.top:l.bottom),e.maxHeight=Math.min(d,S-e.top);if(e.left<0||e.left+n>P)if(e.maxWidth=Math.min(n,P),c.horizontal==="middle")e.left=l[t.horizontal]>P/2?Math.max(0,P-n):0;else if(l[t.horizontal]>P/2){const h=Math.min(P,t.horizontal==="middle"?l.middle:t.horizontal===c.horizontal?l.right:l.left);e.maxWidth=Math.min(n,h),e.left=Math.max(0,h-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?l.middle:t.horizontal===c.horizontal?l.left:l.right),e.maxWidth=Math.min(n,P-e.left)}const Qa=Oe({name:"QMenu",inheritAttrs:!1,props:{...Ra,...pl,...Ft,...Mt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:At},self:{type:String,validator:At},offset:{type:Array,validator:El},scrollTarget:xl,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[..._l,"click","escapeKey"],setup(e,{slots:l,emit:o,attrs:t}){let c=null,d,n,f;const S=Qe(),{proxy:P}=S,{$q:h}=P,q=B(null),M=B(!1),m=k(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),C=Ot(e,h),{registerTick:I,removeTick:p}=kl(),{registerTimeout:R}=Cl(),{transitionProps:j,transitionStyle:T}=ql(e),{localScrollTarget:H,changeScrollEvent:L,unconfigureScrollTarget:K}=Al(e,V),{anchorEl:X,canShow:ae}=Ll({showing:M}),{hide:ie}=Pl({showing:M,canShow:ae,handleShow:me,handleHide:u,hideOnRouteChange:m,processOnMount:!0}),{showPortal:ye,hidePortal:Me,renderPortal:ue}=Ml(S,q,$,"menu"),_e={anchorEl:X,innerRef:q,onClickOutside(b){if(e.persistent!==!0&&M.value===!0)return ie(b),(b.type==="touchstart"||b.target.classList.contains("q-dialog__backdrop"))&&Fe(b),!0}},ze=k(()=>Bt(e.anchor||(e.cover===!0?"center middle":"bottom start"),h.lang.rtl)),ke=k(()=>e.cover===!0?ze.value:Bt(e.self||"top start",h.lang.rtl)),se=k(()=>(e.square===!0?" q-menu--square":"")+(C.value===!0?" q-menu--dark q-dark":"")),Ae=k(()=>e.autoClose===!0?{onClick:W}:{}),Ce=k(()=>M.value===!0&&e.persistent!==!0);xe(Ce,b=>{b===!0?(sa(O),Bl(_e)):(ul(O),Lt(_e))});function be(){ua(()=>{let b=q.value;b&&b.contains(document.activeElement)!==!0&&(b=b.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||b.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||b.querySelector("[autofocus], [data-autofocus]")||b,b.focus({preventScroll:!0}))})}function me(b){if(c=e.noRefocus===!1?document.activeElement:null,aa(Q),ye(),V(),d=void 0,b!==void 0&&(e.touchPosition||e.contextMenu)){const re=na(b);if(re.left!==void 0){const{top:Te,left:je}=X.value.getBoundingClientRect();d={left:re.left-je,top:re.top-Te}}}n===void 0&&(n=xe(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,F)),e.noFocus!==!0&&document.activeElement.blur(),I(()=>{F(),e.noFocus!==!0&&be()}),R(()=>{h.platform.is.ios===!0&&(f=e.autoClose,q.value.click()),F(),ye(!0),o("show",b)},e.transitionDuration)}function u(b){p(),Me(),y(!0),c!==null&&(b===void 0||b.qClickOutside!==!0)&&(((b&&b.type.indexOf("key")===0?c.closest('[tabindex]:not([tabindex^="-"])'):void 0)||c).focus(),c=null),R(()=>{Me(!0),o("hide",b)},e.transitionDuration)}function y(b){d=void 0,n!==void 0&&(n(),n=void 0),(b===!0||M.value===!0)&&(oa(Q),K(),Lt(_e),ul(O)),b!==!0&&(c=null)}function V(){(X.value!==null||e.scrollTarget!==void 0)&&(H.value=Tl(X.value,e.scrollTarget),L(H.value,F))}function W(b){f!==!0?(ia(P,b),o("click",b)):f=!1}function Q(b){Ce.value===!0&&e.noFocus!==!0&&ra(q.value,b.target)!==!0&&be()}function O(b){o("escapeKey"),ie(b)}function F(){ll({targetEl:q.value,offset:e.offset,anchorEl:X.value,anchorOrigin:ze.value,selfOrigin:ke.value,absoluteOffset:d,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function $(){return E(Vl,j.value,()=>M.value===!0?E("div",{role:"menu",...t,ref:q,tabindex:-1,class:["q-menu q-position-engine scroll"+se.value,t.class],style:[t.style,T.value],...Ae.value},gt(l.default)):null)}return lt(y),Object.assign(P,{focus:be,updatePosition:F}),ue}});let Et=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,Et=e.scrollLeft>=0,e.remove()}const Le=1e3,ja=["start","center","end","start-force","center-force","end-force"],Fl=Array.prototype.filter,Ka=window.getComputedStyle(document.body).overflowAnchor===void 0?ca:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];Fl.call(o,c=>c.dataset&&c.dataset.qVsAnchor!==void 0).forEach(c=>{delete c.dataset.qVsAnchor});const t=o[l];t&&t.dataset&&(t.dataset.qVsAnchor="")}))};function mt(e,l){return e+l}function Ut(e,l,o,t,c,d,n,f){const S=e===window?document.scrollingElement||document.documentElement:e,P=c===!0?"offsetWidth":"offsetHeight",h={scrollStart:0,scrollViewSize:-n-f,scrollMaxSize:0,offsetStart:-n,offsetEnd:-f};if(c===!0?(e===window?(h.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,h.scrollViewSize+=document.documentElement.clientWidth):(h.scrollStart=S.scrollLeft,h.scrollViewSize+=S.clientWidth),h.scrollMaxSize=S.scrollWidth,d===!0&&(h.scrollStart=(Et===!0?h.scrollMaxSize-h.scrollViewSize:0)-h.scrollStart)):(e===window?(h.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,h.scrollViewSize+=document.documentElement.clientHeight):(h.scrollStart=S.scrollTop,h.scrollViewSize+=S.clientHeight),h.scrollMaxSize=S.scrollHeight),o!==null)for(let q=o.previousElementSibling;q!==null;q=q.previousElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(h.offsetStart+=q[P]);if(t!==null)for(let q=t.nextElementSibling;q!==null;q=q.nextElementSibling)q.classList.contains("q-virtual-scroll--skip")===!1&&(h.offsetEnd+=q[P]);if(l!==e){const q=S.getBoundingClientRect(),M=l.getBoundingClientRect();c===!0?(h.offsetStart+=M.left-q.left,h.offsetEnd-=M.width):(h.offsetStart+=M.top-q.top,h.offsetEnd-=M.height),e!==window&&(h.offsetStart+=h.scrollStart),h.offsetEnd+=h.scrollMaxSize-h.offsetStart}return h}function ml(e,l,o,t){l==="end"&&(l=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(t===!0&&(l=(Et===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):o===!0?(t===!0&&(l=(Et===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function xt(e,l,o,t){if(o>=t)return 0;const c=l.length,d=Math.floor(o/Le),n=Math.floor((t-1)/Le)+1;let f=e.slice(d,n).reduce(mt,0);return o%Le!==0&&(f-=l.slice(d*Le,o).reduce(mt,0)),t%Le!==0&&t!==c&&(f-=l.slice(t,n*Le).reduce(mt,0)),f}const Ua={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},gl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Ua};function Ga({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:o,virtualScrollItemSizeComputed:t}){const c=Qe(),{props:d,emit:n,proxy:f}=c,{$q:S}=f;let P,h,q,M=[],m;const C=B(0),I=B(0),p=B({}),R=B(null),j=B(null),T=B(null),H=B({from:0,to:0}),L=k(()=>d.tableColspan!==void 0?d.tableColspan:100);t===void 0&&(t=k(()=>d.virtualScrollItemSize));const K=k(()=>t.value+";"+d.virtualScrollHorizontal),X=k(()=>K.value+";"+d.virtualScrollSliceRatioBefore+";"+d.virtualScrollSliceRatioAfter);xe(X,()=>{se()}),xe(K,ae);function ae(){ke(h,!0)}function ie(u){ke(u===void 0?h:u)}function ye(u,y){const V=l();if(V==null||V.nodeType===8)return;const W=Ut(V,o(),R.value,j.value,d.virtualScrollHorizontal,S.lang.rtl,d.virtualScrollStickySizeStart,d.virtualScrollStickySizeEnd);q!==W.scrollViewSize&&se(W.scrollViewSize),ue(V,W,Math.min(e.value-1,Math.max(0,parseInt(u,10)||0)),0,ja.indexOf(y)!==-1?y:h!==-1&&u>h?"end":"start")}function Me(){const u=l();if(u==null||u.nodeType===8)return;const y=Ut(u,o(),R.value,j.value,d.virtualScrollHorizontal,S.lang.rtl,d.virtualScrollStickySizeStart,d.virtualScrollStickySizeEnd),V=e.value-1,W=y.scrollMaxSize-y.offsetStart-y.offsetEnd-I.value;if(P===y.scrollStart)return;if(y.scrollMaxSize<=0){ue(u,y,0,0);return}q!==y.scrollViewSize&&se(y.scrollViewSize),_e(H.value.from);const Q=Math.floor(y.scrollMaxSize-Math.max(y.scrollViewSize,y.offsetEnd)-Math.min(m[V],y.scrollViewSize/2));if(Q>0&&Math.ceil(y.scrollStart)>=Q){ue(u,y,V,y.scrollMaxSize-y.offsetEnd-M.reduce(mt,0));return}let O=0,F=y.scrollStart-y.offsetStart,$=F;if(F<=W&&F+y.scrollViewSize>=C.value)F-=C.value,O=H.value.from,$=F;else for(let b=0;F>=M[b]&&O<V;b++)F-=M[b],O+=Le;for(;F>0&&O<V;)F-=m[O],F>-y.scrollViewSize?(O++,$=F):$=m[O]+F;ue(u,y,O,$)}function ue(u,y,V,W,Q){const O=typeof Q=="string"&&Q.indexOf("-force")!==-1,F=O===!0?Q.replace("-force",""):Q,$=F!==void 0?F:"start";let b=Math.max(0,V-p.value[$]),re=b+p.value.total;re>e.value&&(re=e.value,b=Math.max(0,re-p.value.total)),P=y.scrollStart;const Te=b!==H.value.from||re!==H.value.to;if(Te===!1&&F===void 0){Ce(V);return}const{activeElement:je}=document,Ve=T.value;Te===!0&&Ve!==null&&Ve!==je&&Ve.contains(je)===!0&&(Ve.addEventListener("focusout",ze),setTimeout(()=>{Ve!==null&&Ve.removeEventListener("focusout",ze)})),Ka(Ve,V-b);const at=F!==void 0?m.slice(b,V).reduce(mt,0):0;if(Te===!0){const Ie=re>=H.value.from&&b<=H.value.to?H.value.to:re;H.value={from:b,to:Ie},C.value=xt(M,m,0,b),I.value=xt(M,m,re,e.value),requestAnimationFrame(()=>{H.value.to!==re&&P===y.scrollStart&&(H.value={from:H.value.from,to:re},I.value=xt(M,m,re,e.value))})}requestAnimationFrame(()=>{if(P!==y.scrollStart)return;Te===!0&&_e(b);const Ie=m.slice(b,V).reduce(mt,0),He=Ie+y.offsetStart+C.value,nt=He+m[V];let Ye=He+W;if(F!==void 0){const ht=Ie-at,Je=y.scrollStart+ht;Ye=O!==!0&&Je<He&&nt<Je+y.scrollViewSize?Je:F==="end"?nt-y.scrollViewSize:He-(F==="start"?0:Math.round((y.scrollViewSize-m[V])/2))}P=Ye,ml(u,Ye,d.virtualScrollHorizontal,S.lang.rtl),Ce(V)})}function _e(u){const y=T.value;if(y){const V=Fl.call(y.children,b=>b.classList&&b.classList.contains("q-virtual-scroll--skip")===!1),W=V.length,Q=d.virtualScrollHorizontal===!0?b=>b.getBoundingClientRect().width:b=>b.offsetHeight;let O=u,F,$;for(let b=0;b<W;){for(F=Q(V[b]),b++;b<W&&V[b].classList.contains("q-virtual-scroll--with-prev")===!0;)F+=Q(V[b]),b++;$=F-m[O],$!==0&&(m[O]+=$,M[Math.floor(O/Le)]+=$),O++}}}function ze(){T.value!==null&&T.value!==void 0&&T.value.focus()}function ke(u,y){const V=1*t.value;(y===!0||Array.isArray(m)===!1)&&(m=[]);const W=m.length;m.length=e.value;for(let O=e.value-1;O>=W;O--)m[O]=V;const Q=Math.floor((e.value-1)/Le);M=[];for(let O=0;O<=Q;O++){let F=0;const $=Math.min((O+1)*Le,e.value);for(let b=O*Le;b<$;b++)F+=m[b];M.push(F)}h=-1,P=void 0,C.value=xt(M,m,0,H.value.from),I.value=xt(M,m,H.value.to,e.value),u>=0?(_e(H.value.from),We(()=>{ye(u)})):be()}function se(u){if(u===void 0&&typeof window<"u"){const F=l();F!=null&&F.nodeType!==8&&(u=Ut(F,o(),R.value,j.value,d.virtualScrollHorizontal,S.lang.rtl,d.virtualScrollStickySizeStart,d.virtualScrollStickySizeEnd).scrollViewSize)}q=u;const y=parseFloat(d.virtualScrollSliceRatioBefore)||0,V=parseFloat(d.virtualScrollSliceRatioAfter)||0,W=1+y+V,Q=u===void 0||u<=0?1:Math.ceil(u/t.value),O=Math.max(1,Q,Math.ceil((d.virtualScrollSliceSize>0?d.virtualScrollSliceSize:10)/W));p.value={total:Math.ceil(O*W),start:Math.ceil(O*y),center:Math.ceil(O*(.5+y)),end:Math.ceil(O*(1+y)),view:Q}}function Ae(u,y){const V=d.virtualScrollHorizontal===!0?"width":"height",W={["--q-virtual-scroll-item-"+V]:t.value+"px"};return[u==="tbody"?E(u,{class:"q-virtual-scroll__padding",key:"before",ref:R},[E("tr",[E("td",{style:{[V]:`${C.value}px`,...W},colspan:L.value})])]):E(u,{class:"q-virtual-scroll__padding",key:"before",ref:R,style:{[V]:`${C.value}px`,...W}}),E(u,{class:"q-virtual-scroll__content",key:"content",ref:T,tabindex:-1},y.flat()),u==="tbody"?E(u,{class:"q-virtual-scroll__padding",key:"after",ref:j},[E("tr",[E("td",{style:{[V]:`${I.value}px`,...W},colspan:L.value})])]):E(u,{class:"q-virtual-scroll__padding",key:"after",ref:j,style:{[V]:`${I.value}px`,...W}})]}function Ce(u){h!==u&&(d.onVirtualScroll!==void 0&&n("virtualScroll",{index:u,from:H.value.from,to:H.value.to-1,direction:u<h?"decrease":"increase",ref:f}),h=u)}se();const be=da(Me,S.platform.is.ios===!0?120:35);fa(()=>{se()});let me=!1;return va(()=>{me=!0}),ma(()=>{if(me!==!0)return;const u=l();P!==void 0&&u!==void 0&&u!==null&&u.nodeType!==8?ml(u,P,d.virtualScrollHorizontal,S.lang.rtl):ye(h)}),lt(()=>{be.cancel()}),Object.assign(f,{scrollTo:ye,reset:ae,refresh:ie}),{virtualScrollSliceRange:H,virtualScrollSliceSizeComputed:p,setVirtualScrollSize:se,onVirtualScrollEvt:be,localResetVirtualScroll:ke,padVirtualScroll:Ae,scrollTo:ye,reset:ae,refresh:ie}}const hl=e=>["add","add-unique","toggle"].includes(e),Xa=".*+?^${}()|[]\\",Ya=Object.keys(tl);function Gt(e,l){if(typeof e=="function")return e;const o=e!==void 0?e:l;return t=>t!==null&&typeof t=="object"&&o in t?t[o]:t}const Xt=Oe({name:"QSelect",inheritAttrs:!1,props:{...gl,...ga,...tl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:hl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:gl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...bl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:o}){const{proxy:t}=Qe(),{$q:c}=t,d=B(!1),n=B(!1),f=B(-1),S=B(""),P=B(!1),h=B(!1);let q=null,M=null,m,C,I,p=null,R,j,T,H;const L=B(null),K=B(null),X=B(null),ae=B(null),ie=B(null),ye=ha(e),Me=Sa(St),ue=k(()=>e.options.length),_e=k(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ze,virtualScrollSliceSizeComputed:ke,localResetVirtualScroll:se,padVirtualScroll:Ae,onVirtualScrollEvt:Ce,scrollTo:be,setVirtualScrollSize:me}=Ga({virtualScrollLength:ue,getVirtualScrollTarget:De,getVirtualScrollEl:we,virtualScrollItemSizeComputed:_e}),u=wl(),y=k(()=>{const a=e.mapOptions===!0&&e.multiple!==!0,x=e.modelValue!==void 0&&(e.modelValue!==null||a===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0){const _=e.mapOptions===!0&&m!==void 0?m:[],D=x.map(Z=>Pt(Z,_));return e.modelValue===null&&a===!0?D.filter(Z=>Z!==null):D}return x}),V=k(()=>{const a={};return Ya.forEach(x=>{const _=e[x];_!==void 0&&(a[x]=_)}),a}),W=k(()=>e.optionsDark===null?u.isDark.value:e.optionsDark),Q=k(()=>rl(y.value)),O=k(()=>{let a="q-field__input q-placeholder col";return e.hideSelected===!0||y.value.length===0?[a,e.inputClass]:(a+=" q-field__input--padding",e.inputClass===void 0?a:[a,e.inputClass])}),F=k(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),$=k(()=>ue.value===0),b=k(()=>y.value.map(a=>ne.value(a)).join(", ")),re=k(()=>e.displayValue!==void 0?e.displayValue:b.value),Te=k(()=>e.optionsHtml===!0?()=>!0:a=>a!=null&&a.html===!0),je=k(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||y.value.some(Te.value))),Ve=k(()=>u.focused.value===!0?e.tabindex:-1),at=k(()=>{const a={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":d.value===!0?"true":"false","aria-controls":`${u.targetUid.value}_lb`};return f.value>=0&&(a["aria-activedescendant"]=`${u.targetUid.value}_${f.value}`),a}),Ie=k(()=>({id:`${u.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),He=k(()=>y.value.map((a,x)=>({index:x,opt:a,html:Te.value(a),selected:!0,removeAtIndex:Rt,toggleOption:Re,tabindex:Ve.value}))),nt=k(()=>{if(ue.value===0)return[];const{from:a,to:x}=ze.value;return e.options.slice(a,x).map((_,D)=>{const Z=Ke.value(_)===!0,Y=s(_)===!0,he=a+D,oe={clickable:!0,active:Y,activeClass:Je.value,manualFocus:!0,focused:!1,disable:Z,tabindex:-1,dense:e.optionsDense,dark:W.value,role:"option","aria-selected":Y===!0?"true":"false",id:`${u.targetUid.value}_${he}`,onClick:()=>{Re(_)}};return Z!==!0&&(f.value===he&&(oe.focused=!0),c.platform.is.desktop===!0&&(oe.onMousemove=()=>{d.value===!0&&Be(he)})),{index:he,opt:_,html:Te.value(_),label:ne.value(_),selected:oe.active,focused:oe.focused,toggleOption:Re,setOptionIndex:Be,itemProps:oe}})}),Ye=k(()=>e.dropdownIcon!==void 0?e.dropdownIcon:c.iconSet.arrow.dropdown),ht=k(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Je=k(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Se=k(()=>Gt(e.optionValue,"value")),ne=k(()=>Gt(e.optionLabel,"label")),Ke=k(()=>Gt(e.optionDisable,"disable")),ot=k(()=>y.value.map(Se.value)),Ht=k(()=>{const a={onInput:St,onChange:Me,onKeydown:ge,onKeyup:U,onKeypress:J,onFocus:g,onClick(x){C===!0&&rt(x)}};return a.onCompositionstart=a.onCompositionupdate=a.onCompositionend=Me,a});xe(y,a=>{m=a,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&u.innerLoading.value!==!0&&(n.value!==!0&&d.value!==!0||Q.value!==!0)&&(I!==!0&&ut(),(n.value===!0||d.value===!0)&&Ee(""))},{immediate:!0}),xe(()=>e.fillInput,ut),xe(d,Nt),xe(ue,jl);function Ct(a){return e.emitValue===!0?Se.value(a):a}function yt(a){if(a!==-1&&a<y.value.length)if(e.multiple===!0){const x=e.modelValue.slice();o("remove",{index:a,value:x.splice(a,1)[0]}),o("update:modelValue",x)}else o("update:modelValue",null)}function Rt(a){yt(a),u.focus()}function qt(a,x){const _=Ct(a);if(e.multiple!==!0){e.fillInput===!0&&$e(ne.value(a),!0,!0),o("update:modelValue",_);return}if(y.value.length===0){o("add",{index:0,value:_}),o("update:modelValue",e.multiple===!0?[_]:_);return}if(x===!0&&s(a)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const D=e.modelValue.slice();o("add",{index:D.length,value:_}),D.push(_),o("update:modelValue",D)}function Re(a,x){if(u.editable.value!==!0||a===void 0||Ke.value(a)===!0)return;const _=Se.value(a);if(e.multiple!==!0){x!==!0&&($e(e.fillInput===!0?ne.value(a):"",!0,!0),et()),K.value!==null&&K.value.focus(),(y.value.length===0||pt(Se.value(y.value[0]),_)!==!0)&&o("update:modelValue",e.emitValue===!0?_:a);return}if((C!==!0||P.value===!0)&&u.focus(),g(),y.value.length===0){const Y=e.emitValue===!0?_:a;o("add",{index:0,value:Y}),o("update:modelValue",e.multiple===!0?[Y]:Y);return}const D=e.modelValue.slice(),Z=ot.value.findIndex(Y=>pt(Y,_));if(Z!==-1)o("remove",{index:Z,value:D.splice(Z,1)[0]});else{if(e.maxValues!==void 0&&D.length>=e.maxValues)return;const Y=e.emitValue===!0?_:a;o("add",{index:D.length,value:Y}),D.push(Y)}o("update:modelValue",D)}function Be(a){if(c.platform.is.desktop!==!0)return;const x=a!==-1&&a<ue.value?a:-1;f.value!==x&&(f.value=x)}function bt(a=1,x){if(d.value===!0){let _=f.value;do _=cl(_+a,-1,ue.value-1);while(_!==-1&&_!==f.value&&Ke.value(e.options[_])===!0);f.value!==_&&(Be(_),be(_),x!==!0&&e.useInput===!0&&e.fillInput===!0&&Ze(_>=0?ne.value(e.options[_]):R,!0))}}function Pt(a,x){const _=D=>pt(Se.value(D),a);return e.options.find(_)||x.find(_)||a}function s(a){const x=Se.value(a);return ot.value.find(_=>pt(_,x))!==void 0}function g(a){e.useInput===!0&&K.value!==null&&(a===void 0||K.value===a.target&&a.target.value===b.value)&&K.value.select()}function w(a){It(a,27)===!0&&d.value===!0&&(rt(a),et(),ut()),o("keyup",a)}function U(a){const{value:x}=a.target;if(a.keyCode!==void 0){w(a);return}if(a.target.value="",q!==null&&(clearTimeout(q),q=null),M!==null&&(clearTimeout(M),M=null),ut(),typeof x=="string"&&x.length!==0){const _=x.toLocaleLowerCase(),D=Y=>{const he=e.options.find(oe=>Y.value(oe).toLocaleLowerCase()===_);return he===void 0?!1:(y.value.indexOf(he)===-1?Re(he):et(),!0)},Z=Y=>{D(Se)!==!0&&(D(ne)===!0||Y===!0||Ee(x,!0,()=>Z(!0)))};Z()}else u.clearValue(a)}function J(a){o("keypress",a)}function ge(a){if(o("keydown",a),wa(a)===!0)return;const x=S.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),_=a.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||x===!0);if(a.keyCode===27){kt(a);return}if(a.keyCode===9&&_===!1){it();return}if(a.target===void 0||a.target.id!==u.targetUid.value||u.editable.value!==!0)return;if(a.keyCode===40&&u.innerLoading.value!==!0&&d.value===!1){Fe(a),st();return}if(a.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&S.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?yt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(a.keyCode===35||a.keyCode===36)&&(typeof S.value!="string"||S.value.length===0)&&(Fe(a),f.value=-1,bt(a.keyCode===36?1:-1,e.multiple)),(a.keyCode===33||a.keyCode===34)&&ke.value!==void 0&&(Fe(a),f.value=Math.max(-1,Math.min(ue.value,f.value+(a.keyCode===33?-1:1)*ke.value.view)),bt(a.keyCode===33?1:-1,e.multiple)),(a.keyCode===38||a.keyCode===40)&&(Fe(a),bt(a.keyCode===38?-1:1,e.multiple));const D=ue.value;if((T===void 0||H<Date.now())&&(T=""),D>0&&e.useInput!==!0&&a.key!==void 0&&a.key.length===1&&a.altKey===!1&&a.ctrlKey===!1&&a.metaKey===!1&&(a.keyCode!==32||T.length!==0)){d.value!==!0&&st(a);const Z=a.key.toLocaleLowerCase(),Y=T.length===1&&T[0]===Z;H=Date.now()+1500,Y===!1&&(Fe(a),T+=Z);const he=new RegExp("^"+T.split("").map(Wt=>Xa.indexOf(Wt)!==-1?"\\"+Wt:Wt).join(".*"),"i");let oe=f.value;if(Y===!0||oe<0||he.test(ne.value(e.options[oe]))!==!0)do oe=cl(oe+1,-1,D-1);while(oe!==f.value&&(Ke.value(e.options[oe])===!0||he.test(ne.value(e.options[oe]))!==!0));f.value!==oe&&We(()=>{Be(oe),be(oe),oe>=0&&e.useInput===!0&&e.fillInput===!0&&Ze(ne.value(e.options[oe]),!0)});return}if(!(a.keyCode!==13&&(a.keyCode!==32||e.useInput===!0||T!=="")&&(a.keyCode!==9||_===!1))){if(a.keyCode!==9&&Fe(a),f.value!==-1&&f.value<D){Re(e.options[f.value]);return}if(x===!0){const Z=(Y,he)=>{if(he){if(hl(he)!==!0)return}else he=e.newValueMode;if($e("",e.multiple!==!0,!0),Y==null)return;(he==="toggle"?Re:qt)(Y,he==="add-unique"),e.multiple!==!0&&(K.value!==null&&K.value.focus(),et())};if(e.onNewValue!==void 0?o("newValue",S.value,Z):Z(S.value),e.multiple!==!0)return}d.value===!0?it():u.innerLoading.value!==!0&&st()}}function we(){return C===!0?ie.value:X.value!==null&&X.value.contentEl!==null?X.value.contentEl:void 0}function De(){return we()}function ce(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?He.value.map(a=>l["selected-item"](a)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?He.value.map((a,x)=>E(le,{key:"option-"+x,removable:u.editable.value===!0&&Ke.value(a.opt)!==!0,dense:!0,textColor:e.color,tabindex:Ve.value,onRemove(){a.removeAtIndex(x)}},()=>E("span",{class:"ellipsis",[a.html===!0?"innerHTML":"textContent"]:ne.value(a.opt)}))):[E("span",{[je.value===!0?"innerHTML":"textContent"]:re.value})]}function Ue(){if($.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:S.value}):void 0;const a=l.option!==void 0?l.option:_=>E(Xe,{key:_.index,..._.itemProps},()=>E(ve,()=>E(Pe,()=>E("span",{[_.html===!0?"innerHTML":"textContent"]:_.label}))));let x=Ae("div",nt.value.map(a));return l["before-options"]!==void 0&&(x=l["before-options"]().concat(x)),pa(l["after-options"],x)}function Dt(a,x){const _=x===!0?{...at.value,...u.splitAttrs.attributes.value}:void 0,D={ref:x===!0?K:void 0,key:"i_t",class:O.value,style:e.inputStyle,value:S.value!==void 0?S.value:"",type:"search",..._,id:x===!0?u.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":a===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Ht.value};return a!==!0&&C===!0&&(Array.isArray(D.class)===!0?D.class=[...D.class,"no-pointer-events"]:D.class+=" no-pointer-events"),E("input",D)}function St(a){q!==null&&(clearTimeout(q),q=null),M!==null&&(clearTimeout(M),M=null),!(a&&a.target&&a.target.qComposing===!0)&&(Ze(a.target.value||""),I=!0,R=S.value,u.focused.value!==!0&&(C!==!0||P.value===!0)&&u.focus(),e.onFilter!==void 0&&(q=setTimeout(()=>{q=null,Ee(S.value)},e.inputDebounce)))}function Ze(a,x){S.value!==a&&(S.value=a,x===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",a):M=setTimeout(()=>{M=null,o("inputValue",a)},e.inputDebounce))}function $e(a,x,_){I=_!==!0,e.useInput===!0&&(Ze(a,!0),(x===!0||_!==!0)&&(R=a),x!==!0&&Ee(a))}function Ee(a,x,_){if(e.onFilter===void 0||x!==!0&&u.focused.value!==!0)return;u.innerLoading.value===!0?o("filterAbort"):(u.innerLoading.value=!0,h.value=!0),a!==""&&e.multiple!==!0&&y.value.length!==0&&I!==!0&&a===ne.value(y.value[0])&&(a="");const D=setTimeout(()=>{d.value===!0&&(d.value=!1)},10);p!==null&&clearTimeout(p),p=D,o("filter",a,(Z,Y)=>{(x===!0||u.focused.value===!0)&&p===D&&(clearTimeout(p),typeof Z=="function"&&Z(),h.value=!1,We(()=>{u.innerLoading.value=!1,u.editable.value===!0&&(x===!0?d.value===!0&&et():d.value===!0?Nt(!0):d.value=!0),typeof Y=="function"&&We(()=>{Y(t)}),typeof _=="function"&&We(()=>{_(t)})}))},()=>{u.focused.value===!0&&p===D&&(clearTimeout(p),u.innerLoading.value=!1,h.value=!1),d.value===!0&&(d.value=!1)})}function wt(){return E(Qa,{ref:X,class:F.value,style:e.popupContentStyle,modelValue:d.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&$.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:W.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:ht.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ie.value,onScrollPassive:Ce,onBeforeShow:nl,onBeforeHide:Ol,onShow:Il},Ue)}function Ol(a){ol(a),it()}function Il(){me()}function Hl(a){rt(a),K.value!==null&&K.value.focus(),P.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Rl(a){rt(a),We(()=>{P.value=!1})}function Dl(){const a=[E(Ia,{class:`col-auto ${u.fieldClass.value}`,...V.value,for:u.targetUid.value,dark:W.value,square:!0,loading:h.value,itemAligned:!1,filled:!0,stackLabel:S.value.length!==0,...u.splitAttrs.listeners.value,onFocus:Hl,onBlur:Rl},{...l,rawControl:()=>u.getControl(!0),before:void 0,after:void 0})];return d.value===!0&&a.push(E("div",{ref:ie,class:F.value+" scroll",style:e.popupContentStyle,...Ie.value,onClick:kt,onScrollPassive:Ce},Ue())),E(_t,{ref:ae,modelValue:n.value,position:e.useInput===!0?"top":void 0,transitionShow:j,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:nl,onBeforeHide:Nl,onHide:Wl,onShow:Ql},()=>E("div",{class:"q-select__dialog"+(W.value===!0?" q-select__dialog--dark q-dark":"")+(P.value===!0?" q-select__dialog--focused":"")},a))}function Nl(a){ol(a),ae.value!==null&&ae.value.__updateRefocusTarget(u.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),u.focused.value=!1}function Wl(a){et(),u.focused.value===!1&&o("blur",a),ut()}function Ql(){const a=document.activeElement;(a===null||a.id!==u.targetUid.value)&&K.value!==null&&K.value!==a&&K.value.focus(),me()}function it(){n.value!==!0&&(f.value=-1,d.value===!0&&(d.value=!1),u.focused.value===!1&&(p!==null&&(clearTimeout(p),p=null),u.innerLoading.value===!0&&(o("filterAbort"),u.innerLoading.value=!1,h.value=!1)))}function st(a){u.editable.value===!0&&(C===!0?(u.onControlFocusin(a),n.value=!0,We(()=>{u.focus()})):u.focus(),e.onFilter!==void 0?Ee(S.value):($.value!==!0||l["no-option"]!==void 0)&&(d.value=!0))}function et(){n.value=!1,it()}function ut(){e.useInput===!0&&$e(e.multiple!==!0&&e.fillInput===!0&&y.value.length!==0&&ne.value(y.value[0])||"",!0,!0)}function Nt(a){let x=-1;if(a===!0){if(y.value.length!==0){const _=Se.value(y.value[0]);x=e.options.findIndex(D=>pt(Se.value(D),_))}se(x)}Be(x)}function jl(a,x){d.value===!0&&u.innerLoading.value===!1&&(se(-1,!0),We(()=>{d.value===!0&&u.innerLoading.value===!1&&(a>x?se():Nt(!0))}))}function al(){n.value===!1&&X.value!==null&&X.value.updatePosition()}function nl(a){a!==void 0&&rt(a),o("popupShow",a),u.hasPopupOpen=!0,u.onControlFocusin(a)}function ol(a){a!==void 0&&rt(a),o("popupHide",a),u.hasPopupOpen=!1,u.onControlFocusout(a)}function il(){C=c.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||$.value===!1:!0),j=c.platform.is.ios===!0&&C===!0&&e.useInput===!0?"fade":e.transitionShow}return ya(il),ba(al),il(),lt(()=>{q!==null&&clearTimeout(q),M!==null&&clearTimeout(M)}),Object.assign(t,{showPopup:st,hidePopup:et,removeAtIndex:yt,add:qt,toggleOption:Re,getOptionIndex:()=>f.value,setOptionIndex:Be,moveOptionSelection:bt,filter:Ee,updateMenuPosition:al,updateInputValue:$e,isOptionSelected:s,getEmittingOptionValue:Ct,isOptionDisabled:(...a)=>Ke.value.apply(null,a)===!0,getOptionValue:(...a)=>Se.value.apply(null,a),getOptionLabel:(...a)=>ne.value.apply(null,a)}),Object.assign(u,{innerValue:y,fieldClass:k(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:L,targetRef:K,hasValue:Q,showPopup:st,floatingLabel:k(()=>e.hideSelected!==!0&&Q.value===!0||typeof S.value=="number"||S.value.length!==0||rl(e.displayValue)),getControlChild:()=>{if(u.editable.value!==!1&&(n.value===!0||$.value!==!0||l["no-option"]!==void 0))return C===!0?Dl():wt();u.hasPopupOpen===!0&&(u.hasPopupOpen=!1)},controlEvents:{onFocusin(a){u.onControlFocusin(a)},onFocusout(a){u.onControlFocusout(a,()=>{ut(),it()})},onClick(a){if(kt(a),C!==!0&&d.value===!0){it(),K.value!==null&&K.value.focus();return}st(a)}},getControl:a=>{const x=ce(),_=a===!0||n.value!==!0||C!==!0;if(e.useInput===!0)x.push(Dt(a,_));else if(u.editable.value===!0){const Z=_===!0?at.value:void 0;x.push(E("input",{ref:_===!0?K:void 0,key:"d_t",class:"q-select__focus-target",id:_===!0?u.targetUid.value:void 0,value:re.value,readonly:!0,"data-autofocus":a===!0||e.autofocus===!0||void 0,...Z,onKeydown:ge,onKeyup:w,onKeypress:J})),_===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&x.push(E("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:U}))}if(ye.value!==void 0&&e.disable!==!0&&ot.value.length!==0){const Z=ot.value.map(Y=>E("option",{value:Y,selected:!0}));x.push(E("select",{class:"hidden",name:ye.value,multiple:e.multiple},Z))}const D=e.useInput===!0||_!==!0?void 0:u.splitAttrs.attributes.value;return E("div",{class:"q-field__native row items-center",...D,...u.splitAttrs.listeners.value},x)},getInnerAppend:()=>e.loading!==!0&&h.value!==!0&&e.hideDropdownIcon!==!0?[E(G,{class:"q-select__dropdown-icon"+(d.value===!0?" rotate-180":""),name:Ye.value})]:null}),Sl(u)}}),Ja=["ul","ol"],vt=Oe({name:"QList",props:{...Ft,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:l}){const o=Qe(),t=Ot(e,o.proxy.$q),c=k(()=>Ja.includes(e.tag)?null:"list"),d=k(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(t.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>E(e.tag,{class:d.value,role:c.value},gt(l.default))}}),pe=Oe({name:"QTooltip",inheritAttrs:!1,props:{...zl,...pl,...Mt,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Mt.transitionShow,default:"jump-down"},transitionHide:{...Mt.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:At},self:{type:String,default:"top middle",validator:At},offset:{type:Array,default:()=>[14,14],validator:El},scrollTarget:xl,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[..._l],setup(e,{slots:l,emit:o,attrs:t}){let c,d;const n=Qe(),{proxy:{$q:f}}=n,S=B(null),P=B(!1),h=k(()=>Bt(e.anchor,f.lang.rtl)),q=k(()=>Bt(e.self,f.lang.rtl)),M=k(()=>e.persistent!==!0),{registerTick:m,removeTick:C}=kl(),{registerTimeout:I}=Cl(),{transitionProps:p,transitionStyle:R}=ql(e),{localScrollTarget:j,changeScrollEvent:T,unconfigureScrollTarget:H}=Al(e,me),{anchorEl:L,canShow:K,anchorEvents:X}=Ll({showing:P,configureAnchorEl:be}),{show:ae,hide:ie}=Pl({showing:P,canShow:K,handleShow:_e,handleHide:ze,hideOnRouteChange:M,processOnMount:!0});Object.assign(X,{delayShow:Ae,delayHide:Ce});const{showPortal:ye,hidePortal:Me,renderPortal:ue}=Ml(n,S,y,"tooltip");if(f.platform.is.mobile===!0){const V={anchorEl:L,innerRef:S,onClickOutside(Q){return ie(Q),Q.target.classList.contains("q-dialog__backdrop")&&Fe(Q),!0}},W=k(()=>e.modelValue===null&&e.persistent!==!0&&P.value===!0);xe(W,Q=>{(Q===!0?Bl:Lt)(V)}),lt(()=>{Lt(V)})}function _e(V){ye(),m(()=>{d=new MutationObserver(()=>se()),d.observe(S.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),se(),me()}),c===void 0&&(c=xe(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,se)),I(()=>{ye(!0),o("show",V)},e.transitionDuration)}function ze(V){C(),Me(),ke(),I(()=>{Me(!0),o("hide",V)},e.transitionDuration)}function ke(){d!==void 0&&(d.disconnect(),d=void 0),c!==void 0&&(c(),c=void 0),H(),Yt(X,"tooltipTemp")}function se(){ll({targetEl:S.value,offset:e.offset,anchorEl:L.value,anchorOrigin:h.value,selfOrigin:q.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ae(V){if(f.platform.is.mobile===!0){$t(),document.body.classList.add("non-selectable");const W=L.value,Q=["touchmove","touchcancel","touchend","click"].map(O=>[W,O,"delayHide","passiveCapture"]);Tt(X,"tooltipTemp",Q)}I(()=>{ae(V)},e.delay)}function Ce(V){f.platform.is.mobile===!0&&(Yt(X,"tooltipTemp"),$t(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),I(()=>{ie(V)},e.hideDelay)}function be(){if(e.noParentEvent===!0||L.value===null)return;const V=f.platform.is.mobile===!0?[[L.value,"touchstart","delayShow","passive"]]:[[L.value,"mouseenter","delayShow","passive"],[L.value,"mouseleave","delayHide","passive"]];Tt(X,"anchor",V)}function me(){if(L.value!==null||e.scrollTarget!==void 0){j.value=Tl(L.value,e.scrollTarget);const V=e.noParentEvent===!0?se:ie;T(j.value,V)}}function u(){return P.value===!0?E("div",{...t,ref:S,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,R.value],role:"tooltip"},gt(l.default)):null}function y(){return E(Vl,p.value,u)}return lt(ke),Object.assign(n.proxy,{updatePosition:se}),ue}}),Za=Oe({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:l}){const{proxy:{$q:o}}=Qe(),t=Zt(xa,ct);if(t===ct)return console.error("QPage needs to be a deep child of QLayout"),ct;if(Zt(_a,ct)===ct)return console.error("QPage needs to be child of QPageContainer"),ct;const d=k(()=>{const f=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const S=t.isContainer.value===!0?t.containerHeight.value:o.screen.height;return e.styleFn(f,S)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-f+"px":o.screen.height===0?f!==0?`calc(100vh - ${f}px)`:"100vh":o.screen.height-f+"px"}}),n=k(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>E("main",{class:n.value,style:d.value},gt(l.default))}});function yl(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const l=parseInt(e,10);return isNaN(l)?0:l}const $a=ka({name:"close-popup",beforeMount(e,{value:l}){const o={depth:yl(l),handler(t){o.depth!==0&&setTimeout(()=>{const c=Ca(e);c!==void 0&&qa(c,t,o.depth)})},handlerKey(t){It(t,13)===!0&&o.handler(t)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:l,oldValue:o}){l!==o&&(e.__qclosepopup.depth=yl(l))},beforeUnmount(e){const l=e.__qclosepopup;e.removeEventListener("click",l.handler),e.removeEventListener("keyup",l.handlerKey),delete e.__qclosepopup}});function en(){return Zt(Pa)}const tn=Ma({__name:"IndexPage",setup(e,{expose:l}){l();const o=en(),t=B(Ae()),c=B(Ce()),d=B(be()),n=B(null),f=B(null),S=B(!1),P=B(!1),h=B(!1),q=B(null),M=B(-1),m=B(!1),C=B(1),I=B([]),p=B([]),R=B([]),j=B(null),T=B(null),H=B("gamesPlayed"),L=B("doubles"),K=[{label:"Beginner",value:1,description:"New to the game"},{label:"Intermediate",value:2,description:"Some experience"},{label:"Advanced",value:3,description:"Experienced player"}],X=[{label:"Singles (1v1)",value:"singles"},{label:"Doubles (2v2)",value:"doubles"}],ae=[{label:"Games Played",value:"gamesPlayed"},{label:"Wins",value:"wins"},{label:"Losses",value:"losses"},{label:"Name",value:"name"}],ie=k(()=>{const s=c.value.length,g=c.value.filter(J=>J.level===1).length,w=c.value.filter(J=>J.level===2).length,U=c.value.filter(J=>J.level===3).length;return{total:s,level1:g,level2:w,level3:U}}),ye=k(()=>[...t.value].sort((s,g)=>{if(H.value==="gamesPlayed"){if(s.gamesPlayed!==g.gamesPlayed)return g.gamesPlayed-s.gamesPlayed}else if(H.value==="wins"){if(s.wins!==g.wins)return g.wins-s.wins}else if(H.value==="losses"){if(s.losses!==g.losses)return g.losses-s.losses}else if(H.value==="name")return s.name.localeCompare(g.name);return s.name.localeCompare(g.name)})),Me=k(()=>M.value>=0&&M.value<d.value.length?d.value[M.value]:[]),ue=s=>{switch(s){case 1:return"green-6";case 2:return"orange-7";case 3:return"red-8";default:return"grey-5"}},_e=s=>{switch(s){case 1:return"star_border";case 2:return"star_half";case 3:return"star";default:return"star_outline"}},ze=()=>{const s=c.value.length,g=L.value==="singles"?2:4;return s>=g},ke=()=>{const s=c.value.length,g=L.value==="singles"?2:4;if(s<g)return`Need ${g-s} more player${g-s>1?"s":""} to generate ${L.value} matches`;const w=Math.floor(s/g),U=s%g;return U===0?`Can generate ${w} ${L.value} match${w>1?"es":""}`:L.value==="singles"?`Can generate ${w} singles match${w>1?"es":""} (1 player will wait)`:U===1?`Can generate ${w} match${w>1?"es":""} (1 player will wait)`:U===2?`Can generate ${w} match${w>1?"es":""} (2 players will wait)`:`Can generate ${w} match${w>1?"es":""} (3 players will wait)`},se=()=>{const s=c.value.length,g=L.value==="singles"?2:4,w=s%g;if(w===0)return"";if(L.value==="singles")return"1 player waiting - Practice serves or warm up";const U={1:"Practice serves or warm up",2:"Practice doubles positioning",3:"Practice singles or wait for 1 more player"};return`${w} player${w>1?"s":""} waiting - ${U[w]}`};function Ae(){const s=localStorage.getItem("playerList");return(s?JSON.parse(s):[]).map(w=>({...w,wins:w.wins||0,losses:w.losses||0}))}function Ce(){const s=localStorage.getItem("playerQueue");return(s?JSON.parse(s):[]).map(w=>({...w,wins:w.wins||0,losses:w.losses||0}))}function be(){const s=localStorage.getItem("matches");return(s?JSON.parse(s):[]).map(w=>w.map(U=>({...U,wins:U.wins||0,losses:U.losses||0})))}function me(s){localStorage.setItem("playerList",JSON.stringify(s))}function u(s){localStorage.setItem("playerQueue",JSON.stringify(s))}function y(s){localStorage.setItem("matches",JSON.stringify(s))}const V=()=>{const s=[],g=[...c.value].sort((ge,we)=>ge.gamesPlayed-we.gamesPlayed),w=L.value==="singles"?2:4,U=Math.floor(g.length/w);for(let ge=0;ge<U;ge++){const we=g.splice(0,w);if(L.value==="singles")s.push(we);else{const De=W(we);s.push(De)}}const J=s.flat().map(ge=>ge.name);return c.value=c.value.filter(ge=>!J.includes(ge.name)),s},W=s=>{const g=[...s].sort((ce,Ue)=>ce.level-Ue.level),U=Q(g).map(ce=>{const Ue=ce.team1,Dt=ce.team2,St=Ue.reduce((Ee,wt)=>Ee+wt.level,0),Ze=Dt.reduce((Ee,wt)=>Ee+wt.level,0),$e=Math.abs(St-Ze);return{...ce,difference:$e,team1Skill:St,team2Skill:Ze}});U.sort((ce,Ue)=>ce.difference-Ue.difference);const J=U[0].difference,ge=U.filter(ce=>ce.difference<=J+1),we=Math.floor(Math.random()*ge.length),De=ge[we];return[...De.team1,...De.team2]},Q=s=>{const g=[],w=[0,1,2,3],U=[[0,1],[0,2],[0,3],[1,2],[1,3],[2,3]];for(const J of U){const ge=w.filter(ce=>!J.includes(ce)),we=J.map(ce=>s[ce]),De=ge.map(ce=>s[ce]);g.push({team1:we,team2:De})}return g},O=()=>{if(!n.value?.trim()){o.notify({type:"negative",message:"Please enter a player name",position:"top"});return}if(f.value===null){o.notify({type:"negative",message:"Please select a player level",position:"top"});return}const s=n.value.trim();if(t.value.some(w=>w.name.toLowerCase()===s.toLowerCase())){o.notify({type:"negative",message:`Player "${s}" already exists`,position:"top"});return}const g={name:s,level:f.value,gamesPlayed:0,wins:0,losses:0};t.value.push(g),c.value.push(g),me(t.value),u(c.value),o.notify({type:"positive",message:`Player "${s}" added successfully`,position:"top"}),n.value=null,f.value=null,S.value=!1},F=()=>{const s=Math.floor(c.value.length/(L.value==="singles"?2:4));o.dialog({title:"Confirm Match Generation",message:`Generate ${s} ${L.value} match${s>1?"es":""} from the queue?`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Generate",color:"accent",icon:"auto_awesome"}}).onOk(()=>{$()})},$=()=>{const s=V();if(d.value=[...d.value,...s],u(c.value),y(d.value),s.length>0){const g=c.value.length;let w=`Generated ${s.length} new match(es)`;g>0&&(w+=`. ${g} player${g>1?"s":""} waiting for more players`,g===1?w+=" (suggest: practice serves or warm up)":g===2?w+=" (suggest: practice doubles positioning)":g===3&&(w+=" (suggest: practice singles or wait for 1 more player)")),o.notify({type:"positive",message:w,position:"top",timeout:5e3})}else o.notify({type:"warning",message:"Not enough players in queue to generate matches",position:"top"})},b=s=>{M.value=s,q.value=null,h.value=!0},re=()=>{if(q.value===null||M.value===-1)return;const s=q.value==="team1"?"Team 1":"Team 2";o.dialog({title:"Complete Match",message:`Confirm ${s} as the winner? This will update player stats and remove the match.`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Complete",color:"accent",icon:"check"}}).onOk(()=>{const g=d.value[M.value];g.forEach(w=>{const U=t.value.find(J=>J.name===w.name);if(U){U.gamesPlayed++;const J=g.findIndex(ce=>ce.name===w.name),we=g.length===2?J===0:J<2;q.value==="team1"&&we||q.value==="team2"&&!we?U.wins++:U.losses++}}),d.value.splice(M.value,1),y(d.value),me(t.value),h.value=!1,q.value=null,M.value=-1,o.notify({type:"positive",message:"Match completed! Stats updated.",position:"top"})})},Te=s=>{o.dialog({title:"Confirm Removal",message:`Are you sure you want to remove "${s}" from all lists?`,cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Remove",color:"negative",icon:"delete"},persistent:!0}).onOk(()=>{t.value=t.value.filter(g=>g.name!==s),c.value=c.value.filter(g=>g.name!==s),me(t.value),u(c.value),o.notify({type:"positive",message:`Player "${s}" removed successfully`,position:"top"})})},je=s=>{o.dialog({title:"Remove from Queue",message:`Remove "${s}" from the queue?`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Remove",color:"negative",icon:"remove_circle"}}).onOk(()=>{c.value=c.value.filter(g=>g.name!==s),u(c.value),o.notify({type:"info",message:`Player "${s}" removed from queue`,position:"top"})})},Ve=()=>{o.dialog({title:"Confirm Reset",message:"Are you sure you want to reset all games played counters to zero?",cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Reset",color:"negative",icon:"refresh"},persistent:!0}).onOk(()=>{t.value.forEach(s=>{s.gamesPlayed=0,s.wins=0,s.losses=0}),me(t.value),o.notify({type:"positive",message:"All games played counters have been reset",position:"top"})})},at=s=>{const g=t.value.find(w=>w.name===s);if(g){if(c.value.some(w=>w.name===s)){o.notify({type:"warning",message:`Player "${s}" is already in the queue`,position:"top"});return}c.value.push(g),u(c.value),o.notify({type:"positive",message:`Player "${s}" added to queue`,position:"top"})}},Ie=()=>{o.dialog({title:"Confirm Reset All",message:"This will clear all players, queue, and matches. Are you sure?",cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Reset All",color:"negative",icon:"delete_forever"},persistent:!0}).onOk(()=>{t.value=[],c.value=[],d.value=[],me(t.value),u(c.value),y(d.value),o.notify({type:"positive",message:"All data has been reset",position:"top"})})},He=()=>{I.value=[],p.value=[],R.value=[],C.value=1,m.value=!0},nt=()=>{I.value=[],p.value=[],R.value=[],C.value=1,j.value=null,T.value=null,m.value=!1},Ye=s=>{const g=I.value.findIndex(U=>U.name===s.name),w=L.value==="singles"?2:4;g>=0?I.value.splice(g,1):I.value.length<w?I.value.push(s):o.notify({type:"warning",message:`You can only select ${w} players`,position:"top"})},ht=s=>I.value.some(g=>g.name===s.name),Je=()=>{if(I.value.length!==4){o.notify({type:"warning",message:"Please select exactly 4 players",position:"top"});return}const s=W([...I.value]);p.value=[s[0],s[1]],R.value=[s[2],s[3]],C.value=2},Se=s=>s.reduce((g,w)=>g+w.level,0),ne=()=>Math.abs(Se(p.value)-Se(R.value)),Ke=()=>ne()<=1,ot=()=>{const s=ne();return s===0?"green":s===1?"light-green":s===2?"orange":"red"},Ht=()=>{const s=ne();return s===0?"verified":s===1?"check_circle":s===2?"warning":"error"},Ct=()=>{const s=ne();return s===0?"Perfect Balance":s===1?"Well Balanced":s===2?"Slightly Unbalanced":"Very Unbalanced"},yt=()=>{const s=[...p.value,...R.value],g=W(s);p.value=[g[0],g[1]],R.value=[g[2],g[3]],o.notify({type:"positive",message:"Teams have been balanced using smart algorithm",position:"top"})},Rt=()=>{const s=[...p.value,...R.value];for(let g=s.length-1;g>0;g--){const w=Math.floor(Math.random()*(g+1));[s[g],s[w]]=[s[w],s[g]]}p.value=[s[0],s[1]],R.value=[s[2],s[3]],o.notify({type:"info",message:"Teams have been shuffled randomly",position:"top"})},qt=(s,g)=>{if(!j.value){j.value=s,T.value=g;return}if(j.value.name===s.name){j.value=null,T.value=null;return}const w=p.value,U=R.value;p.value=w.filter(J=>J.name!==j.value.name&&J.name!==s.name),R.value=U.filter(J=>J.name!==j.value.name&&J.name!==s.name),T.value==="team1"?R.value.push(j.value):p.value.push(j.value),g==="team1"?R.value.push(s):p.value.push(s),o.notify({type:"positive",message:`Swapped ${j.value.name} with ${s.name}`,position:"top"}),j.value=null,T.value=null},Re=()=>{if(p.value.length!==2||R.value.length!==2){o.notify({type:"warning",message:"Each team must have exactly 2 players",position:"top"});return}ne()>=3?o.dialog({title:"Unbalanced Teams",message:`These teams are very unbalanced (skill difference: ${ne()}). Are you sure you want to create this match?`,cancel:{label:"Go Back",color:"grey",flat:!0},ok:{label:"Create Anyway",color:"accent",icon:"check"},persistent:!0}).onOk(()=>{Be()}):Be()},Be=()=>{const s=[...p.value,...R.value];d.value.push(s);const g=s.map(w=>w.name);c.value=c.value.filter(w=>!g.includes(w.name)),y(d.value),u(c.value),m.value=!1,I.value=[],p.value=[],R.value=[],C.value=1,j.value=null,T.value=null,o.notify({type:"positive",message:"Manual match created successfully!",position:"top"})},Pt={$q:o,players:t,queue:c,matches:d,newPlayerName:n,newPlayerLevel:f,showAddPlayerDialog:S,showSettingsDialog:P,showMatchResultDialog:h,selectedWinner:q,currentMatchIndex:M,showManualSelectionDialog:m,manualSelectionStep:C,selectedPlayers:I,manualTeam1:p,manualTeam2:R,selectedForSwap:j,selectedForSwapTeam:T,sortBy:H,matchType:L,levelOptions:K,matchTypeOptions:X,sortOptions:ae,queueStats:ie,sortedPlayers:ye,currentMatch:Me,getLevelColor:ue,getLevelIcon:_e,canGenerateMatches:ze,getMatchGenerationHint:ke,getWaitingPlayersInfo:se,getPlayersFromStorage:Ae,getQueueFromStorage:Ce,getMatchesFromStorage:be,savePlayersToStorage:me,saveQueueToStorage:u,saveMatchesToStorage:y,generateMatches:V,createBalancedMatch:W,generateTeamCombinations:Q,addNewPlayer:O,generateNewMatches:F,executeMatchGeneration:$,openMatchResultDialog:b,completeMatch:re,removePlayer:Te,removeFromQueue:je,resetGamesPlayed:Ve,requeuePlayer:at,resetAllData:Ie,startManualSelection:He,cancelManualSelection:nt,togglePlayerSelection:Ye,isPlayerSelected:ht,proceedToTeamArrangement:Je,getTeamSkill:Se,getSkillDifference:ne,isBalanced:Ke,getBalanceColor:ot,getBalanceIcon:Ht,getBalanceText:Ct,balanceTeams:yt,shuffleTeams:Rt,selectPlayerForSwap:qt,createManualMatch:Re,finalizeManualMatch:Be,createSinglesManualMatch:()=>{if(I.value.length!==2){o.notify({type:"warning",message:"Please select exactly 2 players",position:"top"});return}const s=[...I.value];d.value.push(s);const g=s.map(w=>w.name);c.value=c.value.filter(w=>!g.includes(w.name)),y(d.value),u(c.value),m.value=!1,I.value=[],o.notify({type:"positive",message:"Singles match created successfully!",position:"top"})}};return Object.defineProperty(Pt,"__isScriptSetup",{enumerable:!1,value:!0}),Pt}}),ln={class:"header-section"},an={class:"container"},nn={class:"row items-center justify-between"},on={class:"col-auto"},sn={class:"container q-pa-md"},un={class:"row q-col-gutter-lg"},rn={class:"col-12 col-md-4"},cn={class:"row items-center justify-between"},dn={class:"text-h6"},fn={class:"row items-center q-gutter-xs"},vn={class:"card-content"},mn={class:"q-ml-sm text-grey-7"},gn={class:"q-ml-sm text-positive"},hn={class:"q-ml-sm text-negative"},yn={class:"row items-center q-gutter-xs"},bn={key:1,class:"empty-state"},Sn={class:"col-12 col-md-4"},wn={class:"row items-center justify-between"},pn={class:"text-h6"},xn={class:"queue-stats"},_n={class:"card-content"},kn={class:"q-ml-sm"},Cn={key:1,class:"empty-state"},qn={class:"q-mb-md"},Pn={class:"row q-gutter-sm"},Mn={class:"text-caption text-grey-6 q-mt-sm text-center"},Tn={key:0,class:"q-mt-md"},Vn={class:"text-caption text-orange q-mt-sm"},zn={class:"col-12 col-md-4"},Ln={class:"text-h6"},An={class:"card-content"},Bn={key:0,class:"match-teams"},En={class:"team team-1"},Fn={class:"vs-divider"},On={class:"team team-2"},In={key:1,class:"match-teams"},Hn={class:"team team-1"},Rn={class:"vs-divider"},Dn={class:"team team-2"},Nn={key:1,class:"empty-state"},Wn={class:"text-h6"},Qn={class:"q-gutter-y-md"},jn={class:"text-h6"},Kn={class:"q-gutter-y-md"},Un={key:0,class:"row q-col-gutter-md"},Gn={class:"col-6"},Xn={class:"text-caption q-mt-sm"},Yn={class:"col-6"},Jn={class:"text-caption q-mt-sm"},Zn={key:1,class:"row q-col-gutter-md"},$n={class:"col-6"},eo={class:"col-6"},to={class:"text-h6"},lo={class:"q-gutter-y-md"},ao={class:"row items-center justify-between"},no={class:"text-h6"},oo={class:"manual-selection-container"},io={key:0,class:"selection-step"},so={class:"text-h6 q-mb-md"},uo={class:"text-caption text-grey-7 q-mb-md"},ro={class:"q-ml-sm text-grey-7"},co={class:"q-ml-sm text-positive"},fo={class:"q-ml-sm text-negative"},vo={class:"q-mt-lg row justify-end q-gutter-sm"},mo={key:1,class:"arrangement-step"},go={class:"balance-indicator q-mb-lg"},ho={class:"row items-center justify-between"},yo={class:"row items-center q-gutter-sm"},bo={class:"text-caption text-grey-7 q-mt-xs"},So={class:"row q-mb-lg q-gutter-sm"},wo={class:"row q-col-gutter-lg"},po={class:"col-12 col-md-6"},xo={class:"text-h6"},_o={class:"text-caption text-grey-6 q-mb-sm text-center"},ko={key:1,class:"text-center text-grey-6 q-pa-md empty-team-drop"},Co={class:"col-12 col-md-6"},qo={class:"text-h6"},Po={class:"text-caption text-grey-6 q-mb-sm text-center"},Mo={key:1,class:"text-center text-grey-6 q-pa-md empty-team-drop"},To={class:"q-mt-lg row justify-between"},Vo={class:"row q-gutter-sm"};function zo(e,l,o,t,c,d){return N(),de(Za,{class:"doubles-queue-page"},{default:r(()=>[v("div",ln,[v("div",an,[v("div",nn,[l[18]||(l[18]=v("div",{class:"col"},[v("h1",{class:"text-h5 text-weight-bold text-white q-mb-xs"},"  Queue Master "),v("p",{class:"text-caption text-grey-1 q-ma-none"}," Smart matchmaking for singles & doubles ")],-1)),v("div",on,[i(ee,{color:"white",icon:"settings",label:"Settings",onClick:l[0]||(l[0]=n=>t.showSettingsDialog=!0),flat:"",size:"sm"})])])])]),v("div",sn,[v("div",un,[v("div",rn,[i(qe,{class:"players-card",flat:"",bordered:""},{default:r(()=>[i(te,{class:"players-header text-white"},{default:r(()=>[v("div",cn,[v("div",dn,[i(G,{name:"people",class:"q-mr-sm"}),A(" Players ("+z(t.players.length)+") ",1)]),v("div",fn,[i(Xt,{modelValue:t.sortBy,"onUpdate:modelValue":l[1]||(l[1]=n=>t.sortBy=n),options:t.sortOptions,dense:"",outlined:"",dark:"",color:"white",class:"sort-select",style:{"min-width":"120px"},"emit-value":"","map-options":""},{prepend:r(()=>[i(G,{name:"sort"})]),_:1},8,["modelValue"]),i(ee,{color:"white",onClick:l[2]||(l[2]=n=>t.showAddPlayerDialog=!0),icon:"person_add",flat:"",round:"",dense:""})])])]),_:1}),i(te,{class:"q-pa-none"},{default:r(()=>[v("div",vn,[t.players.length>0?(N(),de(vt,{key:0,separator:""},{default:r(()=>[(N(!0),fe(ft,null,dt(t.sortedPlayers,n=>(N(),de(Xe,{key:n.name,class:"player-item"},{default:r(()=>[i(ve,null,{default:r(()=>[i(Pe,{class:"text-weight-medium"},{default:r(()=>[A(z(n.name),1)]),_:2},1024),i(Pe,{caption:"",class:"q-pl-xs"},{default:r(()=>[i(le,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),v("span",mn,"Games: "+z(n.gamesPlayed),1),v("span",gn,"W: "+z(n.wins),1),v("span",hn,"L: "+z(n.losses),1)]),_:2},1024)]),_:2},1024),i(ve,{side:""},{default:r(()=>[v("div",yn,[i(ee,{flat:"",round:"",color:"negative",onClick:f=>t.removePlayer(n.name),icon:"delete",size:"sm"},null,8,["onClick"]),i(ee,{flat:"",color:"accent",onClick:f=>t.requeuePlayer(n.name),icon:"input",size:"sm",disable:t.queue.some(f=>f.name===n.name)},null,8,["onClick","disable"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(N(),fe("div",bn,[i(G,{name:"people",size:"48px",color:"grey-4"}),l[19]||(l[19]=v("p",{class:"text-grey-6 q-mt-sm"},"No players added yet",-1)),l[20]||(l[20]=v("p",{class:"text-caption text-grey-5"},"Click the + button to add your first player",-1))]))])]),_:1})]),_:1})]),v("div",Sn,[i(qe,{class:"queue-card",flat:"",bordered:""},{default:r(()=>[i(te,{class:"queue-header text-white"},{default:r(()=>[v("div",wn,[v("div",pn,[i(G,{name:"queue",class:"q-mr-sm"}),A(" Players Queue ("+z(t.queue.length)+") ",1)]),v("div",xn,[i(le,{label:`L1: ${t.queueStats.level1}`,color:"green-6","text-color":"white",size:"sm"},null,8,["label"]),i(le,{label:`L2: ${t.queueStats.level2}`,color:"orange-7","text-color":"white",size:"sm"},null,8,["label"]),i(le,{label:`L3: ${t.queueStats.level3}`,color:"red-8","text-color":"white",size:"sm"},null,8,["label"])])])]),_:1}),i(te,{class:"q-pa-none"},{default:r(()=>[v("div",_n,[t.queue.length>0?(N(),de(vt,{key:0,separator:""},{default:r(()=>[(N(!0),fe(ft,null,dt(t.queue,(n,f)=>(N(),de(Xe,{key:n.name,class:"queue-item"},{default:r(()=>[i(ve,{avatar:""},{default:r(()=>[i(jt,{color:"accent","text-color":"white",size:"md"},{default:r(()=>[A(z(f+1)+" ",1),i(pe,null,{default:r(()=>[A("Position in queue: "+z(f+1),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),i(ve,null,{default:r(()=>[i(Pe,{class:"text-weight-medium"},{default:r(()=>[A(z(n.name),1)]),_:2},1024),i(Pe,{caption:"",class:"q-pl-xs"},{default:r(()=>[i(le,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),v("span",kn,z(n.gamesPlayed)+" games",1)]),_:2},1024)]),_:2},1024),i(ve,{side:""},{default:r(()=>[i(ee,{flat:"",round:"",color:"negative",onClick:S=>t.removeFromQueue(n.name),icon:"remove_circle",size:"sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(N(),fe("div",Cn,[i(G,{name:"queue",size:"48px",color:"grey-4"}),l[21]||(l[21]=v("p",{class:"text-grey-6 q-mt-sm"},"Queue is empty",-1)),l[22]||(l[22]=v("p",{class:"text-caption text-grey-5"},"Add players to start generating matches",-1))]))])]),_:1}),i(te,null,{default:r(()=>[v("div",qn,[l[23]||(l[23]=v("div",{class:"text-caption text-grey-7 q-mb-xs"},"Match Type",-1)),i(Xt,{modelValue:t.matchType,"onUpdate:modelValue":l[3]||(l[3]=n=>t.matchType=n),options:t.matchTypeOptions,dense:"",outlined:"","emit-value":"","map-options":"",color:"accent"},{prepend:r(()=>[i(G,{name:t.matchType==="singles"?"person":"people"},null,8,["name"])]),_:1},8,["modelValue"])]),v("div",Pn,[i(ee,{class:"col",color:"accent",onClick:t.generateNewMatches,size:"md",icon:"auto_awesome",disable:!t.canGenerateMatches()},{default:r(()=>[l[24]||(l[24]=v("span",{class:"gt-xs"},"Auto Generate",-1)),l[25]||(l[25]=v("span",{class:"lt-sm"},"Auto",-1)),t.canGenerateMatches()?Ge("",!0):(N(),de(pe,{key:0},{default:r(()=>[A(z(t.matchType==="singles"?"Need at least 2 players":"Need at least 4 players"),1)]),_:1}))]),_:1},8,["disable"]),i(ee,{class:"col",color:"accent",onClick:t.startManualSelection,size:"md",icon:"touch_app",disable:t.queue.length<(t.matchType==="singles"?2:4),outline:""},{default:r(()=>[l[26]||(l[26]=v("span",{class:"gt-xs"},"Manual Selection",-1)),l[27]||(l[27]=v("span",{class:"lt-sm"},"Manual",-1)),t.queue.length<(t.matchType==="singles"?2:4)?(N(),de(pe,{key:0},{default:r(()=>[A(z(t.matchType==="singles"?"Need at least 2 players for manual singles selection":"Need at least 4 players for manual doubles selection"),1)]),_:1})):Ge("",!0)]),_:1},8,["disable"])]),v("div",Mn,z(t.getMatchGenerationHint()),1),t.queue.length>0&&t.queue.length%(t.matchType==="singles"?2:4)!==0?(N(),fe("div",Tn,[i(Va),v("div",Vn,[i(G,{name:"schedule",size:"xs",class:"q-mr-xs"}),A(" "+z(t.getWaitingPlayersInfo()),1)])])):Ge("",!0)]),_:1})]),_:1})]),v("div",zn,[i(qe,{class:"matches-card",flat:"",bordered:""},{default:r(()=>[i(te,{class:"matches-header text-white"},{default:r(()=>[v("div",Ln,[i(G,{name:"sports_tennis",class:"q-mr-sm"}),A(" Matches ("+z(t.matches.length)+") ",1)])]),_:1}),i(te,{class:"q-pa-none"},{default:r(()=>[v("div",An,[t.matches.length>0?(N(),de(vt,{key:0,separator:""},{default:r(()=>[(N(!0),fe(ft,null,dt(t.matches,(n,f)=>(N(),de(Xe,{key:f,class:"match-item"},{default:r(()=>[i(ve,null,{default:r(()=>[n.length===2?(N(),fe("div",Bn,[v("div",En,[i(le,{color:t.getLevelColor(n[0].level),"text-color":"white",size:"sm",dense:"",class:"match-player-chip"},{default:r(()=>[A(z(n[0].name)+" ",1),i(pe,null,{default:r(()=>[A("Level "+z(n[0].level),1)]),_:2},1024)]),_:2},1032,["color"])]),v("div",Fn,[i(G,{name:"sports_tennis",color:"grey-6",size:"sm"})]),v("div",On,[i(le,{color:t.getLevelColor(n[1].level),"text-color":"white",size:"sm",dense:"",class:"match-player-chip"},{default:r(()=>[A(z(n[1].name)+" ",1),i(pe,null,{default:r(()=>[A("Level "+z(n[1].level),1)]),_:2},1024)]),_:2},1032,["color"])])])):(N(),fe("div",In,[v("div",Hn,[i(le,{color:t.getLevelColor(n[0].level),"text-color":"white",size:"sm",dense:"",class:"match-player-chip"},{default:r(()=>[A(z(n[0].name)+" ",1),i(pe,null,{default:r(()=>[A("Level "+z(n[0].level),1)]),_:2},1024)]),_:2},1032,["color"]),i(le,{color:t.getLevelColor(n[1].level),"text-color":"white",size:"sm",dense:"",class:"match-player-chip"},{default:r(()=>[A(z(n[1].name)+" ",1),i(pe,null,{default:r(()=>[A("Level "+z(n[1].level),1)]),_:2},1024)]),_:2},1032,["color"])]),v("div",Rn,[i(G,{name:"sports_tennis",color:"grey-6",size:"sm"})]),v("div",Dn,[i(le,{color:t.getLevelColor(n[2].level),"text-color":"white",size:"sm",dense:"",class:"match-player-chip"},{default:r(()=>[A(z(n[2].name)+" ",1),i(pe,null,{default:r(()=>[A("Level "+z(n[2].level),1)]),_:2},1024)]),_:2},1032,["color"]),i(le,{color:t.getLevelColor(n[3].level),"text-color":"white",size:"sm",dense:"",class:"match-player-chip"},{default:r(()=>[A(z(n[3].name)+" ",1),i(pe,null,{default:r(()=>[A("Level "+z(n[3].level),1)]),_:2},1024)]),_:2},1032,["color"])])]))]),_:2},1024),i(ve,{side:""},{default:r(()=>[i(ee,{flat:"",color:"accent",onClick:S=>t.openMatchResultDialog(f),icon:"emoji_events",size:"sm",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(N(),fe("div",Nn,[i(G,{name:"sports_tennis",size:"48px",color:"grey-4"}),l[28]||(l[28]=v("p",{class:"text-grey-6 q-mt-sm"},"No active matches",-1)),l[29]||(l[29]=v("p",{class:"text-caption text-grey-5"},"Generate matches from the queue to get started",-1))]))])]),_:1})]),_:1})])])]),i(_t,{modelValue:t.showAddPlayerDialog,"onUpdate:modelValue":l[7]||(l[7]=n=>t.showAddPlayerDialog=n)},{default:r(()=>[i(qe,{style:{"min-width":"350px","max-width":"500px",width:"90vw"}},{default:r(()=>[i(te,{class:"players-header text-white"},{default:r(()=>[v("div",Wn,[i(G,{name:"person_add",class:"q-mr-sm"}),l[30]||(l[30]=A(" Add New Player "))])]),_:1}),i(te,null,{default:r(()=>[v("div",Qn,[i(za,{modelValue:t.newPlayerName,"onUpdate:modelValue":l[4]||(l[4]=n=>t.newPlayerName=n),label:"Player Name",type:"text",onKeyup:La(t.addNewPlayer,["enter"]),rules:[n=>!!n?.trim()||"Player name is required"],outlined:"",dense:"",autofocus:""},{prepend:r(()=>[i(G,{name:"person"})]),_:1},8,["modelValue","rules"]),i(Xt,{modelValue:t.newPlayerLevel,"onUpdate:modelValue":l[5]||(l[5]=n=>t.newPlayerLevel=n),options:t.levelOptions,label:"Player Level",rules:[n=>n!==null||"Player level is required"],outlined:"",dense:"","emit-value":"","map-options":""},{prepend:r(()=>[i(G,{name:"star"})]),option:r(n=>[i(Xe,Aa(Ba(n.itemProps)),{default:r(()=>[i(ve,{avatar:""},{default:r(()=>[i(G,{name:t.getLevelIcon(n.opt.value),color:t.getLevelColor(n.opt.value)},null,8,["name","color"])]),_:2},1024),i(ve,null,{default:r(()=>[i(Pe,null,{default:r(()=>[A(z(n.opt.label),1)]),_:2},1024),i(Pe,{caption:""},{default:r(()=>[A(z(n.opt.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","rules"])])]),_:1}),i(Qt,{align:"right"},{default:r(()=>[i(ee,{flat:"",label:"Cancel",color:"grey",onClick:l[6]||(l[6]=n=>t.showAddPlayerDialog=!1)}),i(ee,{color:"accent",onClick:t.addNewPlayer,label:"Add Player",disable:!t.newPlayerName?.trim()||t.newPlayerLevel===null,icon:"add"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(_t,{modelValue:t.showMatchResultDialog,"onUpdate:modelValue":l[13]||(l[13]=n=>t.showMatchResultDialog=n)},{default:r(()=>[i(qe,{style:{"min-width":"350px","max-width":"600px",width:"95vw"}},{default:r(()=>[i(te,{class:"matches-header text-white"},{default:r(()=>[v("div",jn,[i(G,{name:"emoji_events",class:"q-mr-sm"}),l[31]||(l[31]=A(" Match Result "))])]),_:1}),i(te,null,{default:r(()=>[v("div",Kn,[l[34]||(l[34]=v("div",{class:"text-subtitle1 text-center q-mb-md"},"Who won this match?",-1)),t.currentMatch.length===2?(N(),fe("div",Un,[v("div",Gn,[i(qe,{class:Ne([t.selectedWinner==="team1"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[8]||(l[8]=n=>t.selectedWinner="team1"),flat:"",bordered:""},{default:r(()=>[i(te,{class:"text-center"},{default:r(()=>[i(le,{label:t.currentMatch[0].name,color:t.getLevelColor(t.currentMatch[0].level),"text-color":"white",size:"md"},null,8,["label","color"]),v("div",Xn,"Level "+z(t.currentMatch[0].level),1)]),_:1})]),_:1},8,["class"])]),v("div",Yn,[i(qe,{class:Ne([t.selectedWinner==="team2"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[9]||(l[9]=n=>t.selectedWinner="team2"),flat:"",bordered:""},{default:r(()=>[i(te,{class:"text-center"},{default:r(()=>[i(le,{label:t.currentMatch[1].name,color:t.getLevelColor(t.currentMatch[1].level),"text-color":"white",size:"md"},null,8,["label","color"]),v("div",Jn,"Level "+z(t.currentMatch[1].level),1)]),_:1})]),_:1},8,["class"])])])):(N(),fe("div",Zn,[v("div",$n,[i(qe,{class:Ne([t.selectedWinner==="team1"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[10]||(l[10]=n=>t.selectedWinner="team1"),flat:"",bordered:""},{default:r(()=>[i(te,{class:"text-center"},{default:r(()=>[l[32]||(l[32]=v("div",{class:"text-weight-medium q-mb-sm"},"Team 1",-1)),i(le,{label:t.currentMatch[0].name,color:t.getLevelColor(t.currentMatch[0].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),i(le,{label:t.currentMatch[1].name,color:t.getLevelColor(t.currentMatch[1].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])]),v("div",eo,[i(qe,{class:Ne([t.selectedWinner==="team2"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[11]||(l[11]=n=>t.selectedWinner="team2"),flat:"",bordered:""},{default:r(()=>[i(te,{class:"text-center"},{default:r(()=>[l[33]||(l[33]=v("div",{class:"text-weight-medium q-mb-sm"},"Team 2",-1)),i(le,{label:t.currentMatch[2].name,color:t.getLevelColor(t.currentMatch[2].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),i(le,{label:t.currentMatch[3].name,color:t.getLevelColor(t.currentMatch[3].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])])]))])]),_:1}),i(Qt,{align:"right"},{default:r(()=>[i(ee,{flat:"",label:"Cancel",color:"grey",onClick:l[12]||(l[12]=n=>t.showMatchResultDialog=!1)}),i(ee,{color:"accent",onClick:t.completeMatch,label:"Complete Match",disable:t.selectedWinner===null,icon:"check"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(_t,{modelValue:t.showSettingsDialog,"onUpdate:modelValue":l[15]||(l[15]=n=>t.showSettingsDialog=n)},{default:r(()=>[i(qe,{style:{"min-width":"350px","max-width":"500px",width:"90vw"}},{default:r(()=>[i(te,{class:"queue-header text-white"},{default:r(()=>[v("div",to,[i(G,{name:"settings",class:"q-mr-sm"}),l[35]||(l[35]=A(" Settings "))])]),_:1}),i(te,null,{default:r(()=>[v("div",lo,[v("div",null,[i(ee,{color:"accent",onClick:t.resetGamesPlayed,icon:"refresh",label:"Reset Games Played",class:"full-width"})]),v("div",null,[i(ee,{color:"negative",onClick:t.resetAllData,icon:"delete_forever",label:"Reset All Data",class:"full-width"})])])]),_:1}),i(Qt,{align:"right"},{default:r(()=>[i(ee,{flat:"",label:"Close",color:"grey",onClick:l[14]||(l[14]=n=>t.showSettingsDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(_t,{modelValue:t.showManualSelectionDialog,"onUpdate:modelValue":l[17]||(l[17]=n=>t.showManualSelectionDialog=n),maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:r(()=>[i(qe,null,{default:r(()=>[i(te,{class:"players-header text-white"},{default:r(()=>[v("div",ao,[v("div",no,[i(G,{name:"touch_app",class:"q-mr-sm"}),A(" Manual "+z(t.matchType==="singles"?"Singles":"Doubles")+" Match Selection ",1)]),Ea(i(ee,{icon:"close",flat:"",round:"",dense:""},null,512),[[$a]])])]),_:1}),i(te,null,{default:r(()=>[v("div",oo,[t.manualSelectionStep===1?(N(),fe("div",io,[v("div",so,"Step 1: Select "+z(t.matchType==="singles"?"2":"4")+" Players",1),v("div",uo," Click on players to select them for the match ("+z(t.selectedPlayers.length)+"/"+z(t.matchType==="singles"?2:4)+" selected) ",1),i(vt,{separator:"",bordered:"",class:"rounded-borders"},{default:r(()=>[(N(!0),fe(ft,null,dt(t.queue,n=>(N(),de(Xe,{key:n.name,clickable:"",onClick:f=>t.togglePlayerSelection(n),class:Ne([{"selected-player":t.isPlayerSelected(n)},"player-selection-item"])},{default:r(()=>[i(ve,{avatar:""},{default:r(()=>[i(Fa,{"model-value":t.isPlayerSelected(n),color:"accent",onClick:Oa(f=>t.togglePlayerSelection(n),["stop"])},null,8,["model-value","onClick"])]),_:2},1024),i(ve,null,{default:r(()=>[i(Pe,{class:"text-weight-medium"},{default:r(()=>[A(z(n.name),1)]),_:2},1024),i(Pe,{caption:"",class:"q-pl-xs"},{default:r(()=>[i(le,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),v("span",ro,"Games: "+z(n.gamesPlayed),1),v("span",co,"W: "+z(n.wins),1),v("span",fo,"L: "+z(n.losses),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1}),v("div",vo,[i(ee,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),t.matchType==="doubles"?(N(),de(ee,{key:0,color:"accent",label:"Next: Arrange Teams","icon-right":"arrow_forward",onClick:t.proceedToTeamArrangement,disable:t.selectedPlayers.length!==4},null,8,["disable"])):(N(),de(ee,{key:1,color:"accent",label:"Create Match",icon:"check",onClick:t.createSinglesManualMatch,disable:t.selectedPlayers.length!==2},null,8,["disable"]))])])):Ge("",!0),t.manualSelectionStep===2?(N(),fe("div",mo,[l[46]||(l[46]=v("div",{class:"text-h6 q-mb-md"},"Step 2: Arrange Teams",-1)),v("div",go,[v("div",ho,[l[37]||(l[37]=v("div",{class:"text-subtitle1"},"Team Balance",-1)),v("div",yo,[i(le,{color:t.getBalanceColor(),"text-color":"white",icon:t.getBalanceIcon(),size:"md"},{default:r(()=>[A(z(t.getBalanceText()),1)]),_:1},8,["color","icon"]),t.isBalanced()?Ge("",!0):(N(),de(G,{key:0,name:"warning",color:"orange",size:"sm"},{default:r(()=>[i(pe,null,{default:r(()=>l[36]||(l[36]=[A("Teams are unbalanced. Consider using Balance Teams button.")])),_:1})]),_:1}))])]),v("div",bo," Skill difference: "+z(t.getSkillDifference())+" point"+z(t.getSkillDifference()!==1?"s":"")+" (Team 1: "+z(t.getTeamSkill(t.manualTeam1))+" vs Team 2: "+z(t.getTeamSkill(t.manualTeam2))+") ",1)]),v("div",So,[i(ee,{color:"accent",label:"Balance Teams",icon:"balance",onClick:t.balanceTeams,outline:""},{default:r(()=>[i(pe,null,{default:r(()=>l[38]||(l[38]=[A("Use smart algorithm to create balanced teams")])),_:1})]),_:1}),i(ee,{color:"accent",label:"Shuffle",icon:"shuffle",onClick:t.shuffleTeams,outline:""},{default:r(()=>[i(pe,null,{default:r(()=>l[39]||(l[39]=[A("Randomly assign players to teams")])),_:1})]),_:1})]),v("div",wo,[v("div",po,[i(qe,{flat:"",bordered:""},{default:r(()=>[i(te,{class:"bg-blue-6 text-white"},{default:r(()=>[v("div",xo,[l[40]||(l[40]=A(" Team 1 ")),i(le,{label:`Skill: ${t.getTeamSkill(t.manualTeam1)}`,color:"white","text-color":"blue-6",size:"sm",class:"q-ml-sm"},null,8,["label"])])]),_:1}),i(te,{class:"team-drop-area"},{default:r(()=>[v("div",_o,[i(G,{name:"touch_app",size:"xs"}),l[41]||(l[41]=A(" Click to select, click another to swap "))]),t.manualTeam1.length>0?(N(),de(vt,{key:0},{default:r(()=>[(N(!0),fe(ft,null,dt(t.manualTeam1,(n,f)=>(N(),de(Xe,{key:n.name,clickable:"",class:Ne(["team-player-item swappable-player",{"selected-for-swap":t.selectedForSwap?.name===n.name,"can-swap-with":t.selectedForSwap&&t.selectedForSwap.name!==n.name}]),onClick:S=>t.selectPlayerForSwap(n,"team1")},{default:r(()=>[i(ve,{avatar:""},{default:r(()=>[i(jt,{color:t.getLevelColor(n.level),"text-color":"white",class:Ne({"swap-pulse":t.selectedForSwap?.name===n.name})},{default:r(()=>[A(z(f+1)+" ",1),i(pe,null,{default:r(()=>[A(z(n.name)+" - Level "+z(n.level)+" - Position "+z(f+1),1)]),_:2},1024)]),_:2},1032,["color","class"])]),_:2},1024),i(ve,null,{default:r(()=>[i(Pe,{class:"text-weight-medium"},{default:r(()=>[A(z(n.name)+" ",1),t.selectedForSwap?.name===n.name?(N(),de(G,{key:0,name:"check_circle",color:"green",size:"sm",class:"q-ml-xs swap-icon-pulse"})):Ge("",!0)]),_:2},1024),i(Pe,{caption:""},{default:r(()=>[A("Level "+z(n.level),1)]),_:2},1024)]),_:2},1024),i(ve,{side:""},{default:r(()=>[i(G,{name:"swap_horiz",color:"grey-5",size:"sm"})]),_:1})]),_:2},1032,["class","onClick"]))),128))]),_:1})):(N(),fe("div",ko,[i(G,{name:"group_add",size:"lg",color:"grey-4"}),l[42]||(l[42]=v("p",{class:"q-mt-sm"},"Click to assign",-1))]))]),_:1})]),_:1})]),v("div",Co,[i(qe,{flat:"",bordered:""},{default:r(()=>[i(te,{class:"bg-orange-6 text-white"},{default:r(()=>[v("div",qo,[l[43]||(l[43]=A(" Team 2 ")),i(le,{label:`Skill: ${t.getTeamSkill(t.manualTeam2)}`,color:"white","text-color":"orange-6",size:"sm",class:"q-ml-sm"},null,8,["label"])])]),_:1}),i(te,{class:"team-drop-area"},{default:r(()=>[v("div",Po,[i(G,{name:"touch_app",size:"xs"}),l[44]||(l[44]=A(" Click to select, click another to swap "))]),t.manualTeam2.length>0?(N(),de(vt,{key:0},{default:r(()=>[(N(!0),fe(ft,null,dt(t.manualTeam2,(n,f)=>(N(),de(Xe,{key:n.name,clickable:"",class:Ne(["team-player-item swappable-player",{"selected-for-swap":t.selectedForSwap?.name===n.name,"can-swap-with":t.selectedForSwap&&t.selectedForSwap.name!==n.name}]),onClick:S=>t.selectPlayerForSwap(n,"team2")},{default:r(()=>[i(ve,{avatar:""},{default:r(()=>[i(jt,{color:t.getLevelColor(n.level),"text-color":"white",class:Ne({"swap-pulse":t.selectedForSwap?.name===n.name})},{default:r(()=>[A(z(f+1)+" ",1),i(pe,null,{default:r(()=>[A(z(n.name)+" - Level "+z(n.level)+" - Position "+z(f+1),1)]),_:2},1024)]),_:2},1032,["color","class"])]),_:2},1024),i(ve,null,{default:r(()=>[i(Pe,{class:"text-weight-medium"},{default:r(()=>[A(z(n.name)+" ",1),t.selectedForSwap?.name===n.name?(N(),de(G,{key:0,name:"check_circle",color:"green",size:"sm",class:"q-ml-xs swap-icon-pulse"})):Ge("",!0)]),_:2},1024),i(Pe,{caption:""},{default:r(()=>[A("Level "+z(n.level),1)]),_:2},1024)]),_:2},1024),i(ve,{side:""},{default:r(()=>[i(G,{name:"swap_horiz",color:"grey-5",size:"sm"})]),_:1})]),_:2},1032,["class","onClick"]))),128))]),_:1})):(N(),fe("div",Mo,[i(G,{name:"group_add",size:"lg",color:"grey-4"}),l[45]||(l[45]=v("p",{class:"q-mt-sm"},"Click to assign",-1))]))]),_:1})]),_:1})])]),v("div",To,[i(ee,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[16]||(l[16]=()=>{t.manualSelectionStep=1,t.selectedForSwap=null,t.selectedForSwapTeam=null})}),v("div",Vo,[i(ee,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),i(ee,{color:"accent",label:"Create Match",icon:"check",onClick:t.createManualMatch,disable:t.manualTeam1.length!==2||t.manualTeam2.length!==2},null,8,["disable"])])])])):Ge("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Bo=Ta(tn,[["render",zo],["__file","IndexPage.vue"]]);export{Bo as default};
