import{r as L,a0 as dl,u as Ut,b as $e,s as nl,w as we,o as ka,a as dt,g as et,y as Ml,l as Tl,a1 as Hl,p as qa,R as Pa,c as Ee,A as ea,a2 as al,N as ta,C as la,f as _,a3 as aa,E as na,a4 as oa,F as sa,a5 as ia,O as ra,h as H,a6 as zl,J as tt,z as Je,a7 as Ll,a8 as ua,a9 as ca,aa as da,B as ml,ab as Ma,D as fl,ac as Ta,I as Aa,ad as R,ae as Va,af as Ba,ag as za,ah as La,j as Ea,ai as Da,x as Ia,aj as Fa,ak as Nl,al as Oa,am as Ra,an as Qa,ao as Ha,n as Na,ap as Wa,aq as ja,ar as Ua,as as Ka,at as ma,au as Ga,av as Wl,aw as Wt,ax as Ja,ay as Ya,az as Xa,v as Vt,aA as Za,aB as ct,U as fa,aC as $a,aD as W,aE as en,d as Al,e as Bt,k as tn,M as ln,m as an,aF as nn,aG as on,aH as sn,V as va,_ as ga,X as w,aI as G,aJ as f,$ as a,Z as o,aK as C,aL as S,Y as J,aM as be,aN as oe,aO as Me,aP as We,aQ as Pe,aR as je,aS as zt,aT as Fe,H as pt,aU as jl,aV as rn,aW as un,aX as cn,aY as bt,aZ as _l,a_ as dn,a$ as mn}from"./index-MzYLm0Wr.js";import{c as Vl,n as Ul}from"./format-BR2q62ZK.js";const ha={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},fn={...ha,contextMenu:Boolean};function ya({showing:e,avoidEmit:l,configureAnchorEl:i}){const{props:t,proxy:d,emit:c}=et(),n=L(null);let v=null;function p(y){return n.value===null?!1:y===void 0||y.touches===void 0||y.touches.length<=1}const T={};i===void 0&&(Object.assign(T,{hide(y){d.hide(y)},toggle(y){d.toggle(y),y.qAnchorHandled=!0},toggleKey(y){dl(y,13)===!0&&T.toggle(y)},contextClick(y){d.hide(y),Ut(y),$e(()=>{d.show(y),y.qAnchorHandled=!0})},prevent:Ut,mobileTouch(y){if(T.mobileCleanup(y),p(y)!==!0)return;d.hide(y),n.value.classList.add("non-selectable");const z=y.target;nl(T,"anchor",[[z,"touchmove","mobileCleanup","passive"],[z,"touchend","mobileCleanup","passive"],[z,"touchcancel","mobileCleanup","passive"],[n.value,"contextmenu","prevent","notPassive"]]),v=setTimeout(()=>{v=null,d.show(y),y.qAnchorHandled=!0},300)},mobileCleanup(y){n.value.classList.remove("non-selectable"),v!==null&&(clearTimeout(v),v=null),e.value===!0&&y!==void 0&&Vl()}}),i=function(y=t.contextMenu){if(t.noParentEvent===!0||n.value===null)return;let z;y===!0?d.$q.platform.is.mobile===!0?z=[[n.value,"touchstart","mobileTouch","passive"]]:z=[[n.value,"mousedown","hide","passive"],[n.value,"contextmenu","contextClick","notPassive"]]:z=[[n.value,"click","toggle","passive"],[n.value,"keyup","toggleKey","passive"]],nl(T,"anchor",z)});function h(){Ml(T,"anchor")}function D(y){for(n.value=y;n.value.classList.contains("q-anchor--skip");)n.value=n.value.parentNode;i()}function k(){if(t.target===!1||t.target===""||d.$el.parentNode===null)n.value=null;else if(t.target===!0)D(d.$el.parentNode);else{let y=t.target;if(typeof t.target=="string")try{y=document.querySelector(t.target)}catch{y=void 0}y!=null?(n.value=y.$el||y,i()):(n.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return we(()=>t.contextMenu,y=>{n.value!==null&&(h(),i(y))}),we(()=>t.target,()=>{n.value!==null&&h(),k()}),we(()=>t.noParentEvent,y=>{n.value!==null&&(y===!0?h():i())}),ka(()=>{k(),l!==!0&&t.modelValue===!0&&n.value===null&&c("update:modelValue",!1)}),dt(()=>{v!==null&&clearTimeout(v),h()}),{anchorEl:n,canShow:p,anchorEvents:T}}function pa(e,l){const i=L(null);let t;function d(v,p){const T=`${p!==void 0?"add":"remove"}EventListener`,h=p!==void 0?p:t;v!==window&&v[T]("scroll",h,Tl.passive),window[T]("scroll",h,Tl.passive),t=p}function c(){i.value!==null&&(d(i.value),i.value=null)}const n=we(()=>e.noParentEvent,()=>{i.value!==null&&(c(),l())});return dt(n),{localScrollTarget:i,unconfigureScrollTarget:c,changeScrollEvent:d}}const{notPassiveCapture:ol}=Tl,St=[];function sl(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let i=Hl.length-1;for(;i>=0;){const t=Hl[i].$;if(t.type.name==="QTooltip"){i--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;i--}for(let t=St.length-1;t>=0;t--){const d=St[t];if((d.anchorEl.value===null||d.anchorEl.value.contains(l)===!1)&&(l===document.body||d.innerRef.value!==null&&d.innerRef.value.contains(l)===!1))e.qClickOutside=!0,d.onClickOutside(e);else return}}function ba(e){St.push(e),St.length===1&&(document.addEventListener("mousedown",sl,ol),document.addEventListener("touchstart",sl,ol))}function il(e){const l=St.findIndex(i=>i===e);l!==-1&&(St.splice(l,1),St.length===0&&(document.removeEventListener("mousedown",sl,ol),document.removeEventListener("touchstart",sl,ol)))}let Kl,Gl;function rl(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function wa(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Bl={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Bl[`${e}#ltr`]=e,Bl[`${e}#rtl`]=e});function ul(e,l){const i=e.split(" ");return{vertical:i[0],horizontal:Bl[`${i[1]}#${l===!0?"rtl":"ltr"}`]}}function vn(e,l){let{top:i,left:t,right:d,bottom:c,width:n,height:v}=e.getBoundingClientRect();return l!==void 0&&(i-=l[1],t-=l[0],c+=l[1],d+=l[0],n+=l[0],v+=l[1]),{top:i,bottom:c,height:v,left:t,right:d,width:n,middle:t+(d-t)/2,center:i+(c-i)/2}}function gn(e,l,i){let{top:t,left:d}=e.getBoundingClientRect();return t+=l.top,d+=l.left,i!==void 0&&(t+=i[1],d+=i[0]),{top:t,bottom:t+1,height:1,left:d,right:d+1,width:1,middle:d,center:t}}function hn(e,l){return{top:0,center:l/2,bottom:l,left:0,middle:e/2,right:e}}function Jl(e,l,i,t){return{top:e[i.vertical]-l[t.vertical],left:e[i.horizontal]-l[t.horizontal]}}function El(e,l=0){if(e.targetEl===null||e.anchorEl===null||l>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{El(e,l+1)},10);return}const{targetEl:i,offset:t,anchorEl:d,anchorOrigin:c,selfOrigin:n,absoluteOffset:v,fit:p,cover:T,maxHeight:h,maxWidth:D}=e;if(qa.is.ios===!0&&window.visualViewport!==void 0){const $=document.body.style,{offsetLeft:ee,offsetTop:ne}=window.visualViewport;ee!==Kl&&($.setProperty("--q-pe-left",ee+"px"),Kl=ee),ne!==Gl&&($.setProperty("--q-pe-top",ne+"px"),Gl=ne)}const{scrollLeft:k,scrollTop:y}=i,z=v===void 0?vn(d,T===!0?[0,0]:t):gn(d,v,t);Object.assign(i.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:D,maxHeight:h,visibility:"visible"});const{offsetWidth:F,offsetHeight:M}=i,{elWidth:Q,elHeight:E}=p===!0||T===!0?{elWidth:Math.max(z.width,F),elHeight:T===!0?Math.max(z.height,M):M}:{elWidth:F,elHeight:M};let A={maxWidth:D,maxHeight:h};(p===!0||T===!0)&&(A.minWidth=z.width+"px",T===!0&&(A.minHeight=z.height+"px")),Object.assign(i.style,A);const j=hn(Q,E);let Z=Jl(z,j,c,n);if(v===void 0||t===void 0)kl(Z,z,j,c,n);else{const{top:$,left:ee}=Z;kl(Z,z,j,c,n);let ne=!1;if(Z.top!==$){ne=!0;const ie=2*t[1];z.center=z.top-=ie,z.bottom-=ie+2}if(Z.left!==ee){ne=!0;const ie=2*t[0];z.middle=z.left-=ie,z.right-=ie+2}ne===!0&&(Z=Jl(z,j,c,n),kl(Z,z,j,c,n))}A={top:Z.top+"px",left:Z.left+"px"},Z.maxHeight!==void 0&&(A.maxHeight=Z.maxHeight+"px",z.height>Z.maxHeight&&(A.minHeight=A.maxHeight)),Z.maxWidth!==void 0&&(A.maxWidth=Z.maxWidth+"px",z.width>Z.maxWidth&&(A.minWidth=A.maxWidth)),Object.assign(i.style,A),i.scrollTop!==y&&(i.scrollTop=y),i.scrollLeft!==k&&(i.scrollLeft=k)}function kl(e,l,i,t,d){const c=i.bottom,n=i.right,v=Pa(),p=window.innerHeight-v,T=document.body.clientWidth;if(e.top<0||e.top+c>p)if(d.vertical==="center")e.top=l[t.vertical]>p/2?Math.max(0,p-c):0,e.maxHeight=Math.min(c,p);else if(l[t.vertical]>p/2){const h=Math.min(p,t.vertical==="center"?l.center:t.vertical===d.vertical?l.bottom:l.top);e.maxHeight=Math.min(c,h),e.top=Math.max(0,h-c)}else e.top=Math.max(0,t.vertical==="center"?l.center:t.vertical===d.vertical?l.top:l.bottom),e.maxHeight=Math.min(c,p-e.top);if(e.left<0||e.left+n>T)if(e.maxWidth=Math.min(n,T),d.horizontal==="middle")e.left=l[t.horizontal]>T/2?Math.max(0,T-n):0;else if(l[t.horizontal]>T/2){const h=Math.min(T,t.horizontal==="middle"?l.middle:t.horizontal===d.horizontal?l.right:l.left);e.maxWidth=Math.min(n,h),e.left=Math.max(0,h-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?l.middle:t.horizontal===d.horizontal?l.left:l.right),e.maxWidth=Math.min(n,T-e.left)}const fe=Ee({name:"QTooltip",inheritAttrs:!1,props:{...ha,...ea,...al,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...al.transitionShow,default:"jump-down"},transitionHide:{...al.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:rl},self:{type:String,default:"top middle",validator:rl},offset:{type:Array,default:()=>[14,14],validator:wa},scrollTarget:ta,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...la],setup(e,{slots:l,emit:i,attrs:t}){let d,c;const n=et(),{proxy:{$q:v}}=n,p=L(null),T=L(!1),h=_(()=>ul(e.anchor,v.lang.rtl)),D=_(()=>ul(e.self,v.lang.rtl)),k=_(()=>e.persistent!==!0),{registerTick:y,removeTick:z}=aa(),{registerTimeout:F}=na(),{transitionProps:M,transitionStyle:Q}=oa(e),{localScrollTarget:E,changeScrollEvent:A,unconfigureScrollTarget:j}=pa(e,qe),{anchorEl:Z,canShow:$,anchorEvents:ee}=ya({showing:T,configureAnchorEl:Te}),{show:ne,hide:ie}=sa({showing:T,canShow:$,handleShow:te,handleHide:he,hideOnRouteChange:k,processOnMount:!0});Object.assign(ee,{delayShow:Re,delayHide:De});const{showPortal:ke,hidePortal:Ae,renderPortal:ue}=ia(n,p,b,"tooltip");if(v.platform.is.mobile===!0){const I={anchorEl:Z,innerRef:p,onClickOutside(ae){return ie(ae),ae.target.classList.contains("q-dialog__backdrop")&&Je(ae),!0}},le=_(()=>e.modelValue===null&&e.persistent!==!0&&T.value===!0);we(le,ae=>{(ae===!0?ba:il)(I)}),dt(()=>{il(I)})}function te(I){ke(),y(()=>{c=new MutationObserver(()=>me()),c.observe(p.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),me(),qe()}),d===void 0&&(d=we(()=>v.screen.width+"|"+v.screen.height+"|"+e.self+"|"+e.anchor+"|"+v.lang.rtl,me)),F(()=>{ke(!0),i("show",I)},e.transitionDuration)}function he(I){z(),Ae(),de(),F(()=>{Ae(!0),i("hide",I)},e.transitionDuration)}function de(){c!==void 0&&(c.disconnect(),c=void 0),d!==void 0&&(d(),d=void 0),j(),Ml(ee,"tooltipTemp")}function me(){El({targetEl:p.value,offset:e.offset,anchorEl:Z.value,anchorOrigin:h.value,selfOrigin:D.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Re(I){if(v.platform.is.mobile===!0){Vl(),document.body.classList.add("non-selectable");const le=Z.value,ae=["touchmove","touchcancel","touchend","click"].map(Y=>[le,Y,"delayHide","passiveCapture"]);nl(ee,"tooltipTemp",ae)}F(()=>{ne(I)},e.delay)}function De(I){v.platform.is.mobile===!0&&(Ml(ee,"tooltipTemp"),Vl(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),F(()=>{ie(I)},e.hideDelay)}function Te(){if(e.noParentEvent===!0||Z.value===null)return;const I=v.platform.is.mobile===!0?[[Z.value,"touchstart","delayShow","passive"]]:[[Z.value,"mouseenter","delayShow","passive"],[Z.value,"mouseleave","delayHide","passive"]];nl(ee,"anchor",I)}function qe(){if(Z.value!==null||e.scrollTarget!==void 0){E.value=ra(Z.value,e.scrollTarget);const I=e.noParentEvent===!0?me:ie;A(E.value,I)}}function g(){return T.value===!0?H("div",{...t,ref:p,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,Q.value],role:"tooltip"},tt(l.default)):null}function b(){return H(zl,M.value,g)}return dt(de),Object.assign(n.proxy,{updatePosition:me}),ue}}),Ke=Ee({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:l}){const i=_(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>H("div",{class:i.value},tt(l.default))}}),yn=Ee({name:"QField",inheritAttrs:!1,props:{...Ll,tag:{type:String,default:"label"}},emits:ua,setup(){return ca(da({tagProp:!0}))}}),pn={xs:8,sm:10,md:14,lg:20,xl:24},ge=Ee({name:"QChip",props:{...ml,...Ma,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:i}){const{proxy:{$q:t}}=et(),d=fl(e,t),c=Ta(e,pn),n=_(()=>e.selected===!0||e.icon!==void 0),v=_(()=>e.selected===!0?e.iconSelected||t.iconSet.chip.selected:e.icon),p=_(()=>e.iconRemove||t.iconSet.chip.remove),T=_(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),h=_(()=>{const M=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(M?` text-${M} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(T.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(d.value===!0?" q-chip--dark q-dark":"")}),D=_(()=>{const M=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},Q={...M,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||t.lang.label.remove};return{chip:M,remove:Q}});function k(M){M.keyCode===13&&y(M)}function y(M){e.disable||(i("update:selected",!e.selected),i("click",M))}function z(M){(M.keyCode===void 0||M.keyCode===13)&&(Je(M),e.disable===!1&&(i("update:modelValue",!1),i("remove")))}function F(){const M=[];T.value===!0&&M.push(H("div",{class:"q-focus-helper"})),n.value===!0&&M.push(H(R,{class:"q-chip__icon q-chip__icon--left",name:v.value}));const Q=e.label!==void 0?[H("div",{class:"ellipsis"},[e.label])]:void 0;return M.push(H("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Va(l.default,Q))),e.iconRight&&M.push(H(R,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&M.push(H(R,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:p.value,...D.value.remove,onClick:z,onKeyup:z})),M}return()=>{if(e.modelValue===!1)return;const M={class:h.value,style:c.value};return T.value===!0&&Object.assign(M,D.value.chip,{onClick:y,onKeyup:k}),Aa("div",M,F(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Ba,e.ripple]])}}}),_e=Ee({name:"QItem",props:{...ml,...za,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:i}){const{proxy:{$q:t}}=et(),d=fl(e,t),{hasLink:c,linkAttrs:n,linkClass:v,linkTag:p,navigateOnClick:T}=La(),h=L(null),D=L(null),k=_(()=>e.clickable===!0||c.value===!0||e.tag==="label"),y=_(()=>e.disable!==!0&&k.value===!0),z=_(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(d.value===!0?" q-item--dark":"")+(c.value===!0&&e.active===null?v.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(y.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),F=_(()=>e.insetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function M(A){y.value===!0&&(D.value!==null&&(A.qKeyEvent!==!0&&document.activeElement===h.value?D.value.focus():document.activeElement===D.value&&h.value.focus()),T(A))}function Q(A){if(y.value===!0&&dl(A,[13,32])===!0){Je(A),A.qKeyEvent=!0;const j=new MouseEvent("click",A);j.qKeyEvent=!0,h.value.dispatchEvent(j)}i("keyup",A)}function E(){const A=Ea(l.default,[]);return y.value===!0&&A.unshift(H("div",{class:"q-focus-helper",tabindex:-1,ref:D})),A}return()=>{const A={ref:h,class:z.value,style:F.value,role:"listitem",onClick:M,onKeyup:Q};return y.value===!0?(A.tabindex=e.tabindex||"0",Object.assign(A,n.value)):k.value===!0&&(A["aria-disabled"]="true"),H(p.value,A,E())}}}),U=Ee({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const i=_(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>H("div",{class:i.value},tt(l.default))}}),ve=Ee({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const i=_(()=>parseInt(e.lines,10)),t=_(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(i.value===1?" ellipsis":"")),d=_(()=>e.lines!==void 0&&i.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":i.value}:null);return()=>H("div",{style:d.value,class:t.value},tt(l.default))}}),Sa=Ee({name:"QMenu",inheritAttrs:!1,props:{...fn,...ea,...ml,...al,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:rl},self:{type:String,validator:rl},offset:{type:Array,validator:wa},scrollTarget:ta,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...la,"click","escapeKey"],setup(e,{slots:l,emit:i,attrs:t}){let d=null,c,n,v;const p=et(),{proxy:T}=p,{$q:h}=T,D=L(null),k=L(!1),y=_(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),z=fl(e,h),{registerTick:F,removeTick:M}=aa(),{registerTimeout:Q}=na(),{transitionProps:E,transitionStyle:A}=oa(e),{localScrollTarget:j,changeScrollEvent:Z,unconfigureScrollTarget:$}=pa(e,I),{anchorEl:ee,canShow:ne}=ya({showing:k}),{hide:ie}=sa({showing:k,canShow:ne,handleShow:qe,handleHide:g,hideOnRouteChange:y,processOnMount:!0}),{showPortal:ke,hidePortal:Ae,renderPortal:ue}=ia(p,D,ye,"menu"),te={anchorEl:ee,innerRef:D,onClickOutside(q){if(e.persistent!==!0&&k.value===!0)return ie(q),(q.type==="touchstart"||q.target.classList.contains("q-dialog__backdrop"))&&Je(q),!0}},he=_(()=>ul(e.anchor||(e.cover===!0?"center middle":"bottom start"),h.lang.rtl)),de=_(()=>e.cover===!0?he.value:ul(e.self||"top start",h.lang.rtl)),me=_(()=>(e.square===!0?" q-menu--square":"")+(z.value===!0?" q-menu--dark q-dark":"")),Re=_(()=>e.autoClose===!0?{onClick:le}:{}),De=_(()=>k.value===!0&&e.persistent!==!0);we(De,q=>{q===!0?(Ra(Y),ba(te)):(Nl(Y),il(te))});function Te(){Qa(()=>{let q=D.value;q&&q.contains(document.activeElement)!==!0&&(q=q.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||q.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||q.querySelector("[autofocus], [data-autofocus]")||q,q.focus({preventScroll:!0}))})}function qe(q){if(d=e.noRefocus===!1?document.activeElement:null,Da(ae),ke(),I(),c=void 0,q!==void 0&&(e.touchPosition||e.contextMenu)){const Se=Ia(q);if(Se.left!==void 0){const{top:Qe,left:lt}=ee.value.getBoundingClientRect();c={left:Se.left-lt,top:Se.top-Qe}}}n===void 0&&(n=we(()=>h.screen.width+"|"+h.screen.height+"|"+e.self+"|"+e.anchor+"|"+h.lang.rtl,K)),e.noFocus!==!0&&document.activeElement.blur(),F(()=>{K(),e.noFocus!==!0&&Te()}),Q(()=>{h.platform.is.ios===!0&&(v=e.autoClose,D.value.click()),K(),ke(!0),i("show",q)},e.transitionDuration)}function g(q){M(),Ae(),b(!0),d!==null&&(q===void 0||q.qClickOutside!==!0)&&(((q&&q.type.indexOf("key")===0?d.closest('[tabindex]:not([tabindex^="-"])'):void 0)||d).focus(),d=null),Q(()=>{Ae(!0),i("hide",q)},e.transitionDuration)}function b(q){c=void 0,n!==void 0&&(n(),n=void 0),(q===!0||k.value===!0)&&(Fa(ae),$(),il(te),Nl(Y)),q!==!0&&(d=null)}function I(){(ee.value!==null||e.scrollTarget!==void 0)&&(j.value=ra(ee.value,e.scrollTarget),Z(j.value,K))}function le(q){v!==!0?(Oa(T,q),i("click",q)):v=!1}function ae(q){De.value===!0&&e.noFocus!==!0&&Ha(D.value,q.target)!==!0&&Te()}function Y(q){i("escapeKey"),ie(q)}function K(){El({targetEl:D.value,offset:e.offset,anchorEl:ee.value,anchorOrigin:he.value,selfOrigin:de.value,absoluteOffset:c,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ye(){return H(zl,E.value,()=>k.value===!0?H("div",{role:"menu",...t,ref:D,tabindex:-1,class:["q-menu q-position-engine scroll"+me.value,t.class],style:[t.style,A.value],...Re.value},tt(l.default)):null)}return dt(b),Object.assign(T,{focus:Te,updatePosition:K}),ue}});let cl=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,cl=e.scrollLeft>=0,e.remove()}const Ue=1e3,bn=["start","center","end","start-force","center-force","end-force"],xa=Array.prototype.filter,wn=window.getComputedStyle(document.body).overflowAnchor===void 0?Na:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const i=e.children||[];xa.call(i,d=>d.dataset&&d.dataset.qVsAnchor!==void 0).forEach(d=>{delete d.dataset.qVsAnchor});const t=i[l];t&&t.dataset&&(t.dataset.qVsAnchor="")}))};function Lt(e,l){return e+l}function ql(e,l,i,t,d,c,n,v){const p=e===window?document.scrollingElement||document.documentElement:e,T=d===!0?"offsetWidth":"offsetHeight",h={scrollStart:0,scrollViewSize:-n-v,scrollMaxSize:0,offsetStart:-n,offsetEnd:-v};if(d===!0?(e===window?(h.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,h.scrollViewSize+=document.documentElement.clientWidth):(h.scrollStart=p.scrollLeft,h.scrollViewSize+=p.clientWidth),h.scrollMaxSize=p.scrollWidth,c===!0&&(h.scrollStart=(cl===!0?h.scrollMaxSize-h.scrollViewSize:0)-h.scrollStart)):(e===window?(h.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,h.scrollViewSize+=document.documentElement.clientHeight):(h.scrollStart=p.scrollTop,h.scrollViewSize+=p.clientHeight),h.scrollMaxSize=p.scrollHeight),i!==null)for(let D=i.previousElementSibling;D!==null;D=D.previousElementSibling)D.classList.contains("q-virtual-scroll--skip")===!1&&(h.offsetStart+=D[T]);if(t!==null)for(let D=t.nextElementSibling;D!==null;D=D.nextElementSibling)D.classList.contains("q-virtual-scroll--skip")===!1&&(h.offsetEnd+=D[T]);if(l!==e){const D=p.getBoundingClientRect(),k=l.getBoundingClientRect();d===!0?(h.offsetStart+=k.left-D.left,h.offsetEnd-=k.width):(h.offsetStart+=k.top-D.top,h.offsetEnd-=k.height),e!==window&&(h.offsetStart+=h.scrollStart),h.offsetEnd+=h.scrollMaxSize-h.offsetStart}return h}function Yl(e,l,i,t){l==="end"&&(l=(e===window?document.body:e)[i===!0?"scrollWidth":"scrollHeight"]),e===window?i===!0?(t===!0&&(l=(cl===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):i===!0?(t===!0&&(l=(cl===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function jt(e,l,i,t){if(i>=t)return 0;const d=l.length,c=Math.floor(i/Ue),n=Math.floor((t-1)/Ue)+1;let v=e.slice(c,n).reduce(Lt,0);return i%Ue!==0&&(v-=l.slice(c*Ue,i).reduce(Lt,0)),t%Ue!==0&&t!==d&&(v-=l.slice(t,n*Ue).reduce(Lt,0)),v}const Sn={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Xl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Sn};function xn({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:i,virtualScrollItemSizeComputed:t}){const d=et(),{props:c,emit:n,proxy:v}=d,{$q:p}=v;let T,h,D,k=[],y;const z=L(0),F=L(0),M=L({}),Q=L(null),E=L(null),A=L(null),j=L({from:0,to:0}),Z=_(()=>c.tableColspan!==void 0?c.tableColspan:100);t===void 0&&(t=_(()=>c.virtualScrollItemSize));const $=_(()=>t.value+";"+c.virtualScrollHorizontal),ee=_(()=>$.value+";"+c.virtualScrollSliceRatioBefore+";"+c.virtualScrollSliceRatioAfter);we(ee,()=>{me()}),we($,ne);function ne(){de(h,!0)}function ie(g){de(g===void 0?h:g)}function ke(g,b){const I=l();if(I==null||I.nodeType===8)return;const le=ql(I,i(),Q.value,E.value,c.virtualScrollHorizontal,p.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd);D!==le.scrollViewSize&&me(le.scrollViewSize),ue(I,le,Math.min(e.value-1,Math.max(0,parseInt(g,10)||0)),0,bn.indexOf(b)!==-1?b:h!==-1&&g>h?"end":"start")}function Ae(){const g=l();if(g==null||g.nodeType===8)return;const b=ql(g,i(),Q.value,E.value,c.virtualScrollHorizontal,p.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd),I=e.value-1,le=b.scrollMaxSize-b.offsetStart-b.offsetEnd-F.value;if(T===b.scrollStart)return;if(b.scrollMaxSize<=0){ue(g,b,0,0);return}D!==b.scrollViewSize&&me(b.scrollViewSize),te(j.value.from);const ae=Math.floor(b.scrollMaxSize-Math.max(b.scrollViewSize,b.offsetEnd)-Math.min(y[I],b.scrollViewSize/2));if(ae>0&&Math.ceil(b.scrollStart)>=ae){ue(g,b,I,b.scrollMaxSize-b.offsetEnd-k.reduce(Lt,0));return}let Y=0,K=b.scrollStart-b.offsetStart,ye=K;if(K<=le&&K+b.scrollViewSize>=z.value)K-=z.value,Y=j.value.from,ye=K;else for(let q=0;K>=k[q]&&Y<I;q++)K-=k[q],Y+=Ue;for(;K>0&&Y<I;)K-=y[Y],K>-b.scrollViewSize?(Y++,ye=K):ye=y[Y]+K;ue(g,b,Y,ye)}function ue(g,b,I,le,ae){const Y=typeof ae=="string"&&ae.indexOf("-force")!==-1,K=Y===!0?ae.replace("-force",""):ae,ye=K!==void 0?K:"start";let q=Math.max(0,I-M.value[ye]),Se=q+M.value.total;Se>e.value&&(Se=e.value,q=Math.max(0,Se-M.value.total)),T=b.scrollStart;const Qe=q!==j.value.from||Se!==j.value.to;if(Qe===!1&&K===void 0){De(I);return}const{activeElement:lt}=document,He=A.value;Qe===!0&&He!==null&&He!==lt&&He.contains(lt)===!0&&(He.addEventListener("focusout",he),setTimeout(()=>{He!==null&&He.removeEventListener("focusout",he)})),wn(He,I-q);const xt=K!==void 0?y.slice(q,I).reduce(Lt,0):0;if(Qe===!0){const Ye=Se>=j.value.from&&q<=j.value.to?j.value.to:Se;j.value={from:q,to:Ye},z.value=jt(k,y,0,q),F.value=jt(k,y,Se,e.value),requestAnimationFrame(()=>{j.value.to!==Se&&T===b.scrollStart&&(j.value={from:j.value.from,to:Se},F.value=jt(k,y,Se,e.value))})}requestAnimationFrame(()=>{if(T!==b.scrollStart)return;Qe===!0&&te(q);const Ye=y.slice(q,I).reduce(Lt,0),Xe=Ye+b.offsetStart+z.value,Ct=Xe+y[I];let mt=Xe+le;if(K!==void 0){const Et=Ye-xt,ft=b.scrollStart+Et;mt=Y!==!0&&ft<Xe&&Ct<ft+b.scrollViewSize?ft:K==="end"?Ct-b.scrollViewSize:Xe-(K==="start"?0:Math.round((b.scrollViewSize-y[I])/2))}T=mt,Yl(g,mt,c.virtualScrollHorizontal,p.lang.rtl),De(I)})}function te(g){const b=A.value;if(b){const I=xa.call(b.children,q=>q.classList&&q.classList.contains("q-virtual-scroll--skip")===!1),le=I.length,ae=c.virtualScrollHorizontal===!0?q=>q.getBoundingClientRect().width:q=>q.offsetHeight;let Y=g,K,ye;for(let q=0;q<le;){for(K=ae(I[q]),q++;q<le&&I[q].classList.contains("q-virtual-scroll--with-prev")===!0;)K+=ae(I[q]),q++;ye=K-y[Y],ye!==0&&(y[Y]+=ye,k[Math.floor(Y/Ue)]+=ye),Y++}}}function he(){A.value!==null&&A.value!==void 0&&A.value.focus()}function de(g,b){const I=1*t.value;(b===!0||Array.isArray(y)===!1)&&(y=[]);const le=y.length;y.length=e.value;for(let Y=e.value-1;Y>=le;Y--)y[Y]=I;const ae=Math.floor((e.value-1)/Ue);k=[];for(let Y=0;Y<=ae;Y++){let K=0;const ye=Math.min((Y+1)*Ue,e.value);for(let q=Y*Ue;q<ye;q++)K+=y[q];k.push(K)}h=-1,T=void 0,z.value=jt(k,y,0,j.value.from),F.value=jt(k,y,j.value.to,e.value),g>=0?(te(j.value.from),$e(()=>{ke(g)})):Te()}function me(g){if(g===void 0&&typeof window<"u"){const K=l();K!=null&&K.nodeType!==8&&(g=ql(K,i(),Q.value,E.value,c.virtualScrollHorizontal,p.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd).scrollViewSize)}D=g;const b=parseFloat(c.virtualScrollSliceRatioBefore)||0,I=parseFloat(c.virtualScrollSliceRatioAfter)||0,le=1+b+I,ae=g===void 0||g<=0?1:Math.ceil(g/t.value),Y=Math.max(1,ae,Math.ceil((c.virtualScrollSliceSize>0?c.virtualScrollSliceSize:10)/le));M.value={total:Math.ceil(Y*le),start:Math.ceil(Y*b),center:Math.ceil(Y*(.5+b)),end:Math.ceil(Y*(1+b)),view:ae}}function Re(g,b){const I=c.virtualScrollHorizontal===!0?"width":"height",le={["--q-virtual-scroll-item-"+I]:t.value+"px"};return[g==="tbody"?H(g,{class:"q-virtual-scroll__padding",key:"before",ref:Q},[H("tr",[H("td",{style:{[I]:`${z.value}px`,...le},colspan:Z.value})])]):H(g,{class:"q-virtual-scroll__padding",key:"before",ref:Q,style:{[I]:`${z.value}px`,...le}}),H(g,{class:"q-virtual-scroll__content",key:"content",ref:A,tabindex:-1},b.flat()),g==="tbody"?H(g,{class:"q-virtual-scroll__padding",key:"after",ref:E},[H("tr",[H("td",{style:{[I]:`${F.value}px`,...le},colspan:Z.value})])]):H(g,{class:"q-virtual-scroll__padding",key:"after",ref:E,style:{[I]:`${F.value}px`,...le}})]}function De(g){h!==g&&(c.onVirtualScroll!==void 0&&n("virtualScroll",{index:g,from:j.value.from,to:j.value.to-1,direction:g<h?"decrease":"increase",ref:v}),h=g)}me();const Te=Wa(Ae,p.platform.is.ios===!0?120:35);ja(()=>{me()});let qe=!1;return Ua(()=>{qe=!0}),Ka(()=>{if(qe!==!0)return;const g=l();T!==void 0&&g!==void 0&&g!==null&&g.nodeType!==8?Yl(g,T,c.virtualScrollHorizontal,p.lang.rtl):ke(h)}),dt(()=>{Te.cancel()}),Object.assign(v,{scrollTo:ke,reset:ne,refresh:ie}),{virtualScrollSliceRange:j,virtualScrollSliceSizeComputed:M,setVirtualScrollSize:me,onVirtualScrollEvt:Te,localResetVirtualScroll:de,padVirtualScroll:Re,scrollTo:ke,reset:ne,refresh:ie}}const Zl=e=>["add","add-unique","toggle"].includes(e),Cn=".*+?^${}()|[]\\",_n=Object.keys(Ll);function Pl(e,l){if(typeof e=="function")return e;const i=e!==void 0?e:l;return t=>t!==null&&typeof t=="object"&&i in t?t[i]:t}const ut=Ee({name:"QSelect",inheritAttrs:!1,props:{...Xl,...ma,...Ll,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Zl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Xl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...ua,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:i}){const{proxy:t}=et(),{$q:d}=t,c=L(!1),n=L(!1),v=L(-1),p=L(""),T=L(!1),h=L(!1);let D=null,k=null,y,z,F,M=null,Q,E,A,j;const Z=L(null),$=L(null),ee=L(null),ne=L(null),ie=L(null),ke=Ga(e),Ae=Xa(Jt),ue=_(()=>e.options.length),te=_(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:he,virtualScrollSliceSizeComputed:de,localResetVirtualScroll:me,padVirtualScroll:Re,onVirtualScrollEvt:De,scrollTo:Te,setVirtualScrollSize:qe}=xn({virtualScrollLength:ue,getVirtualScrollTarget:Gt,getVirtualScrollEl:Tt,virtualScrollItemSizeComputed:te}),g=da(),b=_(()=>{const s=e.mapOptions===!0&&e.multiple!==!0,V=e.modelValue!==void 0&&(e.modelValue!==null||s===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0){const B=e.mapOptions===!0&&y!==void 0?y:[],X=V.map(re=>Pt(re,B));return e.modelValue===null&&s===!0?X.filter(re=>re!==null):X}return V}),I=_(()=>{const s={};return _n.forEach(V=>{const B=e[V];B!==void 0&&(s[V]=B)}),s}),le=_(()=>e.optionsDark===null?g.isDark.value:e.optionsDark),ae=_(()=>Wl(b.value)),Y=_(()=>{let s="q-field__input q-placeholder col";return e.hideSelected===!0||b.value.length===0?[s,e.inputClass]:(s+=" q-field__input--padding",e.inputClass===void 0?s:[s,e.inputClass])}),K=_(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),ye=_(()=>ue.value===0),q=_(()=>b.value.map(s=>Ve.value(s)).join(", ")),Se=_(()=>e.displayValue!==void 0?e.displayValue:q.value),Qe=_(()=>e.optionsHtml===!0?()=>!0:s=>s!=null&&s.html===!0),lt=_(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||b.value.some(Qe.value))),He=_(()=>g.focused.value===!0?e.tabindex:-1),xt=_(()=>{const s={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":c.value===!0?"true":"false","aria-controls":`${g.targetUid.value}_lb`};return v.value>=0&&(s["aria-activedescendant"]=`${g.targetUid.value}_${v.value}`),s}),Ye=_(()=>({id:`${g.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Xe=_(()=>b.value.map((s,V)=>({index:V,opt:s,html:Qe.value(s),selected:!0,removeAtIndex:Kt,toggleOption:Be,tabindex:He.value}))),Ct=_(()=>{if(ue.value===0)return[];const{from:s,to:V}=he.value;return e.options.slice(s,V).map((B,X)=>{const re=at.value(B)===!0,se=nt(B)===!0,Ce=s+X,pe={clickable:!0,active:se,activeClass:ft.value,manualFocus:!0,focused:!1,disable:re,tabindex:-1,dense:e.optionsDense,dark:le.value,role:"option","aria-selected":se===!0?"true":"false",id:`${g.targetUid.value}_${Ce}`,onClick:()=>{Be(B)}};return re!==!0&&(v.value===Ce&&(pe.focused=!0),d.platform.is.desktop===!0&&(pe.onMousemove=()=>{c.value===!0&&xe(Ce)})),{index:Ce,opt:B,html:Qe.value(B),label:Ve.value(B),selected:pe.active,focused:pe.focused,toggleOption:Be,setOptionIndex:xe,itemProps:pe}})}),mt=_(()=>e.dropdownIcon!==void 0?e.dropdownIcon:d.iconSet.arrow.dropdown),Et=_(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ft=_(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Ne=_(()=>Pl(e.optionValue,"value")),Ve=_(()=>Pl(e.optionLabel,"label")),at=_(()=>Pl(e.optionDisable,"disable")),_t=_(()=>b.value.map(Ne.value)),kt=_(()=>{const s={onInput:Jt,onChange:Ae,onKeydown:Ft,onKeyup:gt,onKeypress:ht,onFocus:Mt,onClick(V){z===!0&&Vt(V)}};return s.onCompositionstart=s.onCompositionupdate=s.onCompositionend=Ae,s});we(b,s=>{y=s,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&g.innerLoading.value!==!0&&(n.value!==!0&&c.value!==!0||ae.value!==!0)&&(F!==!0&&rt(),(n.value===!0||c.value===!0)&&ot(""))},{immediate:!0}),we(()=>e.fillInput,rt),we(c,Ht),we(ue,Sl);function Dt(s){return e.emitValue===!0?Ne.value(s):s}function qt(s){if(s!==-1&&s<b.value.length)if(e.multiple===!0){const V=e.modelValue.slice();i("remove",{index:s,value:V.splice(s,1)[0]}),i("update:modelValue",V)}else i("update:modelValue",null)}function Kt(s){qt(s),g.focus()}function It(s,V){const B=Dt(s);if(e.multiple!==!0){e.fillInput===!0&&yt(Ve.value(s),!0,!0),i("update:modelValue",B);return}if(b.value.length===0){i("add",{index:0,value:B}),i("update:modelValue",e.multiple===!0?[B]:B);return}if(V===!0&&nt(s)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const X=e.modelValue.slice();i("add",{index:X.length,value:B}),X.push(B),i("update:modelValue",X)}function Be(s,V){if(g.editable.value!==!0||s===void 0||at.value(s)===!0)return;const B=Ne.value(s);if(e.multiple!==!0){V!==!0&&(yt(e.fillInput===!0?Ve.value(s):"",!0,!0),Ze()),$.value!==null&&$.value.focus(),(b.value.length===0||Wt(Ne.value(b.value[0]),B)!==!0)&&i("update:modelValue",e.emitValue===!0?B:s);return}if((z!==!0||T.value===!0)&&g.focus(),Mt(),b.value.length===0){const se=e.emitValue===!0?B:s;i("add",{index:0,value:se}),i("update:modelValue",e.multiple===!0?[se]:se);return}const X=e.modelValue.slice(),re=_t.value.findIndex(se=>Wt(se,B));if(re!==-1)i("remove",{index:re,value:X.splice(re,1)[0]});else{if(e.maxValues!==void 0&&X.length>=e.maxValues)return;const se=e.emitValue===!0?B:s;i("add",{index:X.length,value:se}),X.push(se)}i("update:modelValue",X)}function xe(s){if(d.platform.is.desktop!==!0)return;const V=s!==-1&&s<ue.value?s:-1;v.value!==V&&(v.value=V)}function ze(s=1,V){if(c.value===!0){let B=v.value;do B=Ul(B+s,-1,ue.value-1);while(B!==-1&&B!==v.value&&at.value(e.options[B])===!0);v.value!==B&&(xe(B),Te(B),V!==!0&&e.useInput===!0&&e.fillInput===!0&&At(B>=0?Ve.value(e.options[B]):Q,!0))}}function Pt(s,V){const B=X=>Wt(Ne.value(X),s);return e.options.find(B)||V.find(B)||s}function nt(s){const V=Ne.value(s);return _t.value.find(B=>Wt(B,V))!==void 0}function Mt(s){e.useInput===!0&&$.value!==null&&(s===void 0||$.value===s.target&&s.target.value===q.value)&&$.value.select()}function vt(s){dl(s,27)===!0&&c.value===!0&&(Vt(s),Ze(),rt()),i("keyup",s)}function gt(s){const{value:V}=s.target;if(s.keyCode!==void 0){vt(s);return}if(s.target.value="",D!==null&&(clearTimeout(D),D=null),k!==null&&(clearTimeout(k),k=null),rt(),typeof V=="string"&&V.length!==0){const B=V.toLocaleLowerCase(),X=se=>{const Ce=e.options.find(pe=>se.value(pe).toLocaleLowerCase()===B);return Ce===void 0?!1:(b.value.indexOf(Ce)===-1?Be(Ce):Ze(),!0)},re=se=>{X(Ne)!==!0&&(X(Ve)===!0||se===!0||ot(V,!0,()=>re(!0)))};re()}else g.clearValue(s)}function ht(s){i("keypress",s)}function Ft(s){if(i("keydown",s),Za(s)===!0)return;const V=p.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),B=s.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(v.value!==-1||V===!0);if(s.keyCode===27){Ut(s);return}if(s.keyCode===9&&B===!1){st();return}if(s.target===void 0||s.target.id!==g.targetUid.value||g.editable.value!==!0)return;if(s.keyCode===40&&g.innerLoading.value!==!0&&c.value===!1){Je(s),it();return}if(s.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&p.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?qt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&i("update:modelValue",null);return}(s.keyCode===35||s.keyCode===36)&&(typeof p.value!="string"||p.value.length===0)&&(Je(s),v.value=-1,ze(s.keyCode===36?1:-1,e.multiple)),(s.keyCode===33||s.keyCode===34)&&de.value!==void 0&&(Je(s),v.value=Math.max(-1,Math.min(ue.value,v.value+(s.keyCode===33?-1:1)*de.value.view)),ze(s.keyCode===33?1:-1,e.multiple)),(s.keyCode===38||s.keyCode===40)&&(Je(s),ze(s.keyCode===38?-1:1,e.multiple));const X=ue.value;if((A===void 0||j<Date.now())&&(A=""),X>0&&e.useInput!==!0&&s.key!==void 0&&s.key.length===1&&s.altKey===!1&&s.ctrlKey===!1&&s.metaKey===!1&&(s.keyCode!==32||A.length!==0)){c.value!==!0&&it(s);const re=s.key.toLocaleLowerCase(),se=A.length===1&&A[0]===re;j=Date.now()+1500,se===!1&&(Je(s),A+=re);const Ce=new RegExp("^"+A.split("").map(Nt=>Cn.indexOf(Nt)!==-1?"\\"+Nt:Nt).join(".*"),"i");let pe=v.value;if(se===!0||pe<0||Ce.test(Ve.value(e.options[pe]))!==!0)do pe=Ul(pe+1,-1,X-1);while(pe!==v.value&&(at.value(e.options[pe])===!0||Ce.test(Ve.value(e.options[pe]))!==!0));v.value!==pe&&$e(()=>{xe(pe),Te(pe),pe>=0&&e.useInput===!0&&e.fillInput===!0&&At(Ve.value(e.options[pe]),!0)});return}if(!(s.keyCode!==13&&(s.keyCode!==32||e.useInput===!0||A!=="")&&(s.keyCode!==9||B===!1))){if(s.keyCode!==9&&Je(s),v.value!==-1&&v.value<X){Be(e.options[v.value]);return}if(V===!0){const re=(se,Ce)=>{if(Ce){if(Zl(Ce)!==!0)return}else Ce=e.newValueMode;if(yt("",e.multiple!==!0,!0),se==null)return;(Ce==="toggle"?Be:It)(se,Ce==="add-unique"),e.multiple!==!0&&($.value!==null&&$.value.focus(),Ze())};if(e.onNewValue!==void 0?i("newValue",p.value,re):re(p.value),e.multiple!==!0)return}c.value===!0?st():g.innerLoading.value!==!0&&it()}}function Tt(){return z===!0?ie.value:ee.value!==null&&ee.value.contentEl!==null?ee.value.contentEl:void 0}function Gt(){return Tt()}function Ot(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Xe.value.map(s=>l["selected-item"](s)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Xe.value.map((s,V)=>H(ge,{key:"option-"+V,removable:g.editable.value===!0&&at.value(s.opt)!==!0,dense:!0,textColor:e.color,tabindex:He.value,onRemove(){s.removeAtIndex(V)}},()=>H("span",{class:"ellipsis",[s.html===!0?"innerHTML":"textContent"]:Ve.value(s.opt)}))):[H("span",{[lt.value===!0?"innerHTML":"textContent"]:Se.value})]}function Rt(){if(ye.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:p.value}):void 0;const s=l.option!==void 0?l.option:B=>H(_e,{key:B.index,...B.itemProps},()=>H(U,()=>H(ve,()=>H("span",{[B.html===!0?"innerHTML":"textContent"]:B.label}))));let V=Re("div",Ct.value.map(s));return l["before-options"]!==void 0&&(V=l["before-options"]().concat(V)),fa(l["after-options"],V)}function vl(s,V){const B=V===!0?{...xt.value,...g.splitAttrs.attributes.value}:void 0,X={ref:V===!0?$:void 0,key:"i_t",class:Y.value,style:e.inputStyle,value:p.value!==void 0?p.value:"",type:"search",...B,id:V===!0?g.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":s===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...kt.value};return s!==!0&&z===!0&&(Array.isArray(X.class)===!0?X.class=[...X.class,"no-pointer-events"]:X.class+=" no-pointer-events"),H("input",X)}function Jt(s){D!==null&&(clearTimeout(D),D=null),k!==null&&(clearTimeout(k),k=null),!(s&&s.target&&s.target.qComposing===!0)&&(At(s.target.value||""),F=!0,Q=p.value,g.focused.value!==!0&&(z!==!0||T.value===!0)&&g.focus(),e.onFilter!==void 0&&(D=setTimeout(()=>{D=null,ot(p.value)},e.inputDebounce)))}function At(s,V){p.value!==s&&(p.value=s,V===!0||e.inputDebounce===0||e.inputDebounce==="0"?i("inputValue",s):k=setTimeout(()=>{k=null,i("inputValue",s)},e.inputDebounce))}function yt(s,V,B){F=B!==!0,e.useInput===!0&&(At(s,!0),(V===!0||B!==!0)&&(Q=s),V!==!0&&ot(s))}function ot(s,V,B){if(e.onFilter===void 0||V!==!0&&g.focused.value!==!0)return;g.innerLoading.value===!0?i("filterAbort"):(g.innerLoading.value=!0,h.value=!0),s!==""&&e.multiple!==!0&&b.value.length!==0&&F!==!0&&s===Ve.value(b.value[0])&&(s="");const X=setTimeout(()=>{c.value===!0&&(c.value=!1)},10);M!==null&&clearTimeout(M),M=X,i("filter",s,(re,se)=>{(V===!0||g.focused.value===!0)&&M===X&&(clearTimeout(M),typeof re=="function"&&re(),h.value=!1,$e(()=>{g.innerLoading.value=!1,g.editable.value===!0&&(V===!0?c.value===!0&&Ze():c.value===!0?Ht(!0):c.value=!0),typeof se=="function"&&$e(()=>{se(t)}),typeof B=="function"&&$e(()=>{B(t)})}))},()=>{g.focused.value===!0&&M===X&&(clearTimeout(M),g.innerLoading.value=!1,h.value=!1),c.value===!0&&(c.value=!1)})}function Yt(){return H(Sa,{ref:ee,class:K.value,style:e.popupContentStyle,modelValue:c.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&ye.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:le.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Et.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ye.value,onScrollPassive:De,onBeforeShow:$t,onBeforeHide:gl,onShow:hl},Rt)}function gl(s){el(s),st()}function hl(){qe()}function Xt(s){Vt(s),$.value!==null&&$.value.focus(),T.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function yl(s){Vt(s),$e(()=>{T.value=!1})}function pl(){const s=[H(yn,{class:`col-auto ${g.fieldClass.value}`,...I.value,for:g.targetUid.value,dark:le.value,square:!0,loading:h.value,itemAligned:!1,filled:!0,stackLabel:p.value.length!==0,...g.splitAttrs.listeners.value,onFocus:Xt,onBlur:yl},{...l,rawControl:()=>g.getControl(!0),before:void 0,after:void 0})];return c.value===!0&&s.push(H("div",{ref:ie,class:K.value+" scroll",style:e.popupContentStyle,...Ye.value,onClick:Ut,onScrollPassive:De},Rt())),H(ct,{ref:ne,modelValue:n.value,position:e.useInput===!0?"top":void 0,transitionShow:E,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:$t,onBeforeHide:bl,onHide:wl,onShow:Qt},()=>H("div",{class:"q-select__dialog"+(le.value===!0?" q-select__dialog--dark q-dark":"")+(T.value===!0?" q-select__dialog--focused":"")},s))}function bl(s){el(s),ne.value!==null&&ne.value.__updateRefocusTarget(g.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),g.focused.value=!1}function wl(s){Ze(),g.focused.value===!1&&i("blur",s),rt()}function Qt(){const s=document.activeElement;(s===null||s.id!==g.targetUid.value)&&$.value!==null&&$.value!==s&&$.value.focus(),qe()}function st(){n.value!==!0&&(v.value=-1,c.value===!0&&(c.value=!1),g.focused.value===!1&&(M!==null&&(clearTimeout(M),M=null),g.innerLoading.value===!0&&(i("filterAbort"),g.innerLoading.value=!1,h.value=!1)))}function it(s){g.editable.value===!0&&(z===!0?(g.onControlFocusin(s),n.value=!0,$e(()=>{g.focus()})):g.focus(),e.onFilter!==void 0?ot(p.value):(ye.value!==!0||l["no-option"]!==void 0)&&(c.value=!0))}function Ze(){n.value=!1,st()}function rt(){e.useInput===!0&&yt(e.multiple!==!0&&e.fillInput===!0&&b.value.length!==0&&Ve.value(b.value[0])||"",!0,!0)}function Ht(s){let V=-1;if(s===!0){if(b.value.length!==0){const B=Ne.value(b.value[0]);V=e.options.findIndex(X=>Wt(Ne.value(X),B))}me(V)}xe(V)}function Sl(s,V){c.value===!0&&g.innerLoading.value===!1&&(me(-1,!0),$e(()=>{c.value===!0&&g.innerLoading.value===!1&&(s>V?me():Ht(!0))}))}function Zt(){n.value===!1&&ee.value!==null&&ee.value.updatePosition()}function $t(s){s!==void 0&&Vt(s),i("popupShow",s),g.hasPopupOpen=!0,g.onControlFocusin(s)}function el(s){s!==void 0&&Vt(s),i("popupHide",s),g.hasPopupOpen=!1,g.onControlFocusout(s)}function tl(){z=d.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||ye.value===!1:!0),E=d.platform.is.ios===!0&&z===!0&&e.useInput===!0?"fade":e.transitionShow}return Ja(tl),Ya(Zt),tl(),dt(()=>{D!==null&&clearTimeout(D),k!==null&&clearTimeout(k)}),Object.assign(t,{showPopup:it,hidePopup:Ze,removeAtIndex:qt,add:It,toggleOption:Be,getOptionIndex:()=>v.value,setOptionIndex:xe,moveOptionSelection:ze,filter:ot,updateMenuPosition:Zt,updateInputValue:yt,isOptionSelected:nt,getEmittingOptionValue:Dt,isOptionDisabled:(...s)=>at.value.apply(null,s)===!0,getOptionValue:(...s)=>Ne.value.apply(null,s),getOptionLabel:(...s)=>Ve.value.apply(null,s)}),Object.assign(g,{innerValue:b,fieldClass:_(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:Z,targetRef:$,hasValue:ae,showPopup:it,floatingLabel:_(()=>e.hideSelected!==!0&&ae.value===!0||typeof p.value=="number"||p.value.length!==0||Wl(e.displayValue)),getControlChild:()=>{if(g.editable.value!==!1&&(n.value===!0||ye.value!==!0||l["no-option"]!==void 0))return z===!0?pl():Yt();g.hasPopupOpen===!0&&(g.hasPopupOpen=!1)},controlEvents:{onFocusin(s){g.onControlFocusin(s)},onFocusout(s){g.onControlFocusout(s,()=>{rt(),st()})},onClick(s){if(Ut(s),z!==!0&&c.value===!0){st(),$.value!==null&&$.value.focus();return}it(s)}},getControl:s=>{const V=Ot(),B=s===!0||n.value!==!0||z!==!0;if(e.useInput===!0)V.push(vl(s,B));else if(g.editable.value===!0){const re=B===!0?xt.value:void 0;V.push(H("input",{ref:B===!0?$:void 0,key:"d_t",class:"q-select__focus-target",id:B===!0?g.targetUid.value:void 0,value:Se.value,readonly:!0,"data-autofocus":s===!0||e.autofocus===!0||void 0,...re,onKeydown:Ft,onKeyup:vt,onKeypress:ht})),B===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&V.push(H("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:gt}))}if(ke.value!==void 0&&e.disable!==!0&&_t.value.length!==0){const re=_t.value.map(se=>H("option",{value:se,selected:!0}));V.push(H("select",{class:"hidden",name:ke.value,multiple:e.multiple},re))}const X=e.useInput===!0||B!==!0?void 0:g.splitAttrs.attributes.value;return H("div",{class:"q-field__native row items-center",...X,...g.splitAttrs.listeners.value},V)},getInnerAppend:()=>e.loading!==!0&&h.value!==!0&&e.hideDropdownIcon!==!0?[H(R,{class:"q-select__dropdown-icon"+(c.value===!0?" rotate-180":""),name:mt.value})]:null}),ca(g)}}),Ge=Ee({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:l}){const i=_(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>H("div",{class:i.value,role:"toolbar"},tt(l.default))}}),kn=["ul","ol"],Oe=Ee({name:"QList",props:{...ml,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:l}){const i=et(),t=fl(e,i.proxy.$q),d=_(()=>kn.includes(e.tag)?null:"list"),c=_(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(t.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>H(e.tag,{class:c.value,role:d.value},tt(l.default))}}),qn=Ee({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:l}){const i=_(()=>{const t=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(d=>e[d]===!0).map(d=>`q-btn-group--${d}`).join(" ");return`q-btn-group row no-wrap${t.length!==0?" "+t:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>H("div",{class:i.value},tt(l.default))}}),Pn=Ee({name:"QBtnToggle",props:{...ma,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(l=>("label"in l||"icon"in l||"slot"in l)&&"value"in l)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:l,emit:i}){const t=_(()=>e.options.find(k=>k.value===e.modelValue)!==void 0),d=_(()=>({type:"hidden",name:e.name,value:e.modelValue})),c=en(d),n=_(()=>$a(e)),v=_(()=>({rounded:e.rounded,dense:e.dense,...n.value})),p=_(()=>e.options.map((k,y)=>{const{attrs:z,value:F,slot:M,...Q}=k;return{slot:M,props:{key:y,"aria-pressed":F===e.modelValue?"true":"false",...z,...Q,...v.value,disable:e.disable===!0||Q.disable===!0,color:F===e.modelValue?h(Q,"toggleColor"):h(Q,"color"),textColor:F===e.modelValue?h(Q,"toggleTextColor"):h(Q,"textColor"),noCaps:h(Q,"noCaps")===!0,noWrap:h(Q,"noWrap")===!0,size:h(Q,"size"),padding:h(Q,"padding"),ripple:h(Q,"ripple"),stack:h(Q,"stack")===!0,stretch:h(Q,"stretch")===!0,onClick(E){T(F,k,E)}}}}));function T(k,y,z){e.readonly!==!0&&(e.modelValue===k?e.clearable===!0&&(i("update:modelValue",null,null),i("clear")):i("update:modelValue",k,y),i("click",z))}function h(k,y){return k[y]===void 0?e[y]:k[y]}function D(){const k=p.value.map(y=>H(W,y.props,y.slot!==void 0?l[y.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&t.value===!0&&c(k,"push"),fa(l.default,k)}return()=>H(qn,{class:"q-btn-toggle",...n.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},D)}}),Mn=Ee({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:l,emit:i}){let t=!1,d,c,n=null,v=null,p,T;function h(){d&&d(),d=null,t=!1,n!==null&&(clearTimeout(n),n=null),v!==null&&(clearTimeout(v),v=null),c!==void 0&&c.removeEventListener("transitionend",p),p=null}function D(F,M,Q){M!==void 0&&(F.style.height=`${M}px`),F.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,t=!0,d=Q}function k(F,M){F.style.overflowY=null,F.style.height=null,F.style.transition=null,h(),M!==T&&i(M)}function y(F,M){let Q=0;c=F,t===!0?(h(),Q=F.offsetHeight===F.scrollHeight?0:void 0):(T="hide",F.style.overflowY="hidden"),D(F,Q,M),n=setTimeout(()=>{n=null,F.style.height=`${F.scrollHeight}px`,p=E=>{v=null,(Object(E)!==E||E.target===F)&&k(F,"show")},F.addEventListener("transitionend",p),v=setTimeout(p,e.duration*1.1)},100)}function z(F,M){let Q;c=F,t===!0?h():(T="show",F.style.overflowY="hidden",Q=F.scrollHeight),D(F,Q,M),n=setTimeout(()=>{n=null,F.style.height=0,p=E=>{v=null,(Object(E)!==E||E.target===F)&&k(F,"hide")},F.addEventListener("transitionend",p),v=setTimeout(p,e.duration*1.1)},100)}return dt(()=>{t===!0&&h()}),()=>H(zl,{css:!1,appear:e.appear,onEnter:y,onLeave:z},l.default)}}),Tn=Ee({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:l}){const{proxy:{$q:i}}=et(),t=Al(tn,Bt);if(t===Bt)return console.error("QPage needs to be a deep child of QLayout"),Bt;if(Al(ln,Bt)===Bt)return console.error("QPage needs to be child of QPageContainer"),Bt;const c=_(()=>{const v=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const p=t.isContainer.value===!0?t.containerHeight.value:i.screen.height;return e.styleFn(v,p)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-v+"px":i.screen.height===0?v!==0?`calc(100vh - ${v}px)`:"100vh":i.screen.height-v+"px"}}),n=_(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>H("main",{class:n.value,style:c.value},tt(l.default))}});function $l(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const l=parseInt(e,10);return isNaN(l)?0:l}const wt=an({name:"close-popup",beforeMount(e,{value:l}){const i={depth:$l(l),handler(t){i.depth!==0&&setTimeout(()=>{const d=nn(e);d!==void 0&&on(d,t,i.depth)})},handlerKey(t){dl(t,13)===!0&&i.handler(t)}};e.__qclosepopup=i,e.addEventListener("click",i.handler),e.addEventListener("keyup",i.handlerKey)},updated(e,{value:l,oldValue:i}){l!==i&&(e.__qclosepopup.depth=$l(l))},beforeUnmount(e){const l=e.__qclosepopup;e.removeEventListener("click",l.handler),e.removeEventListener("keyup",l.handlerKey),delete e.__qclosepopup}});function An(){return Al(sn)}const Vn=va({__name:"TeamArrangement",props:{team1:{},team2:{},createBalancedMatch:{type:Function}},emits:["update:team1","update:team2"],setup(e,{expose:l,emit:i}){l();const t=e,d=i,c=L(null),n=L(null),v=E=>E.reduce((A,j)=>A+j.level,0),p=()=>Math.abs(v(t.team1)-v(t.team2)),Q={props:t,emit:d,selectedForSwap:c,selectedForSwapTeam:n,getTeamSkill:v,getSkillDifference:p,isBalanced:()=>p()<=1,getBalanceColor:()=>{const E=p();return E===0?"green":E===1?"light-green":E===2?"orange":"red"},getBalanceIcon:()=>{const E=p();return E===0?"verified":E===1?"check_circle":E===2?"warning":"error"},getBalanceText:()=>{const E=p();return E===0?"Perfect Balance":E===1?"Well Balanced":E===2?"Slightly Unbalanced":"Very Unbalanced"},getLevelColor:E=>{switch(E){case 1:return"green-6";case 2:return"orange-7";case 3:return"red-8";default:return"grey-5"}},balanceTeams:()=>{const E=[...t.team1,...t.team2],A=t.createBalancedMatch(E);d("update:team1",[A[0],A[1]]),d("update:team2",[A[2],A[3]])},shuffleTeams:()=>{const E=[...t.team1,...t.team2];for(let A=E.length-1;A>0;A--){const j=Math.floor(Math.random()*(A+1));[E[A],E[j]]=[E[j],E[A]]}d("update:team1",[E[0],E[1]]),d("update:team2",[E[2],E[3]])},selectPlayerForSwap:(E,A)=>{if(!c.value){c.value=E,n.value=A;return}if(c.value.name===E.name){c.value=null,n.value=null;return}const j=[...t.team1],Z=[...t.team2],$=j.filter(ne=>ne.name!==c.value.name&&ne.name!==E.name),ee=Z.filter(ne=>ne.name!==c.value.name&&ne.name!==E.name);n.value==="team1"?ee.push(c.value):$.push(c.value),A==="team1"?ee.push(E):$.push(E),d("update:team1",$),d("update:team2",ee),c.value=null,n.value=null}};return Object.defineProperty(Q,"__isScriptSetup",{enumerable:!1,value:!0}),Q}}),Bn={class:"team-arrangement"},zn={class:"balance-indicator q-mb-lg"},Ln={class:"row items-center justify-between"},En={class:"row items-center q-gutter-sm"},Dn={class:"text-caption text-grey-7 q-mt-xs"},In={class:"row q-mb-lg q-gutter-sm"},Fn={class:"row q-col-gutter-lg"},On={class:"col-12 col-md-6"},Rn={class:"text-h6"},Qn={class:"text-caption text-grey-6 q-mb-sm text-center"},Hn={key:1,class:"text-center text-grey-6 q-pa-md empty-team-drop"},Nn={class:"col-12 col-md-6"},Wn={class:"text-h6"},jn={class:"text-caption text-grey-6 q-mb-sm text-center"},Un={key:1,class:"text-center text-grey-6 q-pa-md empty-team-drop"};function Kn(e,l,i,t,d,c){return w(),G("div",Bn,[f("div",zn,[f("div",Ln,[l[1]||(l[1]=f("div",{class:"text-subtitle1"},"Team Balance",-1)),f("div",En,[a(ge,{color:t.getBalanceColor(),"text-color":"white",icon:t.getBalanceIcon(),size:"md"},{default:o(()=>[C(S(t.getBalanceText()),1)]),_:1},8,["color","icon"]),t.isBalanced()?be("",!0):(w(),J(R,{key:0,name:"warning",color:"orange",size:"sm"},{default:o(()=>[a(fe,null,{default:o(()=>l[0]||(l[0]=[C("Teams are unbalanced. Consider using Balance Teams button.")])),_:1})]),_:1}))])]),f("div",Dn," Skill difference: "+S(t.getSkillDifference())+" point"+S(t.getSkillDifference()!==1?"s":"")+" (Team 1: "+S(t.getTeamSkill(i.team1))+" vs Team 2: "+S(t.getTeamSkill(i.team2))+") ",1)]),f("div",In,[a(W,{color:"accent",label:"Balance Teams",icon:"balance",onClick:t.balanceTeams,outline:""},{default:o(()=>[a(fe,null,{default:o(()=>l[2]||(l[2]=[C("Use smart algorithm to create balanced teams")])),_:1})]),_:1}),a(W,{color:"accent",label:"Shuffle",icon:"shuffle",onClick:t.shuffleTeams,outline:""},{default:o(()=>[a(fe,null,{default:o(()=>l[3]||(l[3]=[C("Randomly assign players to teams")])),_:1})]),_:1})]),f("div",Fn,[f("div",On,[a(Pe,{flat:"",bordered:""},{default:o(()=>[a(oe,{class:"bg-blue-6 text-white"},{default:o(()=>[f("div",Rn,[l[4]||(l[4]=C(" Team 1 ")),a(ge,{label:`Skill: ${t.getTeamSkill(i.team1)}`,color:"white","text-color":"blue-6",size:"sm",class:"q-ml-sm"},null,8,["label"])])]),_:1}),a(oe,{class:"team-drop-area"},{default:o(()=>[f("div",Qn,[a(R,{name:"touch_app",size:"xs"}),l[5]||(l[5]=C(" Click to select, click another to swap "))]),i.team1.length>0?(w(),J(Oe,{key:0},{default:o(()=>[(w(!0),G(Me,null,We(i.team1,(n,v)=>(w(),J(_e,{key:n.name,clickable:"",class:je(["team-player-item swappable-player",{"selected-for-swap":t.selectedForSwap?.name===n.name,"can-swap-with":t.selectedForSwap&&t.selectedForSwap.name!==n.name}]),onClick:p=>t.selectPlayerForSwap(n,"team1")},{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(zt,{color:t.getLevelColor(n.level),"text-color":"white",class:je({"swap-pulse":t.selectedForSwap?.name===n.name})},{default:o(()=>[C(S(v+1)+" ",1),a(fe,null,{default:o(()=>[C(S(n.name)+" - Level "+S(n.level)+" - Position "+S(v+1),1)]),_:2},1024)]),_:2},1032,["color","class"])]),_:2},1024),a(U,null,{default:o(()=>[a(ve,{class:"text-weight-medium"},{default:o(()=>[C(S(n.name)+" ",1),t.selectedForSwap?.name===n.name?(w(),J(R,{key:0,name:"check_circle",color:"green",size:"sm",class:"q-ml-xs swap-icon-pulse"})):be("",!0)]),_:2},1024),a(ve,{caption:""},{default:o(()=>[C("Level "+S(n.level),1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:o(()=>[a(R,{name:"swap_horiz",color:"grey-5",size:"sm"})]),_:1})]),_:2},1032,["class","onClick"]))),128))]),_:1})):(w(),G("div",Hn,[a(R,{name:"group_add",size:"lg",color:"grey-4"}),l[6]||(l[6]=f("p",{class:"q-mt-sm"},"Click to assign",-1))]))]),_:1})]),_:1})]),f("div",Nn,[a(Pe,{flat:"",bordered:""},{default:o(()=>[a(oe,{class:"bg-orange-6 text-white"},{default:o(()=>[f("div",Wn,[l[7]||(l[7]=C(" Team 2 ")),a(ge,{label:`Skill: ${t.getTeamSkill(i.team2)}`,color:"white","text-color":"orange-6",size:"sm",class:"q-ml-sm"},null,8,["label"])])]),_:1}),a(oe,{class:"team-drop-area"},{default:o(()=>[f("div",jn,[a(R,{name:"touch_app",size:"xs"}),l[8]||(l[8]=C(" Click to select, click another to swap "))]),i.team2.length>0?(w(),J(Oe,{key:0},{default:o(()=>[(w(!0),G(Me,null,We(i.team2,(n,v)=>(w(),J(_e,{key:n.name,clickable:"",class:je(["team-player-item swappable-player",{"selected-for-swap":t.selectedForSwap?.name===n.name,"can-swap-with":t.selectedForSwap&&t.selectedForSwap.name!==n.name}]),onClick:p=>t.selectPlayerForSwap(n,"team2")},{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(zt,{color:t.getLevelColor(n.level),"text-color":"white",class:je({"swap-pulse":t.selectedForSwap?.name===n.name})},{default:o(()=>[C(S(v+1)+" ",1),a(fe,null,{default:o(()=>[C(S(n.name)+" - Level "+S(n.level)+" - Position "+S(v+1),1)]),_:2},1024)]),_:2},1032,["color","class"])]),_:2},1024),a(U,null,{default:o(()=>[a(ve,{class:"text-weight-medium"},{default:o(()=>[C(S(n.name)+" ",1),t.selectedForSwap?.name===n.name?(w(),J(R,{key:0,name:"check_circle",color:"green",size:"sm",class:"q-ml-xs swap-icon-pulse"})):be("",!0)]),_:2},1024),a(ve,{caption:""},{default:o(()=>[C("Level "+S(n.level),1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:o(()=>[a(R,{name:"swap_horiz",color:"grey-5",size:"sm"})]),_:1})]),_:2},1032,["class","onClick"]))),128))]),_:1})):(w(),G("div",Un,[a(R,{name:"group_add",size:"lg",color:"grey-4"}),l[9]||(l[9]=f("p",{class:"q-mt-sm"},"Click to assign",-1))]))]),_:1})]),_:1})])])])}const Gn=ga(Vn,[["render",Kn],["__scopeId","data-v-98afa0fc"],["__file","TeamArrangement.vue"]]),Jn=va({__name:"IndexPage",setup(e,{expose:l}){l();const i=An(),t=L(qt()),d=L(Kt()),c=L(It()),n=L(null),v=L(null),p=L(!1),T=L(""),h=L([]),D=L(2),k=L(Pt().availableCourts),y=L(Pt().autoAssignCourts),z=L(Pt().autoAdvanceMatches),F=L(8),M=()=>typeof k.value=="object"&&k.value!==null?k.value.value:k.value||2,Q=L(!1),E=L(!1),A=L(!1),j=L(!1),Z=L(!1),$=L(!1),ee=L(null),ne=L(null),ie=L(-1),ke=L(-1),Ae=L(!1),ue=L(1),te=L([]),he=L([]),de=L([]),me=L(null),Re=L(!1),De=L(null),Te=L(null),qe=L(gt().sortBy),g=L(gt().matchesFilterBy),b=L(gt().matchType),I=L(Mt().queueReturnMethod),le=L(Mt().autoSortQueue),ae=L(-1),Y=[{label:"Beginner",value:1,description:"New to the game"},{label:"Intermediate",value:2,description:"Some experience"},{label:"Advanced",value:3,description:"Experienced player"}],K=[{label:"Singles (1v1)",value:"singles"},{label:"Doubles (2v2)",value:"doubles"}],ye=[{label:"Games played",value:"gamesPlayed"},{label:"Wins",value:"wins"},{label:"Losses",value:"losses"},{label:"Name",value:"name"}],q=_(()=>{const r=[{label:"All",value:"all"}],u=typeof k.value=="number"?k.value:k.value.value;for(let m=1;m<=u;m++)r.push({label:`Court ${m}`,value:m});return r}),Se=[{label:"Fairness First (Recommended)",value:"fairness_first",description:"Players return to front, maintaining fairness"},{label:"End of Queue",value:"end_of_queue",description:"Players added to end of queue"},{label:"Smart Position",value:"smart_position",description:"Calculate position based on games played"}],Qe=_(()=>Array.from({length:F.value},(r,u)=>({label:`${u+1} Court${u>0?"s":""}`,value:u+1}))),lt=_(()=>{const r=Math.max(M(),2);return Array.from({length:r},(u,m)=>({value:m+1,label:`Court ${m+1}`}))}),He=_(()=>{const r=d.value.length,u=d.value.filter(P=>P.level===1).length,m=d.value.filter(P=>P.level===2).length,x=d.value.filter(P=>P.level===3).length;return{total:r,level1:u,level2:m,level3:x}}),xt=_(()=>[...t.value].sort((r,u)=>{if(qe.value==="gamesPlayed"){if(r.gamesPlayed!==u.gamesPlayed)return u.gamesPlayed-r.gamesPlayed}else if(qe.value==="wins"){if(r.wins!==u.wins)return u.wins-r.wins}else if(qe.value==="losses"){if(r.losses!==u.losses)return u.losses-r.losses}else if(qe.value==="name")return r.name.localeCompare(u.name);return r.name.localeCompare(u.name)})),Ye=_(()=>g.value==="all"?c.value:c.value.filter(r=>r.court===g.value)),Xe=_(()=>ie.value>=0&&ie.value<c.value.length?c.value[ie.value].players:[]),Ct=r=>{switch(r){case 1:return"green-6";case 2:return"orange-7";case 3:return"red-8";default:return"grey-5"}},mt=r=>{switch(r){case 1:return"star_border";case 2:return"star_half";case 3:return"star";default:return"star_outline"}},Et=()=>{const r=d.value.length,u=b.value==="singles"?2:4;return r>=u},ft=()=>{const r=d.value.length,u=b.value==="singles"?2:4;if(r<u)return`Need ${u-r} more player${u-r>1?"s":""} to generate ${b.value} matches`;const m=Math.floor(r/u),x=r%u;return x===0?`Can generate ${m} ${b.value} match${m>1?"es":""}`:b.value==="singles"?`Can generate ${m} singles match${m>1?"es":""} (1 player will wait)`:x===1?`Can generate ${m} match${m>1?"es":""} (1 player will wait)`:x===2?`Can generate ${m} match${m>1?"es":""} (2 players will wait)`:`Can generate ${m} match${m>1?"es":""} (3 players will wait)`},Ne=()=>{const r=d.value.length,u=b.value==="singles"?2:4,m=r%u;if(m===0)return"";if(b.value==="singles")return"1 player waiting - Practice serves or warm up";const x={1:"Practice serves or warm up",2:"Practice doubles positioning",3:"Practice singles or wait for 1 more player"};return`${m} player${m>1?"s":""} waiting - ${x[m]}`},Ve=r=>{switch(r){case"waiting":return"grey-6";case"in-progress":return"green-6";case"completed":return"blue-6";default:return"grey-6"}},at=r=>{switch(r){case"waiting":return"Waiting";case"in-progress":return"In Progress";case"completed":return"Completed";default:return"Unknown"}},_t=r=>{if(r.priority==="returned")return"Recently returned";if(r.originalQueueTime){const m=new Date().getTime()-new Date(r.originalQueueTime).getTime(),x=Math.floor(m/6e4);return x<1?"Just joined":x<60?`${x}m ago`:`${Math.floor(x/60)}h ago`}return"In queue"},kt=()=>{le.value&&(d.value.sort((r,u)=>r.gamesPlayed-u.gamesPlayed),xe(d.value))},Dt=r=>{const u=[...d.value].sort((x,P)=>x.gamesPlayed-P.gamesPlayed),m=r.gamesPlayed;for(let x=0;x<u.length;x++)if(u[x].gamesPlayed>m)return x;return d.value.length};function qt(){const r=localStorage.getItem("playerList");return(r?JSON.parse(r):[]).map(m=>({...m,wins:m.wins||0,losses:m.losses||0}))}function Kt(){const r=localStorage.getItem("playerQueue");return(r?JSON.parse(r):[]).map(m=>({...m,wins:m.wins||0,losses:m.losses||0}))}function It(){const r=localStorage.getItem("matches"),u=r?JSON.parse(r):[];return u.length>0&&Array.isArray(u[0])&&!("id"in u[0])?u.map((m,x)=>({id:`match-${Date.now()}-${x}`,players:m.map(P=>({...P,wins:P.wins||0,losses:P.losses||0})),status:"waiting",order:x+1,createdAt:new Date})):u.map(m=>({...m,status:m.status||"waiting",order:m.order||1,createdAt:m.createdAt?new Date(m.createdAt):new Date}))}function Be(r){localStorage.setItem("playerList",JSON.stringify(r))}function xe(r){localStorage.setItem("playerQueue",JSON.stringify(r))}function ze(r){localStorage.setItem("matches",JSON.stringify(r))}function Pt(){const r=localStorage.getItem("courtSettings");if(r){const u=JSON.parse(r);return{availableCourts:u.availableCourts||2,autoAssignCourts:u.autoAssignCourts!==void 0?u.autoAssignCourts:!0,autoAdvanceMatches:u.autoAdvanceMatches!==void 0?u.autoAdvanceMatches:!0}}return{availableCourts:2,autoAssignCourts:!0,autoAdvanceMatches:!0}}function nt(){localStorage.setItem("courtSettings",JSON.stringify({availableCourts:k.value,autoAssignCourts:y.value,autoAdvanceMatches:z.value}))}function Mt(){const r=localStorage.getItem("queueSettings");if(r){const u=JSON.parse(r);return{queueReturnMethod:u.queueReturnMethod||"fairness_first",autoSortQueue:u.autoSortQueue!==void 0?u.autoSortQueue:!0}}return{queueReturnMethod:"fairness_first",autoSortQueue:!0}}function vt(){localStorage.setItem("queueSettings",JSON.stringify({queueReturnMethod:I.value,autoSortQueue:le.value}))}function gt(){const r=localStorage.getItem("uiSettings");if(r){const u=JSON.parse(r);return{sortBy:u.sortBy||"gamesPlayed",matchType:u.matchType||"doubles",matchesFilterBy:u.matchesFilterBy||"all"}}return{sortBy:"gamesPlayed",matchType:"doubles",matchesFilterBy:"all"}}function ht(){localStorage.setItem("uiSettings",JSON.stringify({sortBy:qe.value,matchType:b.value,matchesFilterBy:g.value}))}we(k,()=>{nt()}),we(y,()=>{nt()}),we(z,()=>{nt()}),we(I,()=>{vt()}),we(le,()=>{vt()}),we(qe,()=>{ht()}),we(b,()=>{ht()}),we(g,()=>{ht()});const Ft=()=>{const r=[],u=[...d.value].sort((O,N)=>O.gamesPlayed-N.gamesPlayed),m=b.value==="singles"?2:4,x=Math.floor(u.length/m);for(let O=0;O<x;O++){const N=u.splice(0,m);let Le;b.value==="singles"?Le=N:Le=Ot(N);const ce={id:`match-${Date.now()}-${O}`,players:Le,status:"waiting",order:c.value.length+O+1,createdAt:new Date,court:void 0,startedAt:void 0};r.push(ce)}y.value&&r.length>0&&Gt(r);const P=r.flatMap(O=>O.players.map(N=>N.name));return d.value=d.value.filter(O=>!P.includes(O.name)),r},Tt=()=>{const r=M();for(let P=1;P<=r;P++)if(!c.value.some(N=>N.court===P&&N.status==="in-progress"))return P;const u=new Map;for(let P=1;P<=r;P++)u.set(P,0);c.value.forEach(P=>{if(P.court){const O=u.get(P.court)||0;u.set(P.court,O+1)}});let m=1,x=u.get(1)||0;for(let P=1;P<=r;P++){const O=u.get(P)||0;O<x&&(x=O,m=P)}return m},Gt=r=>{const u=M(),m=new Map;for(let x=1;x<=u;x++)m.set(x,0);c.value.forEach(x=>{if(x.court){const P=m.get(x.court)||0;m.set(x.court,P+1)}});for(let x=0;x<r.length;x++){const P=r[x];let O=1,N=m.get(1)||0;for(let Ie=1;Ie<=u;Ie++){const ll=m.get(Ie)||0;ll<N&&(N=ll,O=Ie)}P.court=O;const Le=m.get(O)||0;m.set(O,Le+1),!c.value.some(Ie=>Ie.court===O&&Ie.status==="in-progress")?(P.status="in-progress",P.startedAt=new Date):P.status="waiting"}},Ot=r=>{const u=[...r].sort((ce,Ie)=>ce.level-Ie.level),x=Rt(u).map(ce=>{const Ie=ce.team1,ll=ce.team2,Rl=Ie.reduce((xl,Cl)=>xl+Cl.level,0),Ql=ll.reduce((xl,Cl)=>xl+Cl.level,0),_a=Math.abs(Rl-Ql);return{...ce,difference:_a,team1Skill:Rl,team2Skill:Ql}});x.sort((ce,Ie)=>ce.difference-Ie.difference);const P=x[0].difference,O=x.filter(ce=>ce.difference<=P+1),N=Math.floor(Math.random()*O.length),Le=O[N];return[...Le.team1,...Le.team2]},Rt=r=>{const u=[],m=[0,1,2,3],x=[[0,1],[0,2],[0,3],[1,2],[1,3],[2,3]];for(const P of x){const O=m.filter(ce=>!P.includes(ce)),N=P.map(ce=>r[ce]),Le=O.map(ce=>r[ce]);u.push({team1:N,team2:Le})}return u},vl=()=>{if(!n.value?.trim()){i.notify({type:"negative",message:"Please enter a player name",position:"top"});return}if(v.value===null){i.notify({type:"negative",message:"Please select a player level",position:"top"});return}const r=n.value.trim();if(t.value.some(m=>m.name.toLowerCase()===r.toLowerCase())){i.notify({type:"negative",message:`Player "${r}" already exists`,position:"top"});return}const u={name:r,level:v.value,gamesPlayed:0,wins:0,losses:0};t.value.push(u),d.value.push(u),Be(t.value),xe(d.value),i.notify({type:"positive",message:`Player "${r}" added successfully`,position:"top"}),n.value=null,v.value=null,Q.value=!1},Jt=()=>{if(!T.value?.trim()){h.value=[];return}const r=T.value.trim();let u=[];r.includes(`
`)?u=r.split(`
`).map(m=>m.trim()).filter(m=>m.length>0):r.includes(",")?u=r.split(",").map(m=>m.trim()).filter(m=>m.length>0):r.includes(";")?u=r.split(";").map(m=>m.trim()).filter(m=>m.length>0):u=[r],h.value=u.map(m=>({name:m.trim(),level:D.value,original:m.trim()}))},At=()=>{h.value.forEach(r=>{r.level=D.value})},yt=()=>{if(h.value.length===0){i.notify({type:"negative",message:"No players to import",position:"top"});return}const r=[],u=[],m=[];for(const x of h.value){const P=x.name.trim();if(!P){m.push(x.original);continue}if(t.value.some(N=>N.name.toLowerCase()===P.toLowerCase())){u.push(P);continue}const O={name:P,level:x.level,gamesPlayed:0,wins:0,losses:0};r.push(O)}r.length>0&&(t.value.push(...r),d.value.push(...r),Be(t.value),xe(d.value),i.notify({type:"positive",message:`Successfully imported ${r.length} player${r.length>1?"s":""}`,position:"top"})),u.length>0&&i.notify({type:"warning",message:`Skipped ${u.length} duplicate player${u.length>1?"s":""}: ${u.join(", ")}`,position:"top",timeout:5e3}),m.length>0&&i.notify({type:"warning",message:`Skipped ${m.length} invalid name${m.length>1?"s":""}: ${m.join(", ")}`,position:"top",timeout:5e3}),p.value=!1,T.value="",h.value=[],D.value=2,Q.value=!1},ot=()=>{const r=Math.floor(d.value.length/(b.value==="singles"?2:4));i.dialog({title:"Confirm Match Generation",message:`Generate ${r} ${b.value} match${r>1?"es":""} from the queue?`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Generate",color:"accent",icon:"auto_awesome"}}).onOk(()=>{Yt()})},Yt=()=>{const r=Ft();if(c.value=[...c.value,...r],xe(d.value),ze(c.value),r.length>0){const u=d.value.length;let m=`Generated ${r.length} new match(es)`;u>0&&(m+=`. ${u} player${u>1?"s":""} waiting for more players`,u===1?m+=" (suggest: practice serves or warm up)":u===2?m+=" (suggest: practice doubles positioning)":u===3&&(m+=" (suggest: practice singles or wait for 1 more player)")),i.notify({type:"positive",message:m,position:"top",timeout:5e3})}else i.notify({type:"warning",message:"Not enough players in queue to generate matches",position:"top"})},gl=r=>{ie.value=r,ne.value=null,A.value=!0},hl=()=>{if(ne.value===null||ie.value===-1)return;const r=ne.value==="team1"?"Team 1":"Team 2";i.dialog({title:"Complete Match",message:`Confirm ${r} as the winner? This will update player stats and remove the match.`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Complete",color:"accent",icon:"check"}}).onOk(()=>{const u=c.value[ie.value];u.players.forEach(m=>{const x=t.value.find(P=>P.name===m.name);if(x){x.gamesPlayed++;const P=u.players.findIndex(ce=>ce.name===m.name),N=u.players.length===2?P===0:P<2;ne.value==="team1"&&N||ne.value==="team2"&&!N?x.wins++:x.losses++}}),c.value.splice(ie.value,1),Xt(u.court),ze(c.value),Be(t.value),A.value=!1,ne.value=null,ie.value=-1,i.notify({type:"positive",message:"Match completed! Stats updated.",position:"top"})})},Xt=r=>{if(!z.value)return;const u=c.value.find(m=>m.status==="waiting"&&m.court===r);u&&(u.status="in-progress",u.startedAt=new Date,ze(c.value),i.notify({type:"info",message:`Next match started on Court ${r}`,position:"top",timeout:3e3}))},yl=r=>{i.dialog({title:"Confirm Removal",message:`Are you sure you want to remove "${r}" from all lists?`,cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Remove",color:"negative",icon:"delete"},persistent:!0}).onOk(()=>{t.value=t.value.filter(u=>u.name!==r),d.value=d.value.filter(u=>u.name!==r),Be(t.value),xe(d.value),i.notify({type:"positive",message:`Player "${r}" removed successfully`,position:"top"})})},pl=r=>{i.dialog({title:"Remove from Queue",message:`Remove "${r}" from the queue?`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Remove",color:"negative",icon:"remove_circle"}}).onOk(()=>{d.value=d.value.filter(u=>u.name!==r),xe(d.value),i.notify({type:"info",message:`Player "${r}" removed from queue`,position:"top"})})},bl=()=>{i.dialog({title:"Confirm Reset",message:"Are you sure you want to reset all games played counters to zero?",cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Reset",color:"negative",icon:"refresh"},persistent:!0}).onOk(()=>{t.value.forEach(r=>{r.gamesPlayed=0,r.wins=0,r.losses=0}),Be(t.value),i.notify({type:"positive",message:"All games played counters have been reset",position:"top"})})},wl=r=>{const u=t.value.find(m=>m.name===r);if(u){if(d.value.some(x=>x.name===r)){i.notify({type:"warning",message:`Player "${r}" is already in the queue`,position:"top"});return}const m={...u,originalQueueTime:new Date,priority:"normal"};d.value.push(m),kt(),i.notify({type:"positive",message:`Player "${r}" added to queue`,position:"top"})}},Qt=(r,u,m)=>{const x=new Date,P=r.map(O=>({...O,originalQueueTime:x,priority:m==="cancelled"?"high":"returned"}));switch(u){case"fairness_first":d.value.unshift(...P);break;case"end_of_queue":d.value.push(...P);break;case"smart_position":P.forEach(O=>{const N=Dt(O);d.value.splice(N,0,O)});break}kt(),xe(d.value),i.notify({type:"positive",message:`${r.length} player(s) returned to queue using ${u} method`,position:"top"})},st=()=>{i.dialog({title:"Confirm Reset All",message:"This will clear all players, queue, and matches. Are you sure?",cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Reset All",color:"negative",icon:"delete_forever"},persistent:!0}).onOk(()=>{t.value=[],d.value=[],c.value=[],Be(t.value),xe(d.value),ze(c.value),i.notify({type:"positive",message:"All data has been reset",position:"top"})})},it=()=>{te.value=[],he.value=[],de.value=[],ue.value=1,Ae.value=!0},Ze=()=>{te.value=[],he.value=[],de.value=[],ue.value=1,De.value=null,Te.value=null,me.value=null,Re.value=!1,Ae.value=!1},rt=r=>{const u=te.value.findIndex(x=>x.name===r.name),m=b.value==="singles"?2:4;u>=0?te.value.splice(u,1):te.value.length<m?te.value.push(r):i.notify({type:"warning",message:`You can only select ${m} players`,position:"top"})},Ht=r=>te.value.some(u=>u.name===r.name),Sl=()=>{const r=te.value.length;if(r<2){i.notify({type:"warning",message:"Please select at least 2 players",position:"top"});return}if(r>4){i.notify({type:"warning",message:"Maximum 4 players allowed for tennis matches",position:"top"});return}if(r===4){const u=Ot([...te.value]);he.value=[u[0],u[1]],de.value=[u[2],u[3]]}else he.value=[],de.value=[];ue.value=2},Zt=()=>{if(te.value.length!==2){i.notify({type:"warning",message:"Please select exactly 2 players",position:"top"});return}ue.value=3},$t=()=>{if(he.value.length!==2||de.value.length!==2){i.notify({type:"warning",message:"Please arrange both teams properly",position:"top"});return}ue.value=3},el=()=>{me.value=null},tl=()=>{Re.value=!Re.value},s=r=>c.value.filter(u=>u.court===r).length,V=()=>{const r=new Map,u=M();for(let O=1;O<=u;O++)r.set(O,0);c.value.forEach(O=>{if(O.court){const N=r.get(O.court)||0;r.set(O.court,N+1)}});let m=1,x=r.get(1)||0;for(let O=1;O<=u;O++){const N=r.get(O)||0;N<x&&(x=N,m=O)}const P=r.get(m)||0;return`Will assign Court ${m} (least busy court, ${P} matches)`},B=r=>{me.value=r},X=()=>{let r;b.value==="doubles"?r=[...he.value,...de.value]:r=[...te.value];const u=me.value||(y.value?Tt():void 0),m=!u||!c.value.some(O=>O.court===u&&O.status==="in-progress"),x={id:`match-${Date.now()}`,players:r,status:m?"in-progress":"waiting",order:c.value.length+1,createdAt:new Date,court:u,startedAt:m?new Date:void 0};c.value.push(x);const P=x.players.map(O=>O.name);d.value=d.value.filter(O=>!P.includes(O.name)),ze(c.value),xe(d.value),Ae.value=!1,te.value=[],he.value=[],de.value=[],me.value=null,ue.value=1,i.notify({type:"positive",message:`Manual match created successfully${x.court?` on Court ${x.court}`:""}!`,position:"top"})},re=r=>{i.dialog({title:"Cancel Match",message:"Are you sure you want to cancel this match? All players will return to the queue.",cancel:{label:"Keep Match",color:"grey",flat:!0},ok:{label:"Cancel Match",color:"negative",icon:"cancel"},persistent:!0}).onOk(()=>{const m=c.value[r].players;i.dialog({title:"Return Players to Queue",message:`How should ${m.length} player(s) be returned to the queue?`,options:{type:"radio",model:I.value,items:Se},cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Return to Queue",color:"accent",icon:"queue"}}).onOk(x=>{x&&x!==I.value&&(I.value=x,vt()),Qt(m,x||I.value,"cancelled"),c.value.splice(r,1),ze(c.value),xe(d.value),i.notify({type:"positive",message:"Match cancelled and players returned to queue",position:"top"})})})},se=r=>{ke.value=r,$.value=!0},Ce=()=>{const r=ke.value,u=c.value[r],m=Tt();if(m>0){u.court=m,ze(c.value);const x=c.value.filter(P=>P.court===m).length;i.notify({type:"positive",message:`Assigned to Court ${m} (${x} total matches)`,position:"top"})}else i.notify({type:"negative",message:"No available courts",position:"top"});$.value=!1},pe=r=>{const u=ke.value,m=c.value[u];m.court=r,ze(c.value);const x=c.value.filter(P=>P.court===r).length;i.notify({type:"positive",message:`Assigned to Court ${r} (${x} total matches)`,position:"top"}),$.value=!1},Nt=r=>{ae.value=r,j.value=!0,ue.value=1,te.value=[...c.value[r].players];const u=c.value[r];u.players.length===4?(he.value=[u.players[0],u.players[1]],de.value=[u.players[2],u.players[3]]):(he.value=[],de.value=[])},Ca=()=>{const r=c.value[ae.value];let u;Fl.value==="doubles"&&te.value.length===4&&he.value.length===2&&de.value.length===2?u=[...he.value,...de.value]:u=[...te.value],c.value[ae.value].players=u;const m=Dl(r.players,u);ze(c.value),xe(d.value),j.value=!1,te.value=[],he.value=[],de.value=[],ue.value=1,De.value=null,Te.value=null;let x="Match updated successfully!";if(m.removed.length>0||m.added.length>0){const P=[];m.removed.length>0&&P.push(`${m.removed.length} player(s) returned to queue`),m.added.length>0&&P.push(`${m.added.length} player(s) removed from queue`),x+=` (${P.join(", ")})`}i.notify({type:"positive",message:x,position:"top",timeout:4e3})},Dl=(r,u)=>{const m=r.map(N=>N.name),x=u.map(N=>N.name),P=r.filter(N=>!x.includes(N.name)),O=u.filter(N=>!m.includes(N.name));return console.log("Queue Update Analysis:",{original:m,updated:x,removed:P.map(N=>N.name),added:O.map(N=>N.name)}),O.forEach(N=>{const Le=d.value.findIndex(ce=>ce.name===N.name);Le>=0&&(d.value.splice(Le,1),console.log(`Removed ${N.name} from queue (now in match)`))}),P.forEach(N=>{if(d.value.some(ce=>ce.name===N.name))console.log(`${N.name} is already in queue, skipping`);else{const ce={...N,priority:"returned",originalQueueTime:new Date,lastMatchTime:new Date};console.log(`Adding ${N.name} back to queue with priority: returned`),Qt([ce],I.value,"edited")}}),le.value&&kt(),xe(d.value),{removed:P,added:O}},Il=_(()=>{const r=te.value.map(u=>u.name);return d.value.filter(u=>!r.includes(u.name))}),Fl=_(()=>te.value.length===4?"doubles":"singles"),Ol={$q:i,players:t,queue:d,matches:c,newPlayerName:n,newPlayerLevel:v,bulkImportMode:p,bulkPlayerText:T,bulkPlayers:h,bulkDefaultLevel:D,availableCourts:k,autoAssignCourts:y,autoAdvanceMatches:z,maxCourts:F,getCourtCount:M,showAddPlayerDialog:Q,showSettingsDialog:E,showMatchResultDialog:A,showMatchEditDialog:j,showReplacePlayerDialog:Z,showCourtSelectionDialog:$,playerToReplaceInEdit:ee,selectedWinner:ne,currentMatchIndex:ie,currentMatchForCourtAssignment:ke,showManualSelectionDialog:Ae,manualSelectionStep:ue,selectedPlayers:te,manualTeam1:he,manualTeam2:de,selectedCourt:me,showManualSelection:Re,selectedForSwap:De,selectedForSwapTeam:Te,sortBy:qe,matchesFilterBy:g,matchType:b,queueReturnMethod:I,autoSortQueue:le,currentMatchIndexForActions:ae,levelOptions:Y,matchTypeOptions:K,sortOptions:ye,matchesFilterOptions:q,queueReturnOptions:Se,courtOptions:Qe,courtSelectionOptions:lt,queueStats:He,sortedPlayers:xt,filteredMatches:Ye,currentMatch:Xe,getLevelColor:Ct,getLevelIcon:mt,canGenerateMatches:Et,getMatchGenerationHint:ft,getWaitingPlayersInfo:Ne,getMatchStatusColor:Ve,getMatchStatusLabel:at,getQueueTimeInfo:_t,sortQueueByFairness:kt,calculateSmartPosition:Dt,getPlayersFromStorage:qt,getQueueFromStorage:Kt,getMatchesFromStorage:It,savePlayersToStorage:Be,saveQueueToStorage:xe,saveMatchesToStorage:ze,getCourtSettingsFromStorage:Pt,saveCourtSettingsToStorage:nt,getQueueSettingsFromStorage:Mt,saveQueueSettingsToStorage:vt,getUISettingsFromStorage:gt,saveUISettingsToStorage:ht,generateMatches:Ft,assignCourt:Tt,assignCourtsToMatches:Gt,createBalancedMatch:Ot,generateTeamCombinations:Rt,addNewPlayer:vl,parseBulkPlayers:Jt,updateAllBulkLevels:At,addBulkPlayers:yt,generateNewMatches:ot,executeMatchGeneration:Yt,openMatchResultDialog:gl,completeMatch:hl,autoAdvanceNextMatchForCourt:Xt,removePlayer:yl,removeFromQueue:pl,resetGamesPlayed:bl,requeuePlayer:wl,executeQueueReturn:Qt,resetAllData:st,startManualSelection:it,cancelManualSelection:Ze,togglePlayerSelection:rt,isPlayerSelected:Ht,proceedToTeamArrangement:Sl,proceedToCourtSelection:Zt,proceedToCourtSelectionFromTeams:$t,selectAutoCourt:el,toggleManualSelection:tl,getCourtMatchCount:s,getAutoAssignDescription:V,selectSpecificCourt:B,createManualMatchWithCourt:X,cancelMatch:re,openCourtSelectionDialog:se,assignCourtAutomatically:Ce,assignSpecificCourt:pe,editMatch:Nt,saveMatchEdit:Ca,updateQueueAfterEdit:Dl,availableQueuePlayers:Il,currentMatchType:Fl,removePlayerFromEdit:r=>{const u=te.value.findIndex(m=>m.name===r.name);u>=0&&(te.value.splice(u,1),i.notify({type:"info",message:`Removed ${r.name} from match`,position:"top",timeout:2e3}))},addPlayerToEdit:r=>{te.value.length<4&&(te.value.push(r),i.notify({type:"positive",message:`Added ${r.name} to match`,position:"top",timeout:2e3}))},replacePlayerInEdit:r=>{if(Il.value.length===0){i.notify({type:"warning",message:"No players available in queue to replace with",position:"top"});return}ee.value=r,Z.value=!0},selectReplacementPlayer:r=>{if(!ee.value)return;const u=te.value.findIndex(m=>m.name===ee.value.name);u>=0&&(te.value[u]=r,i.notify({type:"positive",message:`Replaced ${ee.value.name} with ${r.name}`,position:"top"})),Z.value=!1,ee.value=null},TeamArrangement:Gn};return Object.defineProperty(Ol,"__isScriptSetup",{enumerable:!1,value:!0}),Ol}}),Yn={class:"header-section"},Xn={class:"container"},Zn={class:"row items-center justify-between"},$n={class:"col-auto"},eo={class:"container q-pa-md"},to={class:"row q-col-gutter-lg"},lo={class:"col-12 col-md-4"},ao={class:"card-content"},no={class:"q-ml-sm text-grey-7"},oo={class:"q-ml-sm text-positive"},so={class:"q-ml-sm text-negative"},io={class:"row items-center q-gutter-xs"},ro={key:1,class:"empty-state"},uo={class:"col-12 col-md-4"},co={class:"queue-stats"},mo={class:"card-content"},fo={class:"q-ml-sm"},vo={class:"q-ml-sm text-grey-6"},go={key:1,class:"empty-state"},ho={class:"q-mb-md"},yo={class:"row q-gutter-sm"},po={class:"text-caption text-grey-6 q-mt-sm text-center"},bo={key:0,class:"q-mt-md"},wo={class:"text-caption text-orange q-mt-sm"},So={class:"col-12 col-md-4"},xo={class:"card-content"},Co={class:"row items-center q-mb-sm"},_o={class:"col"},ko={class:"row items-center q-gutter-sm"},qo={key:0,class:"text-caption text-grey-6"},Po={key:0,class:"match-teams"},Mo={class:"team team-1"},To={class:"player-name text-weight-medium"},Ao={class:"player-level text-caption text-grey-6"},Vo={class:"vs-divider"},Bo={class:"team team-2"},zo={class:"player-name text-weight-medium"},Lo={class:"player-level text-caption text-grey-6"},Eo={key:1,class:"match-teams"},Do={class:"team team-1"},Io={class:"player-name text-weight-medium"},Fo={class:"player-level text-caption text-grey-6"},Oo={class:"player-name text-weight-medium"},Ro={class:"player-level text-caption text-grey-6"},Qo={class:"vs-divider"},Ho={class:"team team-2"},No={class:"player-name text-weight-medium"},Wo={class:"player-level text-caption text-grey-6"},jo={class:"player-name text-weight-medium"},Uo={class:"player-level text-caption text-grey-6"},Ko={key:1,class:"empty-state"},Go={class:"q-mb-md q-pb-lg"},Jo={key:0,class:"q-gutter-y-md"},Yo={key:1,class:"q-gutter-y-md"},Xo={key:0},Zo={key:1},$o={class:"text-subtitle2 q-mb-sm"},es={class:"q-gutter-y-md"},ts={key:0,class:"row q-col-gutter-md"},ls={class:"col-6"},as={class:"text-caption q-mt-sm"},ns={class:"col-6"},os={class:"text-caption q-mt-sm"},ss={key:1,class:"row q-col-gutter-md"},is={class:"col-6"},rs={class:"col-6"},us={class:"q-gutter-y-md"},cs={class:"manual-selection-container"},ds={key:0,class:"selection-step"},ms={class:"text-h6 q-mb-md"},fs={class:"text-caption text-grey-7 q-mb-md"},vs={class:"q-ml-sm text-grey-7"},gs={class:"q-ml-sm text-positive"},hs={class:"q-ml-sm text-negative"},ys={key:1,class:"arrangement-step"},ps={key:2,class:"court-selection-step"},bs={class:"col"},ws={class:"text-caption text-grey-6"},Ss={key:0},xs={key:0},Cs={class:"text-h6 q-mb-md"},_s={class:"q-mb-lg"},ks={class:"text-subtitle2 q-mb-sm"},qs={class:"q-ml-sm text-grey-7"},Ps={class:"row items-center q-gutter-xs"},Ms={key:0},Ts={class:"text-subtitle2 q-mb-sm"},As={class:"q-ml-sm text-grey-7"},Vs={key:0,class:"q-ml-sm text-orange"},Bs={key:1,class:"text-center text-grey-6 q-pa-md"},zs={key:1},Ls={class:"text-subtitle2 q-mb-md"},Es={class:"q-ml-sm text-grey-7"},Ds={key:0,class:"q-ml-sm text-orange"},Is={class:"q-gutter-y-md"};function Fs(e,l,i,t,d,c){return w(),J(Tn,{class:"doubles-queue-page"},{default:o(()=>[f("div",Yn,[f("div",Xn,[f("div",Zn,[l[40]||(l[40]=f("div",{class:"col"},[f("h1",{class:"text-h5 text-weight-bold text-white q-mb-xs"},"  Queue Master "),f("p",{class:"text-caption text-grey-1 q-ma-none"}," Smart matchmaking for singles & doubles ")],-1)),f("div",$n,[a(W,{color:"white",icon:"settings",label:"Settings",onClick:l[0]||(l[0]=n=>t.showSettingsDialog=!0),flat:"",size:"sm"},{default:o(()=>[a(fe,null,{default:o(()=>l[39]||(l[39]=[C("Open settings and preferences")])),_:1})]),_:1})])])])]),f("div",eo,[f("div",to,[f("div",lo,[a(Pe,{class:"players-card",flat:"",bordered:""},{default:o(()=>[a(oe,{class:"players-header text-white q-pa-none"},{default:o(()=>[a(Ge,{class:"q-pa-md"},{default:o(()=>[a(Ke,null,{default:o(()=>[a(R,{name:"people",class:"q-mr-sm"}),C(" Players ("+S(t.players.length)+") ",1)]),_:1}),a(ut,{modelValue:t.sortBy,"onUpdate:modelValue":l[1]||(l[1]=n=>t.sortBy=n),options:t.sortOptions,dense:"",outlined:"",dark:"",color:"white","emit-value":"","map-options":"",style:{"min-width":"200px"}},{prepend:o(()=>[a(R,{name:"sort"})]),_:1},8,["modelValue"]),a(W,{color:"white",onClick:l[2]||(l[2]=n=>t.showAddPlayerDialog=!0),icon:"person_add",flat:"",round:"",dense:""},{default:o(()=>[a(fe,null,{default:o(()=>l[41]||(l[41]=[C("Add new player to the system")])),_:1})]),_:1})]),_:1})]),_:1}),a(oe,{class:"q-pa-none"},{default:o(()=>[f("div",ao,[t.players.length>0?(w(),J(Oe,{key:0,separator:""},{default:o(()=>[(w(!0),G(Me,null,We(t.sortedPlayers,n=>(w(),J(_e,{key:n.name,class:"player-item"},{default:o(()=>[a(U,null,{default:o(()=>[a(ve,{class:"text-weight-medium"},{default:o(()=>[C(S(n.name),1)]),_:2},1024),a(ve,{caption:"",class:"q-pl-xs"},{default:o(()=>[a(ge,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),f("span",no,"Games: "+S(n.gamesPlayed),1),f("span",oo,"W: "+S(n.wins),1),f("span",so,"L: "+S(n.losses),1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:o(()=>[f("div",io,[a(W,{flat:"",round:"",color:"negative",onClick:v=>t.removePlayer(n.name),icon:"delete",size:"sm"},null,8,["onClick"]),a(W,{flat:"",color:"accent",onClick:v=>t.requeuePlayer(n.name),icon:"input",size:"sm",disable:t.queue.some(v=>v.name===n.name)},null,8,["onClick","disable"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(w(),G("div",ro,[a(R,{name:"people",size:"48px",color:"grey-4"}),l[42]||(l[42]=f("p",{class:"text-grey-6 q-mt-sm"},"No players added yet",-1)),l[43]||(l[43]=f("p",{class:"text-caption text-grey-5"},"Click the + button to add your first player",-1))]))])]),_:1})]),_:1})]),f("div",uo,[a(Pe,{class:"queue-card",flat:"",bordered:""},{default:o(()=>[a(oe,{class:"queue-header text-white q-pa-none"},{default:o(()=>[a(Ge,{class:"q-pa-md"},{default:o(()=>[a(Ke,null,{default:o(()=>[a(R,{name:"queue",class:"q-mr-sm"}),C(" Players Queue ("+S(t.queue.length)+") ",1)]),_:1}),f("div",co,[a(ge,{label:`L1: ${t.queueStats.level1}`,color:"green-6","text-color":"white",size:"sm"},null,8,["label"]),a(ge,{label:`L2: ${t.queueStats.level2}`,color:"orange-7","text-color":"white",size:"sm"},null,8,["label"]),a(ge,{label:`L3: ${t.queueStats.level3}`,color:"red-8","text-color":"white",size:"sm"},null,8,["label"])])]),_:1})]),_:1}),a(oe,{class:"q-pa-none"},{default:o(()=>[f("div",mo,[t.queue.length>0?(w(),J(Oe,{key:0,separator:""},{default:o(()=>[(w(!0),G(Me,null,We(t.queue,(n,v)=>(w(),J(_e,{key:n.name,class:"queue-item"},{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(zt,{color:n.priority==="returned"?"warning":"accent","text-color":"white",size:"md"},{default:o(()=>[C(S(v+1)+" ",1),a(fe,null,{default:o(()=>[C(" Position: "+S(v+1)+" ",1),l[44]||(l[44]=f("br",null,null,-1)),C("Games: "+S(n.gamesPlayed)+" ",1),l[45]||(l[45]=f("br",null,null,-1)),C("Priority: "+S(n.priority||"normal"),1)]),_:2},1024)]),_:2},1032,["color"])]),_:2},1024),a(U,null,{default:o(()=>[a(ve,{class:"text-weight-medium"},{default:o(()=>[C(S(n.name)+" ",1),n.priority==="returned"?(w(),J(ge,{key:0,label:"Returned",color:"warning","text-color":"white",size:"xs",dense:"",class:"q-ml-xs"})):be("",!0)]),_:2},1024),a(ve,{caption:"",class:"q-pl-xs"},{default:o(()=>[a(ge,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),f("span",fo,S(n.gamesPlayed)+" games",1),f("span",vo,S(t.getQueueTimeInfo(n)),1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:o(()=>[a(W,{flat:"",round:"",color:"negative",onClick:p=>t.removeFromQueue(n.name),icon:"remove_circle",size:"sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(w(),G("div",go,[a(R,{name:"queue",size:"48px",color:"grey-4"}),l[46]||(l[46]=f("p",{class:"text-grey-6 q-mt-sm"},"Queue is empty",-1)),l[47]||(l[47]=f("p",{class:"text-caption text-grey-5"},"Add players to start generating matches",-1))]))])]),_:1}),a(oe,null,{default:o(()=>[f("div",ho,[l[48]||(l[48]=f("div",{class:"text-caption text-grey-7 q-mb-xs"},"Match Type",-1)),a(ut,{modelValue:t.matchType,"onUpdate:modelValue":l[3]||(l[3]=n=>t.matchType=n),options:t.matchTypeOptions,dense:"",outlined:"","emit-value":"","map-options":"",color:"accent"},{prepend:o(()=>[a(R,{name:t.matchType==="singles"?"person":"people"},null,8,["name"])]),_:1},8,["modelValue"])]),f("div",yo,[a(W,{class:"col",color:"accent",onClick:t.generateNewMatches,size:"md",icon:"auto_awesome",disable:!t.canGenerateMatches()},{default:o(()=>[l[49]||(l[49]=f("span",{class:"gt-xs"},"Auto Generate",-1)),l[50]||(l[50]=f("span",{class:"lt-sm"},"Auto",-1)),t.canGenerateMatches()?be("",!0):(w(),J(fe,{key:0},{default:o(()=>[C(S(t.matchType==="singles"?"Need at least 2 players":"Need at least 4 players"),1)]),_:1}))]),_:1},8,["disable"]),a(W,{class:"col",color:"accent",onClick:t.startManualSelection,size:"md",icon:"touch_app",disable:t.queue.length<(t.matchType==="singles"?2:4),outline:""},{default:o(()=>[l[51]||(l[51]=f("span",{class:"gt-xs"},"Manual Selection",-1)),l[52]||(l[52]=f("span",{class:"lt-sm"},"Manual",-1)),t.queue.length<(t.matchType==="singles"?2:4)?(w(),J(fe,{key:0},{default:o(()=>[C(S(t.matchType==="singles"?"Need at least 2 players for manual singles selection":"Need at least 4 players for manual doubles selection"),1)]),_:1})):be("",!0)]),_:1},8,["disable"])]),f("div",po,S(t.getMatchGenerationHint()),1),t.queue.length>0&&t.queue.length%(t.matchType==="singles"?2:4)!==0?(w(),G("div",bo,[a(Fe),f("div",wo,[a(R,{name:"schedule",size:"xs",class:"q-mr-xs"}),C(" "+S(t.getWaitingPlayersInfo()),1)])])):be("",!0)]),_:1})]),_:1})]),f("div",So,[a(Pe,{class:"matches-card",flat:"",bordered:""},{default:o(()=>[a(oe,{class:"matches-header text-white q-pa-none"},{default:o(()=>[a(Ge,{class:"q-pa-md"},{default:o(()=>[a(Ke,null,{default:o(()=>[a(R,{name:"sports_tennis",class:"q-mr-sm"}),C(" Matches ("+S(t.filteredMatches.length)+") ",1)]),_:1}),a(ut,{modelValue:t.matchesFilterBy,"onUpdate:modelValue":l[4]||(l[4]=n=>t.matchesFilterBy=n),options:t.matchesFilterOptions,dense:"",outlined:"",dark:"",color:"white","emit-value":"","map-options":"",style:{"min-width":"150px"}},{prepend:o(()=>[a(R,{name:"filter_list"})]),_:1},8,["modelValue","options"])]),_:1})]),_:1}),a(oe,{class:"q-pa-none"},{default:o(()=>[f("div",xo,[t.filteredMatches.length>0?(w(),J(Oe,{key:0,separator:""},{default:o(()=>[(w(!0),G(Me,null,We(t.filteredMatches,(n,v)=>(w(),J(_e,{key:n.id,class:"match-item"},{default:o(()=>[a(U,null,{default:o(()=>[f("div",Co,[f("div",_o,[f("div",ko,[a(ge,{color:t.getMatchStatusColor(n.status),"text-color":"white",size:"sm",dense:""},{default:o(()=>[C(S(t.getMatchStatusLabel(n.status)),1)]),_:2},1032,["color"]),n.court?(w(),G("span",qo," Court "+S(n.court),1)):be("",!0)])])]),n.players.length===2?(w(),G("div",Po,[f("div",Mo,[f("div",To,S(n.players[0].name),1),f("div",Ao,"Level "+S(n.players[0].level),1)]),f("div",Vo,[a(R,{name:"sports_tennis",color:"grey-6",size:"sm"})]),f("div",Bo,[f("div",zo,S(n.players[1].name),1),f("div",Lo,"Level "+S(n.players[1].level),1)])])):(w(),G("div",Eo,[f("div",Do,[f("div",Io,S(n.players[0].name),1),f("div",Fo,"Level "+S(n.players[0].level),1),f("div",Oo,S(n.players[1].name),1),f("div",Ro,"Level "+S(n.players[1].level),1)]),f("div",Qo,[a(R,{name:"sports_tennis",color:"grey-6",size:"sm"})]),f("div",Ho,[f("div",No,S(n.players[2].name),1),f("div",Wo,"Level "+S(n.players[2].level),1),f("div",jo,S(n.players[3].name),1),f("div",Uo,"Level "+S(n.players[3].level),1)])]))]),_:2},1024),a(U,{side:""},{default:o(()=>[a(W,{color:"grey-7",icon:"more_vert",flat:"",round:"",size:"sm"},{default:o(()=>[a(Sa,null,{default:o(()=>[a(Oe,{style:{"min-width":"150px"}},{default:o(()=>[a(_e,{clickable:"",onClick:p=>t.openMatchResultDialog(v)},{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(R,{name:"emoji_events"})]),_:1}),a(U,null,{default:o(()=>l[53]||(l[53]=[C("Complete Match")])),_:1})]),_:2},1032,["onClick"]),a(_e,{clickable:"",onClick:p=>t.editMatch(v)},{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(R,{name:"edit"})]),_:1}),a(U,null,{default:o(()=>l[54]||(l[54]=[C("Edit Match")])),_:1})]),_:2},1032,["onClick"]),!n.court&&t.getCourtCount()>0?(w(),J(_e,{key:0,clickable:"",onClick:p=>t.openCourtSelectionDialog(v)},{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(R,{name:"sports_tennis"})]),_:1}),a(U,null,{default:o(()=>l[55]||(l[55]=[C("Assign Court")])),_:1})]),_:2},1032,["onClick"])):be("",!0),n.court?(w(),J(_e,{key:1,clickable:"",onClick:p=>t.openCourtSelectionDialog(v)},{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(R,{name:"swap_horiz"})]),_:1}),a(U,null,{default:o(()=>l[56]||(l[56]=[C("Change Court")])),_:1})]),_:2},1032,["onClick"])):be("",!0),a(Fe),a(_e,{clickable:"",onClick:p=>t.cancelMatch(v),class:"text-negative"},{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(R,{name:"cancel"})]),_:1}),a(U,null,{default:o(()=>l[57]||(l[57]=[C("Cancel Match")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(w(),G("div",Ko,[a(R,{name:"sports_tennis",size:"48px",color:"grey-4"}),l[58]||(l[58]=f("p",{class:"text-grey-6 q-mt-sm"},"No active matches",-1)),l[59]||(l[59]=f("p",{class:"text-caption text-grey-5"},"Generate matches from the queue to get started",-1))]))])]),_:1})]),_:1})])])]),a(ct,{modelValue:t.showAddPlayerDialog,"onUpdate:modelValue":l[11]||(l[11]=n=>t.showAddPlayerDialog=n),maximized:t.$q.screen.lt.md},{default:o(()=>[a(Pe,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:o(()=>[a(oe,{class:"players-header text-white q-pa-none"},{default:o(()=>[a(Ge,{class:"q-pa-md"},{default:o(()=>[a(Ke,null,{default:o(()=>[a(R,{name:"person_add",class:"q-mr-sm"}),l[60]||(l[60]=C(" Add New Player "))]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(oe,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:o(()=>[f("div",Go,[a(Pn,{modelValue:t.bulkImportMode,"onUpdate:modelValue":l[5]||(l[5]=n=>t.bulkImportMode=n),options:[{label:"Single Player",value:!1,icon:"person"},{label:"Bulk Import",value:!0,icon:"group_add"}],color:"grey-5","toggle-color":"accent",spread:"",class:"full-width"},null,8,["modelValue"])]),t.bulkImportMode?(w(),G("div",Yo,[f("div",null,[a(jl,{modelValue:t.bulkPlayerText,"onUpdate:modelValue":[l[8]||(l[8]=n=>t.bulkPlayerText=n),t.parseBulkPlayers],label:"Player Names (one per line, or separated by commas/semicolons)",type:"textarea",outlined:"",rows:"6",placeholder:`Enter player names separated by newlines, commas, or semicolons

Example:
John Smith
Jane Doe
Bob Wilson

Or: John Smith, Jane Doe, Bob Wilson`},{prepend:o(()=>[a(R,{name:"group_add"})]),_:1},8,["modelValue"])]),t.bulkPlayers.length>0?(w(),G("div",Xo,[a(ut,{modelValue:t.bulkDefaultLevel,"onUpdate:modelValue":[l[9]||(l[9]=n=>t.bulkDefaultLevel=n),t.updateAllBulkLevels],options:t.levelOptions,label:"Default Level for All Players",outlined:"",dense:"","emit-value":"","map-options":""},{prepend:o(()=>[a(R,{name:"star"})]),_:1},8,["modelValue"])])):be("",!0),t.bulkPlayers.length>0?(w(),G("div",Zo,[f("div",$o,[a(R,{name:"preview",class:"q-mr-xs"}),C(" Preview ("+S(t.bulkPlayers.length)+" players) ",1)]),a(Oe,{bordered:"",separator:""},{default:o(()=>[(w(!0),G(Me,null,We(t.bulkPlayers,(n,v)=>(w(),J(_e,{key:v,class:"q-pa-sm"},{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(zt,{color:t.getLevelColor(n.level),"text-color":"white",size:"sm"},{default:o(()=>[C(S(n.name.charAt(0).toUpperCase()),1)]),_:2},1032,["color"])]),_:2},1024),a(U,null,{default:o(()=>[a(ve,{class:"text-weight-medium"},{default:o(()=>[C(S(n.name),1)]),_:2},1024),a(ve,{caption:""},{default:o(()=>[C("Level "+S(n.level),1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:o(()=>[a(ut,{modelValue:t.bulkPlayers[v].level,"onUpdate:modelValue":p=>t.bulkPlayers[v].level=p,options:t.levelOptions,dense:"",outlined:"","emit-value":"","map-options":"",style:{"min-width":"120px"}},{prepend:o(()=>[a(R,{name:t.getLevelIcon(n.level),color:t.getLevelColor(n.level),size:"xs"},null,8,["name","color"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):be("",!0)])):(w(),G("div",Jo,[a(jl,{modelValue:t.newPlayerName,"onUpdate:modelValue":l[6]||(l[6]=n=>t.newPlayerName=n),label:"Player Name",type:"text",onKeyup:rn(t.addNewPlayer,["enter"]),rules:[n=>!!n?.trim()||"Player name is required"],outlined:"",dense:"",autofocus:""},{prepend:o(()=>[a(R,{name:"person"})]),_:1},8,["modelValue","rules"]),a(ut,{modelValue:t.newPlayerLevel,"onUpdate:modelValue":l[7]||(l[7]=n=>t.newPlayerLevel=n),options:t.levelOptions,label:"Player Level",rules:[n=>n!==null||"Player level is required"],outlined:"",dense:"","emit-value":"","map-options":""},{prepend:o(()=>[a(R,{name:"star"})]),option:o(n=>[a(_e,un(cn(n.itemProps)),{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(R,{name:t.getLevelIcon(n.opt.value),color:t.getLevelColor(n.opt.value)},null,8,["name","color"])]),_:2},1024),a(U,null,{default:o(()=>[a(ve,null,{default:o(()=>[C(S(n.opt.label),1)]),_:2},1024),a(ve,{caption:""},{default:o(()=>[C(S(n.opt.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","rules"])]))]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:o(()=>[a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[10]||(l[10]=n=>t.showAddPlayerDialog=!1)},{default:o(()=>[a(fe,null,{default:o(()=>l[61]||(l[61]=[C("Cancel adding new player")])),_:1})]),_:1}),t.bulkImportMode?(w(),J(W,{key:1,color:"accent",onClick:t.addBulkPlayers,label:"Import All Players",disable:t.bulkPlayers.length===0,icon:"group_add"},{default:o(()=>[a(fe,null,{default:o(()=>[C("Import all "+S(t.bulkPlayers.length)+" players to the system",1)]),_:1})]),_:1},8,["disable"])):(w(),J(W,{key:0,color:"accent",onClick:t.addNewPlayer,label:"Add Player",disable:!t.newPlayerName?.trim()||t.newPlayerLevel===null,icon:"add"},{default:o(()=>[a(fe,null,{default:o(()=>l[62]||(l[62]=[C("Add this player to the system")])),_:1})]),_:1},8,["disable"]))]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ct,{modelValue:t.showMatchResultDialog,"onUpdate:modelValue":l[17]||(l[17]=n=>t.showMatchResultDialog=n),maximized:t.$q.screen.lt.md},{default:o(()=>[a(Pe,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:o(()=>[a(oe,{class:"matches-header text-white q-pa-none"},{default:o(()=>[a(Ge,{class:"q-pa-md"},{default:o(()=>[a(Ke,null,{default:o(()=>[a(R,{name:"emoji_events",class:"q-mr-sm"}),l[63]||(l[63]=C(" Match Result "))]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(oe,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:o(()=>[f("div",es,[l[66]||(l[66]=f("div",{class:"text-subtitle1 text-center q-mb-md"},"Who won this match?",-1)),t.currentMatch.length===2?(w(),G("div",ts,[f("div",ls,[a(Pe,{class:je([t.selectedWinner==="team1"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[12]||(l[12]=n=>t.selectedWinner="team1"),flat:"",bordered:""},{default:o(()=>[a(oe,{class:"text-center"},{default:o(()=>[a(ge,{label:t.currentMatch[0].name,color:t.getLevelColor(t.currentMatch[0].level),"text-color":"white",size:"md"},null,8,["label","color"]),f("div",as,"Level "+S(t.currentMatch[0].level),1)]),_:1})]),_:1},8,["class"])]),f("div",ns,[a(Pe,{class:je([t.selectedWinner==="team2"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[13]||(l[13]=n=>t.selectedWinner="team2"),flat:"",bordered:""},{default:o(()=>[a(oe,{class:"text-center"},{default:o(()=>[a(ge,{label:t.currentMatch[1].name,color:t.getLevelColor(t.currentMatch[1].level),"text-color":"white",size:"md"},null,8,["label","color"]),f("div",os,"Level "+S(t.currentMatch[1].level),1)]),_:1})]),_:1},8,["class"])])])):(w(),G("div",ss,[f("div",is,[a(Pe,{class:je([t.selectedWinner==="team1"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[14]||(l[14]=n=>t.selectedWinner="team1"),flat:"",bordered:""},{default:o(()=>[a(oe,{class:"text-center"},{default:o(()=>[l[64]||(l[64]=f("div",{class:"text-weight-medium q-mb-sm"},"Team 1",-1)),a(ge,{label:t.currentMatch[0].name,color:t.getLevelColor(t.currentMatch[0].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),a(ge,{label:t.currentMatch[1].name,color:t.getLevelColor(t.currentMatch[1].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])]),f("div",rs,[a(Pe,{class:je([t.selectedWinner==="team2"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[15]||(l[15]=n=>t.selectedWinner="team2"),flat:"",bordered:""},{default:o(()=>[a(oe,{class:"text-center"},{default:o(()=>[l[65]||(l[65]=f("div",{class:"text-weight-medium q-mb-sm"},"Team 2",-1)),a(ge,{label:t.currentMatch[2].name,color:t.getLevelColor(t.currentMatch[2].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),a(ge,{label:t.currentMatch[3].name,color:t.getLevelColor(t.currentMatch[3].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])])]))])]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:o(()=>[a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[16]||(l[16]=n=>t.showMatchResultDialog=!1)}),a(W,{color:"accent",onClick:t.completeMatch,label:"Complete Match",disable:t.selectedWinner===null,icon:"check"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ct,{modelValue:t.showSettingsDialog,"onUpdate:modelValue":l[24]||(l[24]=n=>t.showSettingsDialog=n),maximized:t.$q.screen.lt.md},{default:o(()=>[a(Pe,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:o(()=>[a(oe,{class:"queue-header text-white q-pa-none"},{default:o(()=>[a(Ge,{class:"q-pa-md"},{default:o(()=>[a(Ke,null,{default:o(()=>[a(R,{name:"settings",class:"q-mr-sm"}),l[67]||(l[67]=C(" Settings "))]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(oe,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:o(()=>[f("div",us,[f("div",null,[l[68]||(l[68]=f("div",{class:"text-subtitle2 q-mb-sm"},"Queue Management",-1)),a(ut,{modelValue:t.queueReturnMethod,"onUpdate:modelValue":l[18]||(l[18]=n=>t.queueReturnMethod=n),options:t.queueReturnOptions,label:"Default method for returning players to queue",outlined:"",dense:""},null,8,["modelValue"])]),f("div",null,[a(_l,{modelValue:t.autoSortQueue,"onUpdate:modelValue":l[19]||(l[19]=n=>t.autoSortQueue=n),label:"Automatically sort queue by fairness",color:"accent"},null,8,["modelValue"])]),a(Fe),f("div",null,[l[69]||(l[69]=f("div",{class:"text-subtitle2 q-mb-sm"},"Court Management",-1)),a(ut,{modelValue:t.availableCourts,"onUpdate:modelValue":l[20]||(l[20]=n=>t.availableCourts=n),options:t.courtOptions,label:"Number of available courts",outlined:"",dense:""},null,8,["modelValue","options"]),a(_l,{modelValue:t.autoAssignCourts,"onUpdate:modelValue":l[21]||(l[21]=n=>t.autoAssignCourts=n),label:"Automatically assign courts to matches",color:"accent",class:"q-mt-sm"},null,8,["modelValue"]),a(_l,{modelValue:t.autoAdvanceMatches,"onUpdate:modelValue":l[22]||(l[22]=n=>t.autoAdvanceMatches=n),label:"Automatically start next match when one completes",color:"accent",class:"q-mt-sm"},null,8,["modelValue"])]),a(Fe),f("div",null,[a(W,{color:"accent",onClick:t.resetGamesPlayed,icon:"refresh",label:"Reset Games Played",class:"full-width"})]),f("div",null,[a(W,{color:"negative",onClick:t.resetAllData,icon:"delete_forever",label:"Reset All Data",class:"full-width"})])])]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:o(()=>[a(W,{flat:"",label:"Close",color:"grey",onClick:l[23]||(l[23]=n=>t.showSettingsDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ct,{modelValue:t.showManualSelectionDialog,"onUpdate:modelValue":l[29]||(l[29]=n=>t.showManualSelectionDialog=n),maximized:t.$q.screen.lt.md,"transition-show":"slide-up","transition-hide":"slide-down"},{default:o(()=>[a(Pe,{class:"bg-white",style:{"max-width":"700px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:o(()=>[a(oe,{class:"players-header text-white q-pa-none"},{default:o(()=>[a(Ge,{class:"q-pa-md"},{default:o(()=>[a(Ke,null,{default:o(()=>[a(R,{name:"touch_app",class:"q-mr-sm"}),C(" "+S(t.matchType==="singles"?"Singles":"Doubles")+" Match Selection ",1)]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(oe,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:o(()=>[f("div",cs,[t.manualSelectionStep===1?(w(),G("div",ds,[f("div",ms,"Step 1: Select "+S(t.matchType==="singles"?"2":"4")+" Players",1),f("div",fs," Click on players to select them for the match ("+S(t.selectedPlayers.length)+"/"+S(t.matchType==="singles"?2:4)+" selected) ",1),a(Oe,{separator:"",bordered:"",class:"rounded-borders"},{default:o(()=>[(w(!0),G(Me,null,We(t.queue,n=>(w(),J(_e,{key:n.name,clickable:"",onClick:v=>t.togglePlayerSelection(n),class:je([{"selected-player":t.isPlayerSelected(n)},"player-selection-item"])},{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(dn,{"model-value":t.isPlayerSelected(n),color:"accent",onClick:mn(v=>t.togglePlayerSelection(n),["stop"])},null,8,["model-value","onClick"])]),_:2},1024),a(U,null,{default:o(()=>[a(ve,{class:"text-weight-medium"},{default:o(()=>[C(S(n.name),1)]),_:2},1024),a(ve,{caption:"",class:"q-pl-xs"},{default:o(()=>[a(ge,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),f("span",vs,"Games: "+S(n.gamesPlayed),1),f("span",gs,"W: "+S(n.wins),1),f("span",hs,"L: "+S(n.losses),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})])):be("",!0),t.manualSelectionStep===2?(w(),G("div",ys,[l[70]||(l[70]=f("div",{class:"text-h6 q-mb-md"},"Step 2: Arrange Teams",-1)),a(t.TeamArrangement,{team1:t.manualTeam1,"onUpdate:team1":l[25]||(l[25]=n=>t.manualTeam1=n),team2:t.manualTeam2,"onUpdate:team2":l[26]||(l[26]=n=>t.manualTeam2=n),"create-balanced-match":t.createBalancedMatch},null,8,["team1","team2"])])):be("",!0),t.manualSelectionStep===3?(w(),G("div",ps,[l[73]||(l[73]=f("div",{class:"text-h6 q-mb-md"},"Step 3: Select Court",-1)),l[74]||(l[74]=f("div",{class:"text-caption text-grey-7 q-mb-md"}," Choose how to assign a court for this match ",-1)),a(Pe,{flat:"",bordered:"",class:je(["cursor-pointer q-mb-md primary-court-option",{selected:t.selectedCourt===null}]),onClick:t.selectAutoCourt},{default:o(()=>[a(oe,{class:"row items-center"},{default:o(()=>[a(R,{name:"auto_awesome",color:"accent",size:"md",class:"q-mr-md"}),f("div",bs,[l[71]||(l[71]=f("div",{class:"text-weight-medium"},"Auto-Assign Court",-1)),f("div",ws,S(t.getAutoAssignDescription()),1)]),t.selectedCourt===null?(w(),J(R,{key:0,name:"check_circle",color:"accent"})):(w(),J(R,{key:1,name:"radio_button_unchecked",color:"grey-6"}))]),_:1})]),_:1},8,["class"]),a(W,{flat:"",color:"primary",icon:"sports_tennis",onClick:t.toggleManualSelection,class:"q-mb-md"},{default:o(()=>[a(R,{name:"sports_tennis",class:"q-mr-xs"}),C(" "+S(t.showManualSelection?"Hide":"Choose")+" Specific Court ",1)]),_:1}),a(Mn,null,{default:o(()=>[t.showManualSelection?(w(),G("div",Ss,[a(Fe,{class:"q-mb-md"}),l[72]||(l[72]=f("div",{class:"text-subtitle2 q-mb-sm"},"Select Court",-1)),a(Oe,{separator:""},{default:o(()=>[(w(!0),G(Me,null,We(t.courtSelectionOptions,n=>(w(),J(_e,{key:n.value,clickable:"",onClick:v=>t.selectSpecificCourt(n.value),class:je({"selected-court":t.selectedCourt===n.value})},{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(zt,{color:t.selectedCourt===n.value?"accent":"blue-6","text-color":"white"},{default:o(()=>[C(S(n.value),1)]),_:2},1032,["color"])]),_:2},1024),a(U,null,{default:o(()=>[a(ve,null,{default:o(()=>[C("Court "+S(n.value),1)]),_:2},1024),a(ve,{caption:""},{default:o(()=>[C(S(t.getCourtMatchCount(n.value))+" matches ",1)]),_:2},1024)]),_:2},1024),t.selectedCourt===n.value?(w(),J(U,{key:0,side:""},{default:o(()=>[a(R,{name:"check_circle",color:"accent"})]),_:1})):(w(),J(U,{key:1,side:""},{default:o(()=>[a(R,{name:"radio_button_unchecked",color:"grey-6"})]),_:1}))]),_:2},1032,["onClick","class"]))),128))]),_:1})])):be("",!0)]),_:1})])):be("",!0)])]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:o(()=>[t.manualSelectionStep===1?(w(),G(Me,{key:0},[a(W,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),t.matchType==="doubles"?(w(),J(W,{key:0,color:"accent",label:"Next: Arrange Teams","icon-right":"arrow_forward",onClick:t.proceedToTeamArrangement,disable:t.selectedPlayers.length!==4},null,8,["disable"])):(w(),J(W,{key:1,color:"accent",label:"Next: Select Court",icon:"sports_tennis",onClick:t.proceedToCourtSelection,disable:t.selectedPlayers.length!==2},null,8,["disable"]))],64)):t.manualSelectionStep===2?(w(),G(Me,{key:1},[a(W,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[27]||(l[27]=()=>{t.manualSelectionStep=1,t.selectedForSwap=null,t.selectedForSwapTeam=null})}),a(W,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),a(W,{color:"accent",label:"Next: Select Court",icon:"sports_tennis",onClick:t.proceedToCourtSelectionFromTeams,disable:t.manualTeam1.length!==2||t.manualTeam2.length!==2},null,8,["disable"])],64)):t.manualSelectionStep===3?(w(),G(Me,{key:2},[a(W,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[28]||(l[28]=()=>{t.manualSelectionStep=t.matchType==="doubles"?2:1})}),a(W,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),a(W,{color:"accent",label:"Create Match",icon:"check",onClick:t.createManualMatchWithCourt})],64)):be("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ct,{modelValue:t.showMatchEditDialog,"onUpdate:modelValue":l[34]||(l[34]=n=>t.showMatchEditDialog=n),maximized:t.$q.screen.lt.md},{default:o(()=>[a(Pe,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:o(()=>[a(oe,{class:"matches-header text-white q-pa-none"},{default:o(()=>[a(Ge,{class:"q-pa-md"},{default:o(()=>[a(Ke,null,{default:o(()=>[a(R,{name:"edit",class:"q-mr-sm"}),l[75]||(l[75]=C(" Edit Match "))]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(oe,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:o(()=>[t.manualSelectionStep===1?(w(),G("div",xs,[f("div",Cs,[l[76]||(l[76]=C(" Step 1: Manage Players ")),a(ge,{label:t.currentMatchType==="singles"?"Singles Match":"Doubles Match",color:t.currentMatchType==="singles"?"blue":"green","text-color":"white",size:"sm",class:"q-ml-sm"},null,8,["label","color"])]),f("div",_s,[f("div",ks,[C(" Current Players ("+S(t.selectedPlayers.length)+") ",1),t.selectedPlayers.length<2?(w(),J(ge,{key:0,color:"orange","text-color":"white",size:"sm",class:"q-ml-sm"},{default:o(()=>l[77]||(l[77]=[C(" Need at least 2 players ")])),_:1})):be("",!0)]),a(Oe,{bordered:"",separator:""},{default:o(()=>[(w(!0),G(Me,null,We(t.selectedPlayers,n=>(w(),J(_e,{key:n.name,class:"player-edit-item"},{default:o(()=>[a(U,null,{default:o(()=>[a(ve,{class:"text-weight-medium"},{default:o(()=>[C(S(n.name),1)]),_:2},1024),a(ve,{caption:"",class:"q-pl-xs"},{default:o(()=>[a(ge,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),f("span",qs,"Games: "+S(n.gamesPlayed),1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:o(()=>[f("div",Ps,[a(W,{flat:"",round:"",color:"negative",icon:"remove_circle",size:"sm",onClick:v=>t.removePlayerFromEdit(n),disable:t.selectedPlayers.length<=1},{default:o(()=>[a(fe,null,{default:o(()=>l[78]||(l[78]=[C("Remove from match")])),_:1})]),_:2},1032,["onClick","disable"]),a(W,{flat:"",round:"",color:"accent",icon:"swap_horiz",size:"sm",onClick:v=>t.replacePlayerInEdit(n),disable:t.availableQueuePlayers.length===0},{default:o(()=>[a(fe,null,{default:o(()=>l[79]||(l[79]=[C("Replace with another player")])),_:1})]),_:2},1032,["onClick","disable"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),t.availableQueuePlayers.length>0?(w(),G("div",Ms,[f("div",Ts,[l[80]||(l[80]=C(" Add Players from Queue ")),a(ge,{label:`${t.availableQueuePlayers.length} available`,color:"grey-5","text-color":"white",size:"sm",class:"q-ml-sm"},null,8,["label"])]),a(Oe,{bordered:"",separator:""},{default:o(()=>[(w(!0),G(Me,null,We(t.availableQueuePlayers,n=>(w(),J(_e,{key:n.name,clickable:"",class:"player-edit-item",onClick:v=>t.addPlayerToEdit(n),disable:t.selectedPlayers.length>=4},{default:o(()=>[a(U,null,{default:o(()=>[a(ve,{class:"text-weight-medium"},{default:o(()=>[C(S(n.name),1)]),_:2},1024),a(ve,{caption:"",class:"q-pl-xs"},{default:o(()=>[a(ge,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),f("span",As,"Games: "+S(n.gamesPlayed),1),n.priority==="returned"?(w(),G("span",Vs,"(Returned)")):be("",!0)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:o(()=>[a(W,{flat:"",round:"",color:"accent",icon:"add_circle",size:"sm",disable:t.selectedPlayers.length>=4},{default:o(()=>[a(fe,null,{default:o(()=>l[81]||(l[81]=[C("Add to match")])),_:1})]),_:1},8,["disable"])]),_:1})]),_:2},1032,["onClick","disable"]))),128))]),_:1})])):(w(),G("div",Bs,[a(R,{name:"people_outline",size:"48px",color:"grey-4"}),l[82]||(l[82]=f("p",{class:"q-mt-sm"},"No players available in queue",-1)),l[83]||(l[83]=f("p",{class:"text-caption"},"All players are already in matches",-1))]))])):be("",!0),t.manualSelectionStep===2&&t.currentMatchType==="doubles"?(w(),G("div",zs,[l[84]||(l[84]=f("div",{class:"text-h6 q-mb-md"},"Step 2: Arrange Teams",-1)),a(t.TeamArrangement,{team1:t.manualTeam1,"onUpdate:team1":l[30]||(l[30]=n=>t.manualTeam1=n),team2:t.manualTeam2,"onUpdate:team2":l[31]||(l[31]=n=>t.manualTeam2=n),"create-balanced-match":t.createBalancedMatch},null,8,["team1","team2"])])):be("",!0)]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:o(()=>[t.manualSelectionStep===1?(w(),G(Me,{key:0},[t.selectedPlayers.length===4?(w(),J(W,{key:0,color:"accent",label:"Next: Arrange Teams","icon-right":"arrow_forward",onClick:t.proceedToTeamArrangement},{default:o(()=>[a(fe,null,{default:o(()=>l[85]||(l[85]=[C("Proceed to team arrangement")])),_:1})]),_:1})):(w(),J(W,{key:1,color:"accent",label:"Save Changes",icon:"save",onClick:t.saveMatchEdit,disable:t.selectedPlayers.length<2},{default:o(()=>[t.selectedPlayers.length<2?(w(),J(fe,{key:0},{default:o(()=>l[86]||(l[86]=[C(" Need at least 2 players to save match ")])),_:1})):(w(),J(fe,{key:1},{default:o(()=>l[87]||(l[87]=[C(" Save match changes ")])),_:1}))]),_:1},8,["disable"]))],64)):t.manualSelectionStep===2?(w(),G(Me,{key:1},[a(W,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[32]||(l[32]=()=>{t.manualSelectionStep=1,t.selectedForSwap=null,t.selectedForSwapTeam=null})}),a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[33]||(l[33]=n=>t.showMatchEditDialog=!1)}),a(W,{color:"accent",label:"Save Changes",icon:"check",onClick:t.saveMatchEdit,disable:t.selectedPlayers.length<2||t.selectedPlayers.length>4},{default:o(()=>[t.selectedPlayers.length<2?(w(),J(fe,{key:0},{default:o(()=>l[88]||(l[88]=[C(" Need at least 2 players to save match ")])),_:1})):t.selectedPlayers.length>4?(w(),J(fe,{key:1},{default:o(()=>l[89]||(l[89]=[C(" Maximum 4 players allowed for tennis matches ")])),_:1})):(w(),J(fe,{key:2},{default:o(()=>l[90]||(l[90]=[C(" Save match changes ")])),_:1}))]),_:1},8,["disable"])],64)):be("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ct,{modelValue:t.showReplacePlayerDialog,"onUpdate:modelValue":l[36]||(l[36]=n=>t.showReplacePlayerDialog=n),maximized:t.$q.screen.lt.md},{default:o(()=>[a(Pe,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:o(()=>[a(oe,{class:"players-header text-white q-pa-none"},{default:o(()=>[a(Ge,{class:"q-pa-md"},{default:o(()=>[a(Ke,null,{default:o(()=>[a(R,{name:"swap_horiz",class:"q-mr-sm"}),l[91]||(l[91]=C(" Replace Player "))]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(oe,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:o(()=>[f("div",Ls,[l[92]||(l[92]=C(" Choose a player to replace ")),f("strong",null,S(t.playerToReplaceInEdit?.name),1),l[93]||(l[93]=C(" with: "))]),a(Oe,{bordered:"",separator:""},{default:o(()=>[(w(!0),G(Me,null,We(t.availableQueuePlayers,n=>(w(),J(_e,{key:n.name,clickable:"",class:"player-edit-item",onClick:v=>t.selectReplacementPlayer(n)},{default:o(()=>[a(U,null,{default:o(()=>[a(ve,{class:"text-weight-medium"},{default:o(()=>[C(S(n.name),1)]),_:2},1024),a(ve,{caption:"",class:"q-pl-xs"},{default:o(()=>[a(ge,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),f("span",Es,"Games: "+S(n.gamesPlayed),1),n.priority==="returned"?(w(),G("span",Ds,"(Returned)")):be("",!0)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:o(()=>[a(W,{flat:"",round:"",color:"accent",icon:"swap_horiz",size:"sm"},{default:o(()=>[a(fe,null,{default:o(()=>[C("Click to replace "+S(t.playerToReplaceInEdit?.name)+" with "+S(n.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:o(()=>[a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[35]||(l[35]=n=>t.showReplacePlayerDialog=!1)},{default:o(()=>[a(fe,null,{default:o(()=>l[94]||(l[94]=[C("Cancel player replacement")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ct,{modelValue:t.showCourtSelectionDialog,"onUpdate:modelValue":l[38]||(l[38]=n=>t.showCourtSelectionDialog=n),maximized:t.$q.screen.lt.md},{default:o(()=>[a(Pe,{class:"bg-white",style:{"max-width":"500px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:o(()=>[a(oe,{class:"queue-header text-white q-pa-none"},{default:o(()=>[a(Ge,{class:"q-pa-md"},{default:o(()=>[a(Ke,null,{default:o(()=>[a(R,{name:"sports_tennis",class:"q-mr-sm"}),l[95]||(l[95]=C(" Assign Court "))]),_:1}),pt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[wt]])]),_:1})]),_:1}),a(oe,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:o(()=>[f("div",Is,[l[97]||(l[97]=f("div",{class:"text-subtitle2 q-mb-sm"},"Select Court",-1)),a(Pe,{flat:"",bordered:"",class:"cursor-pointer",onClick:t.assignCourtAutomatically},{default:o(()=>[a(oe,{class:"row items-center"},{default:o(()=>[a(R,{name:"auto_awesome",color:"accent",size:"md",class:"q-mr-md"}),l[96]||(l[96]=f("div",{class:"col"},[f("div",{class:"text-weight-medium"},"Auto-Assign"),f("div",{class:"text-caption text-grey-6"},"Automatically assign next available court")],-1)),a(R,{name:"arrow_forward",color:"grey-6"})]),_:1})]),_:1}),a(Fe),l[98]||(l[98]=f("div",{class:"text-subtitle2 q-mb-sm"},"Manual Selection",-1)),a(Oe,{separator:""},{default:o(()=>[(w(!0),G(Me,null,We(t.courtSelectionOptions,n=>(w(),J(_e,{key:n.value,clickable:"",onClick:v=>t.assignSpecificCourt(n.value)},{default:o(()=>[a(U,{avatar:""},{default:o(()=>[a(zt,{color:"accent","text-color":"white"},{default:o(()=>[C(S(n.value),1)]),_:2},1024)]),_:2},1024),a(U,null,{default:o(()=>[a(ve,null,{default:o(()=>[C("Court "+S(n.value),1)]),_:2},1024),a(ve,{caption:""},{default:o(()=>[C(S(t.getCourtMatchCount(n.value))+" matches ",1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:o(()=>[a(R,{name:"check_circle",color:"green-6"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1}),a(Fe),a(bt,{align:"right",class:"q-pa-md"},{default:o(()=>[a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[37]||(l[37]=n=>t.showCourtSelectionDialog=!1)},{default:o(()=>[a(fe,null,{default:o(()=>l[99]||(l[99]=[C("Cancel court assignment")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])]),_:1})}const js=ga(Jn,[["render",Fs],["__file","IndexPage.vue"]]);export{js as default};
