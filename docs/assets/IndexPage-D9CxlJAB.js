import{r as E,O as fl,d as Ut,z as at,b as ol,x as se,y as Ca,A as ot,G as Ye,f as Ll,P as Bl,Q as Nl,a as ka,R as qa,h as Ee,u as ea,S as nl,T as ta,j as la,t as S,U as aa,m as na,V as oa,v as ia,W as sa,X as ua,C as W,Y as Rl,E as vt,g as Je,Z as Dl,$ as ra,a0 as ca,a1 as da,i as vl,a2 as Pa,k as gl,a3 as Ma,D as Ta,a4 as N,a5 as Aa,a6 as Va,a7 as za,a8 as La,a9 as Ba,aa as Ea,e as Fa,ab as Ra,ac as Wl,ad as Da,ae as Ia,af as Oa,ag as Ha,n as Qa,ah as Na,ai as Wa,aj as ja,ak as Ua,al as Ka,am as Ga,an as jl,ao as Wt,ap as Ja,aq as Ya,ar as Xa,s as Lt,as as Za,at as ft,au as ma,o as il,q as nt,F as fa,av as $a,aw as en,c as tn,ax as ln,ay as an,az as nn,I as va,_ as ga,K as _,aA as ee,aB as m,N as a,M as o,aC as x,aD as w,L as $,aE as we,aF as U,aG as Ce,aH as Te,aI as We,aJ as je,aK as Ue,aL as Kt,aM as Bt,B as wt,aN as on,aO as sn,aP as un,aQ as rn,aR as Tl,aS as cn,aT as dn}from"./index-C1y4pl1q.js";import{c as El,n as Ul,e as mn,Q as St,a as _t,d as xt}from"./QLayout-DbSkUqCL.js";const ha={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},fn={...ha,contextMenu:Boolean};function ya({showing:e,avoidEmit:l,configureAnchorEl:s}){const{props:t,proxy:r,emit:c}=Ye(),n=E(null);let f=null;function h(b){return n.value===null?!1:b===void 0||b.touches===void 0||b.touches.length<=1}const T={};s===void 0&&(Object.assign(T,{hide(b){r.hide(b)},toggle(b){r.toggle(b),b.qAnchorHandled=!0},toggleKey(b){fl(b,13)===!0&&T.toggle(b)},contextClick(b){r.hide(b),Ut(b),at(()=>{r.show(b),b.qAnchorHandled=!0})},prevent:Ut,mobileTouch(b){if(T.mobileCleanup(b),h(b)!==!0)return;r.hide(b),n.value.classList.add("non-selectable");const F=b.target;ol(T,"anchor",[[F,"touchmove","mobileCleanup","passive"],[F,"touchend","mobileCleanup","passive"],[F,"touchcancel","mobileCleanup","passive"],[n.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,r.show(b),b.qAnchorHandled=!0},300)},mobileCleanup(b){n.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&b!==void 0&&El()}}),s=function(b=t.contextMenu){if(t.noParentEvent===!0||n.value===null)return;let F;b===!0?r.$q.platform.is.mobile===!0?F=[[n.value,"touchstart","mobileTouch","passive"]]:F=[[n.value,"mousedown","hide","passive"],[n.value,"contextmenu","contextClick","notPassive"]]:F=[[n.value,"click","toggle","passive"],[n.value,"keyup","toggleKey","passive"]],ol(T,"anchor",F)});function y(){Ll(T,"anchor")}function R(b){for(n.value=b;n.value.classList.contains("q-anchor--skip");)n.value=n.value.parentNode;s()}function D(){if(t.target===!1||t.target===""||r.$el.parentNode===null)n.value=null;else if(t.target===!0)R(r.$el.parentNode);else{let b=t.target;if(typeof t.target=="string")try{b=document.querySelector(t.target)}catch{b=void 0}b!=null?(n.value=b.$el||b,s()):(n.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return se(()=>t.contextMenu,b=>{n.value!==null&&(y(),s(b))}),se(()=>t.target,()=>{n.value!==null&&y(),D()}),se(()=>t.noParentEvent,b=>{n.value!==null&&(b===!0?y():s())}),Ca(()=>{D(),l!==!0&&t.modelValue===!0&&n.value===null&&c("update:modelValue",!1)}),ot(()=>{f!==null&&clearTimeout(f),y()}),{anchorEl:n,canShow:h,anchorEvents:T}}function ba(e,l){const s=E(null);let t;function r(f,h){const T=`${h!==void 0?"add":"remove"}EventListener`,y=h!==void 0?h:t;f!==window&&f[T]("scroll",y,Bl.passive),window[T]("scroll",y,Bl.passive),t=h}function c(){s.value!==null&&(r(s.value),s.value=null)}const n=se(()=>e.noParentEvent,()=>{s.value!==null&&(c(),l())});return ot(n),{localScrollTarget:s,unconfigureScrollTarget:c,changeScrollEvent:r}}const{notPassiveCapture:sl}=Bl,qt=[];function ul(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let s=Nl.length-1;for(;s>=0;){const t=Nl[s].$;if(t.type.name==="QTooltip"){s--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;s--}for(let t=qt.length-1;t>=0;t--){const r=qt[t];if((r.anchorEl.value===null||r.anchorEl.value.contains(l)===!1)&&(l===document.body||r.innerRef.value!==null&&r.innerRef.value.contains(l)===!1))e.qClickOutside=!0,r.onClickOutside(e);else return}}function pa(e){qt.push(e),qt.length===1&&(document.addEventListener("mousedown",ul,sl),document.addEventListener("touchstart",ul,sl))}function rl(e){const l=qt.findIndex(s=>s===e);l!==-1&&(qt.splice(l,1),qt.length===0&&(document.removeEventListener("mousedown",ul,sl),document.removeEventListener("touchstart",ul,sl)))}let Kl,Gl;function cl(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function wa(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Fl={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Fl[`${e}#ltr`]=e,Fl[`${e}#rtl`]=e});function dl(e,l){const s=e.split(" ");return{vertical:s[0],horizontal:Fl[`${s[1]}#${l===!0?"rtl":"ltr"}`]}}function vn(e,l){let{top:s,left:t,right:r,bottom:c,width:n,height:f}=e.getBoundingClientRect();return l!==void 0&&(s-=l[1],t-=l[0],c+=l[1],r+=l[0],n+=l[0],f+=l[1]),{top:s,bottom:c,height:f,left:t,right:r,width:n,middle:t+(r-t)/2,center:s+(c-s)/2}}function gn(e,l,s){let{top:t,left:r}=e.getBoundingClientRect();return t+=l.top,r+=l.left,s!==void 0&&(t+=s[1],r+=s[0]),{top:t,bottom:t+1,height:1,left:r,right:r+1,width:1,middle:r,center:t}}function hn(e,l){return{top:0,center:l/2,bottom:l,left:0,middle:e/2,right:e}}function Jl(e,l,s,t){return{top:e[s.vertical]-l[t.vertical],left:e[s.horizontal]-l[t.horizontal]}}function Il(e,l=0){if(e.targetEl===null||e.anchorEl===null||l>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Il(e,l+1)},10);return}const{targetEl:s,offset:t,anchorEl:r,anchorOrigin:c,selfOrigin:n,absoluteOffset:f,fit:h,cover:T,maxHeight:y,maxWidth:R}=e;if(ka.is.ios===!0&&window.visualViewport!==void 0){const Q=document.body.style,{offsetLeft:te,offsetTop:le}=window.visualViewport;te!==Kl&&(Q.setProperty("--q-pe-left",te+"px"),Kl=te),le!==Gl&&(Q.setProperty("--q-pe-top",le+"px"),Gl=le)}const{scrollLeft:D,scrollTop:b}=s,F=f===void 0?vn(r,T===!0?[0,0]:t):gn(r,f,t);Object.assign(s.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:R,maxHeight:y,visibility:"visible"});const{offsetWidth:L,offsetHeight:P}=s,{elWidth:Z,elHeight:B}=h===!0||T===!0?{elWidth:Math.max(F.width,L),elHeight:T===!0?Math.max(F.height,P):P}:{elWidth:L,elHeight:P};let k={maxWidth:R,maxHeight:y};(h===!0||T===!0)&&(k.minWidth=F.width+"px",T===!0&&(k.minHeight=F.height+"px")),Object.assign(s.style,k);const H=hn(Z,B);let C=Jl(F,H,c,n);if(f===void 0||t===void 0)Al(C,F,H,c,n);else{const{top:Q,left:te}=C;Al(C,F,H,c,n);let le=!1;if(C.top!==Q){le=!0;const K=2*t[1];F.center=F.top-=K,F.bottom-=K+2}if(C.left!==te){le=!0;const K=2*t[0];F.middle=F.left-=K,F.right-=K+2}le===!0&&(C=Jl(F,H,c,n),Al(C,F,H,c,n))}k={top:C.top+"px",left:C.left+"px"},C.maxHeight!==void 0&&(k.maxHeight=C.maxHeight+"px",F.height>C.maxHeight&&(k.minHeight=k.maxHeight)),C.maxWidth!==void 0&&(k.maxWidth=C.maxWidth+"px",F.width>C.maxWidth&&(k.minWidth=k.maxWidth)),Object.assign(s.style,k),s.scrollTop!==b&&(s.scrollTop=b),s.scrollLeft!==D&&(s.scrollLeft=D)}function Al(e,l,s,t,r){const c=s.bottom,n=s.right,f=qa(),h=window.innerHeight-f,T=document.body.clientWidth;if(e.top<0||e.top+c>h)if(r.vertical==="center")e.top=l[t.vertical]>h/2?Math.max(0,h-c):0,e.maxHeight=Math.min(c,h);else if(l[t.vertical]>h/2){const y=Math.min(h,t.vertical==="center"?l.center:t.vertical===r.vertical?l.bottom:l.top);e.maxHeight=Math.min(c,y),e.top=Math.max(0,y-c)}else e.top=Math.max(0,t.vertical==="center"?l.center:t.vertical===r.vertical?l.top:l.bottom),e.maxHeight=Math.min(c,h-e.top);if(e.left<0||e.left+n>T)if(e.maxWidth=Math.min(n,T),r.horizontal==="middle")e.left=l[t.horizontal]>T/2?Math.max(0,T-n):0;else if(l[t.horizontal]>T/2){const y=Math.min(T,t.horizontal==="middle"?l.middle:t.horizontal===r.horizontal?l.right:l.left);e.maxWidth=Math.min(n,y),e.left=Math.max(0,y-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?l.middle:t.horizontal===r.horizontal?l.left:l.right),e.maxWidth=Math.min(n,T-e.left)}const ge=Ee({name:"QTooltip",inheritAttrs:!1,props:{...ha,...ea,...nl,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...nl.transitionShow,default:"jump-down"},transitionHide:{...nl.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:cl},self:{type:String,default:"top middle",validator:cl},offset:{type:Array,default:()=>[14,14],validator:wa},scrollTarget:ta,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...la],setup(e,{slots:l,emit:s,attrs:t}){let r,c;const n=Ye(),{proxy:{$q:f}}=n,h=E(null),T=E(!1),y=S(()=>dl(e.anchor,f.lang.rtl)),R=S(()=>dl(e.self,f.lang.rtl)),D=S(()=>e.persistent!==!0),{registerTick:b,removeTick:F}=aa(),{registerTimeout:L}=na(),{transitionProps:P,transitionStyle:Z}=oa(e),{localScrollTarget:B,changeScrollEvent:k,unconfigureScrollTarget:H}=ba(e,qe),{anchorEl:C,canShow:Q,anchorEvents:te}=ya({showing:T,configureAnchorEl:pe}),{show:le,hide:K}=ia({showing:T,canShow:Q,handleShow:ke,handleHide:Fe,hideOnRouteChange:D,processOnMount:!0});Object.assign(te,{delayShow:Re,delayHide:re});const{showPortal:ue,hidePortal:me,renderPortal:fe}=sa(n,h,M,"tooltip");if(f.platform.is.mobile===!0){const O={anchorEl:C,innerRef:h,onClickOutside(ne){return K(ne),ne.target.classList.contains("q-dialog__backdrop")&&Je(ne),!0}},ae=S(()=>e.modelValue===null&&e.persistent!==!0&&T.value===!0);se(ae,ne=>{(ne===!0?pa:rl)(O)}),ot(()=>{rl(O)})}function ke(O){ue(),b(()=>{c=new MutationObserver(()=>ce()),c.observe(h.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),ce(),qe()}),r===void 0&&(r=se(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,ce)),L(()=>{ue(!0),s("show",O)},e.transitionDuration)}function Fe(O){F(),me(),Ae(),L(()=>{me(!0),s("hide",O)},e.transitionDuration)}function Ae(){c!==void 0&&(c.disconnect(),c=void 0),r!==void 0&&(r(),r=void 0),H(),Ll(te,"tooltipTemp")}function ce(){Il({targetEl:h.value,offset:e.offset,anchorEl:C.value,anchorOrigin:y.value,selfOrigin:R.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Re(O){if(f.platform.is.mobile===!0){El(),document.body.classList.add("non-selectable");const ae=C.value,ne=["touchmove","touchcancel","touchend","click"].map(J=>[ae,J,"delayHide","passiveCapture"]);ol(te,"tooltipTemp",ne)}L(()=>{le(O)},e.delay)}function re(O){f.platform.is.mobile===!0&&(Ll(te,"tooltipTemp"),El(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),L(()=>{K(O)},e.hideDelay)}function pe(){if(e.noParentEvent===!0||C.value===null)return;const O=f.platform.is.mobile===!0?[[C.value,"touchstart","delayShow","passive"]]:[[C.value,"mouseenter","delayShow","passive"],[C.value,"mouseleave","delayHide","passive"]];ol(te,"anchor",O)}function qe(){if(C.value!==null||e.scrollTarget!==void 0){B.value=ua(C.value,e.scrollTarget);const O=e.noParentEvent===!0?ce:K;k(B.value,O)}}function g(){return T.value===!0?W("div",{...t,ref:h,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,Z.value],role:"tooltip"},vt(l.default)):null}function M(){return W(Rl,P.value,g)}return ot(Ae),Object.assign(n.proxy,{updatePosition:ce}),fe}}),yn=Ee({name:"QField",inheritAttrs:!1,props:{...Dl,tag:{type:String,default:"label"}},emits:ra,setup(){return ca(da({tagProp:!0}))}}),bn={xs:8,sm:10,md:14,lg:20,xl:24},ve=Ee({name:"QChip",props:{...vl,...Pa,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:s}){const{proxy:{$q:t}}=Ye(),r=gl(e,t),c=Ma(e,bn),n=S(()=>e.selected===!0||e.icon!==void 0),f=S(()=>e.selected===!0?e.iconSelected||t.iconSet.chip.selected:e.icon),h=S(()=>e.iconRemove||t.iconSet.chip.remove),T=S(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),y=S(()=>{const P=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(P?` text-${P} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(T.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(r.value===!0?" q-chip--dark q-dark":"")}),R=S(()=>{const P=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},Z={...P,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||t.lang.label.remove};return{chip:P,remove:Z}});function D(P){P.keyCode===13&&b(P)}function b(P){e.disable||(s("update:selected",!e.selected),s("click",P))}function F(P){(P.keyCode===void 0||P.keyCode===13)&&(Je(P),e.disable===!1&&(s("update:modelValue",!1),s("remove")))}function L(){const P=[];T.value===!0&&P.push(W("div",{class:"q-focus-helper"})),n.value===!0&&P.push(W(N,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const Z=e.label!==void 0?[W("div",{class:"ellipsis"},[e.label])]:void 0;return P.push(W("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Aa(l.default,Z))),e.iconRight&&P.push(W(N,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&P.push(W(N,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...R.value.remove,onClick:F,onKeyup:F})),P}return()=>{if(e.modelValue===!1)return;const P={class:y.value,style:c.value};return T.value===!0&&Object.assign(P,R.value.chip,{onClick:b,onKeyup:D}),Ta("div",P,L(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Va,e.ripple]])}}}),xe=Ee({name:"QItem",props:{...vl,...za,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:s}){const{proxy:{$q:t}}=Ye(),r=gl(e,t),{hasLink:c,linkAttrs:n,linkClass:f,linkTag:h,navigateOnClick:T}=La(),y=E(null),R=E(null),D=S(()=>e.clickable===!0||c.value===!0||e.tag==="label"),b=S(()=>e.disable!==!0&&D.value===!0),F=S(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(r.value===!0?" q-item--dark":"")+(c.value===!0&&e.active===null?f.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(b.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),L=S(()=>e.insetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function P(k){b.value===!0&&(R.value!==null&&(k.qKeyEvent!==!0&&document.activeElement===y.value?R.value.focus():document.activeElement===R.value&&y.value.focus()),T(k))}function Z(k){if(b.value===!0&&fl(k,[13,32])===!0){Je(k),k.qKeyEvent=!0;const H=new MouseEvent("click",k);H.qKeyEvent=!0,y.value.dispatchEvent(H)}s("keyup",k)}function B(){const k=Ba(l.default,[]);return b.value===!0&&k.unshift(W("div",{class:"q-focus-helper",tabindex:-1,ref:R})),k}return()=>{const k={ref:y,class:F.value,style:L.value,role:"listitem",onClick:P,onKeyup:Z};return b.value===!0?(k.tabindex=e.tabindex||"0",Object.assign(k,n.value)):D.value===!0&&(k["aria-disabled"]="true"),W(h.value,k,B())}}}),Y=Ee({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const s=S(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>W("div",{class:s.value},vt(l.default))}}),ye=Ee({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const s=S(()=>parseInt(e.lines,10)),t=S(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(s.value===1?" ellipsis":"")),r=S(()=>e.lines!==void 0&&s.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":s.value}:null);return()=>W("div",{style:r.value,class:t.value},vt(l.default))}}),Sa=Ee({name:"QMenu",inheritAttrs:!1,props:{...fn,...ea,...vl,...nl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:cl},self:{type:String,validator:cl},offset:{type:Array,validator:wa},scrollTarget:ta,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...la,"click","escapeKey"],setup(e,{slots:l,emit:s,attrs:t}){let r=null,c,n,f;const h=Ye(),{proxy:T}=h,{$q:y}=T,R=E(null),D=E(!1),b=S(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),F=gl(e,y),{registerTick:L,removeTick:P}=aa(),{registerTimeout:Z}=na(),{transitionProps:B,transitionStyle:k}=oa(e),{localScrollTarget:H,changeScrollEvent:C,unconfigureScrollTarget:Q}=ba(e,O),{anchorEl:te,canShow:le}=ya({showing:D}),{hide:K}=ia({showing:D,canShow:le,handleShow:qe,handleHide:g,hideOnRouteChange:b,processOnMount:!0}),{showPortal:ue,hidePortal:me,renderPortal:fe}=sa(h,R,he,"menu"),ke={anchorEl:te,innerRef:R,onClickOutside(q){if(e.persistent!==!0&&D.value===!0)return K(q),(q.type==="touchstart"||q.target.classList.contains("q-dialog__backdrop"))&&Je(q),!0}},Fe=S(()=>dl(e.anchor||(e.cover===!0?"center middle":"bottom start"),y.lang.rtl)),Ae=S(()=>e.cover===!0?Fe.value:dl(e.self||"top start",y.lang.rtl)),ce=S(()=>(e.square===!0?" q-menu--square":"")+(F.value===!0?" q-menu--dark q-dark":"")),Re=S(()=>e.autoClose===!0?{onClick:ae}:{}),re=S(()=>D.value===!0&&e.persistent!==!0);se(re,q=>{q===!0?(Ia(J),pa(ke)):(Wl(J),rl(ke))});function pe(){Oa(()=>{let q=R.value;q&&q.contains(document.activeElement)!==!0&&(q=q.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||q.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||q.querySelector("[autofocus], [data-autofocus]")||q,q.focus({preventScroll:!0}))})}function qe(q){if(r=e.noRefocus===!1?document.activeElement:null,Ea(ne),ue(),O(),c=void 0,q!==void 0&&(e.touchPosition||e.contextMenu)){const Se=Fa(q);if(Se.left!==void 0){const{top:Ie,left:it}=te.value.getBoundingClientRect();c={left:Se.left-it,top:Se.top-Ie}}}n===void 0&&(n=se(()=>y.screen.width+"|"+y.screen.height+"|"+e.self+"|"+e.anchor+"|"+y.lang.rtl,G)),e.noFocus!==!0&&document.activeElement.blur(),L(()=>{G(),e.noFocus!==!0&&pe()}),Z(()=>{y.platform.is.ios===!0&&(f=e.autoClose,R.value.click()),G(),ue(!0),s("show",q)},e.transitionDuration)}function g(q){P(),me(),M(!0),r!==null&&(q===void 0||q.qClickOutside!==!0)&&(((q&&q.type.indexOf("key")===0?r.closest('[tabindex]:not([tabindex^="-"])'):void 0)||r).focus(),r=null),Z(()=>{me(!0),s("hide",q)},e.transitionDuration)}function M(q){c=void 0,n!==void 0&&(n(),n=void 0),(q===!0||D.value===!0)&&(Ra(ne),Q(),rl(ke),Wl(J)),q!==!0&&(r=null)}function O(){(te.value!==null||e.scrollTarget!==void 0)&&(H.value=ua(te.value,e.scrollTarget),C(H.value,G))}function ae(q){f!==!0?(Da(T,q),s("click",q)):f=!1}function ne(q){re.value===!0&&e.noFocus!==!0&&Ha(R.value,q.target)!==!0&&pe()}function J(q){s("escapeKey"),K(q)}function G(){Il({targetEl:R.value,offset:e.offset,anchorEl:te.value,anchorOrigin:Fe.value,selfOrigin:Ae.value,absoluteOffset:c,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function he(){return W(Rl,B.value,()=>D.value===!0?W("div",{role:"menu",...t,ref:R,tabindex:-1,class:["q-menu q-position-engine scroll"+ce.value,t.class],style:[t.style,k.value],...Re.value},vt(l.default)):null)}return ot(M),Object.assign(T,{focus:pe,updatePosition:G}),fe}});let ml=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,ml=e.scrollLeft>=0,e.remove()}const Ke=1e3,pn=["start","center","end","start-force","center-force","end-force"],_a=Array.prototype.filter,wn=window.getComputedStyle(document.body).overflowAnchor===void 0?Qa:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const s=e.children||[];_a.call(s,r=>r.dataset&&r.dataset.qVsAnchor!==void 0).forEach(r=>{delete r.dataset.qVsAnchor});const t=s[l];t&&t.dataset&&(t.dataset.qVsAnchor="")}))};function Ft(e,l){return e+l}function Vl(e,l,s,t,r,c,n,f){const h=e===window?document.scrollingElement||document.documentElement:e,T=r===!0?"offsetWidth":"offsetHeight",y={scrollStart:0,scrollViewSize:-n-f,scrollMaxSize:0,offsetStart:-n,offsetEnd:-f};if(r===!0?(e===window?(y.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,y.scrollViewSize+=document.documentElement.clientWidth):(y.scrollStart=h.scrollLeft,y.scrollViewSize+=h.clientWidth),y.scrollMaxSize=h.scrollWidth,c===!0&&(y.scrollStart=(ml===!0?y.scrollMaxSize-y.scrollViewSize:0)-y.scrollStart)):(e===window?(y.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,y.scrollViewSize+=document.documentElement.clientHeight):(y.scrollStart=h.scrollTop,y.scrollViewSize+=h.clientHeight),y.scrollMaxSize=h.scrollHeight),s!==null)for(let R=s.previousElementSibling;R!==null;R=R.previousElementSibling)R.classList.contains("q-virtual-scroll--skip")===!1&&(y.offsetStart+=R[T]);if(t!==null)for(let R=t.nextElementSibling;R!==null;R=R.nextElementSibling)R.classList.contains("q-virtual-scroll--skip")===!1&&(y.offsetEnd+=R[T]);if(l!==e){const R=h.getBoundingClientRect(),D=l.getBoundingClientRect();r===!0?(y.offsetStart+=D.left-R.left,y.offsetEnd-=D.width):(y.offsetStart+=D.top-R.top,y.offsetEnd-=D.height),e!==window&&(y.offsetStart+=y.scrollStart),y.offsetEnd+=y.scrollMaxSize-y.offsetStart}return y}function Yl(e,l,s,t){l==="end"&&(l=(e===window?document.body:e)[s===!0?"scrollWidth":"scrollHeight"]),e===window?s===!0?(t===!0&&(l=(ml===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):s===!0?(t===!0&&(l=(ml===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function jt(e,l,s,t){if(s>=t)return 0;const r=l.length,c=Math.floor(s/Ke),n=Math.floor((t-1)/Ke)+1;let f=e.slice(c,n).reduce(Ft,0);return s%Ke!==0&&(f-=l.slice(c*Ke,s).reduce(Ft,0)),t%Ke!==0&&t!==r&&(f-=l.slice(t,n*Ke).reduce(Ft,0)),f}const Sn={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Xl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Sn};function _n({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:s,virtualScrollItemSizeComputed:t}){const r=Ye(),{props:c,emit:n,proxy:f}=r,{$q:h}=f;let T,y,R,D=[],b;const F=E(0),L=E(0),P=E({}),Z=E(null),B=E(null),k=E(null),H=E({from:0,to:0}),C=S(()=>c.tableColspan!==void 0?c.tableColspan:100);t===void 0&&(t=S(()=>c.virtualScrollItemSize));const Q=S(()=>t.value+";"+c.virtualScrollHorizontal),te=S(()=>Q.value+";"+c.virtualScrollSliceRatioBefore+";"+c.virtualScrollSliceRatioAfter);se(te,()=>{ce()}),se(Q,le);function le(){Ae(y,!0)}function K(g){Ae(g===void 0?y:g)}function ue(g,M){const O=l();if(O==null||O.nodeType===8)return;const ae=Vl(O,s(),Z.value,B.value,c.virtualScrollHorizontal,h.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd);R!==ae.scrollViewSize&&ce(ae.scrollViewSize),fe(O,ae,Math.min(e.value-1,Math.max(0,parseInt(g,10)||0)),0,pn.indexOf(M)!==-1?M:y!==-1&&g>y?"end":"start")}function me(){const g=l();if(g==null||g.nodeType===8)return;const M=Vl(g,s(),Z.value,B.value,c.virtualScrollHorizontal,h.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd),O=e.value-1,ae=M.scrollMaxSize-M.offsetStart-M.offsetEnd-L.value;if(T===M.scrollStart)return;if(M.scrollMaxSize<=0){fe(g,M,0,0);return}R!==M.scrollViewSize&&ce(M.scrollViewSize),ke(H.value.from);const ne=Math.floor(M.scrollMaxSize-Math.max(M.scrollViewSize,M.offsetEnd)-Math.min(b[O],M.scrollViewSize/2));if(ne>0&&Math.ceil(M.scrollStart)>=ne){fe(g,M,O,M.scrollMaxSize-M.offsetEnd-D.reduce(Ft,0));return}let J=0,G=M.scrollStart-M.offsetStart,he=G;if(G<=ae&&G+M.scrollViewSize>=F.value)G-=F.value,J=H.value.from,he=G;else for(let q=0;G>=D[q]&&J<O;q++)G-=D[q],J+=Ke;for(;G>0&&J<O;)G-=b[J],G>-M.scrollViewSize?(J++,he=G):he=b[J]+G;fe(g,M,J,he)}function fe(g,M,O,ae,ne){const J=typeof ne=="string"&&ne.indexOf("-force")!==-1,G=J===!0?ne.replace("-force",""):ne,he=G!==void 0?G:"start";let q=Math.max(0,O-P.value[he]),Se=q+P.value.total;Se>e.value&&(Se=e.value,q=Math.max(0,Se-P.value.total)),T=M.scrollStart;const Ie=q!==H.value.from||Se!==H.value.to;if(Ie===!1&&G===void 0){re(O);return}const{activeElement:it}=document,Oe=k.value;Ie===!0&&Oe!==null&&Oe!==it&&Oe.contains(it)===!0&&(Oe.addEventListener("focusout",Fe),setTimeout(()=>{Oe!==null&&Oe.removeEventListener("focusout",Fe)})),wn(Oe,O-q);const Pt=G!==void 0?b.slice(q,O).reduce(Ft,0):0;if(Ie===!0){const Xe=Se>=H.value.from&&q<=H.value.to?H.value.to:Se;H.value={from:q,to:Xe},F.value=jt(D,b,0,q),L.value=jt(D,b,Se,e.value),requestAnimationFrame(()=>{H.value.to!==Se&&T===M.scrollStart&&(H.value={from:H.value.from,to:Se},L.value=jt(D,b,Se,e.value))})}requestAnimationFrame(()=>{if(T!==M.scrollStart)return;Ie===!0&&ke(q);const Xe=b.slice(q,O).reduce(Ft,0),Ze=Xe+M.offsetStart+F.value,Mt=Ze+b[O];let gt=Ze+ae;if(G!==void 0){const Rt=Xe-Pt,ht=M.scrollStart+Rt;gt=J!==!0&&ht<Ze&&Mt<ht+M.scrollViewSize?ht:G==="end"?Mt-M.scrollViewSize:Ze-(G==="start"?0:Math.round((M.scrollViewSize-b[O])/2))}T=gt,Yl(g,gt,c.virtualScrollHorizontal,h.lang.rtl),re(O)})}function ke(g){const M=k.value;if(M){const O=_a.call(M.children,q=>q.classList&&q.classList.contains("q-virtual-scroll--skip")===!1),ae=O.length,ne=c.virtualScrollHorizontal===!0?q=>q.getBoundingClientRect().width:q=>q.offsetHeight;let J=g,G,he;for(let q=0;q<ae;){for(G=ne(O[q]),q++;q<ae&&O[q].classList.contains("q-virtual-scroll--with-prev")===!0;)G+=ne(O[q]),q++;he=G-b[J],he!==0&&(b[J]+=he,D[Math.floor(J/Ke)]+=he),J++}}}function Fe(){k.value!==null&&k.value!==void 0&&k.value.focus()}function Ae(g,M){const O=1*t.value;(M===!0||Array.isArray(b)===!1)&&(b=[]);const ae=b.length;b.length=e.value;for(let J=e.value-1;J>=ae;J--)b[J]=O;const ne=Math.floor((e.value-1)/Ke);D=[];for(let J=0;J<=ne;J++){let G=0;const he=Math.min((J+1)*Ke,e.value);for(let q=J*Ke;q<he;q++)G+=b[q];D.push(G)}y=-1,T=void 0,F.value=jt(D,b,0,H.value.from),L.value=jt(D,b,H.value.to,e.value),g>=0?(ke(H.value.from),at(()=>{ue(g)})):pe()}function ce(g){if(g===void 0&&typeof window<"u"){const G=l();G!=null&&G.nodeType!==8&&(g=Vl(G,s(),Z.value,B.value,c.virtualScrollHorizontal,h.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd).scrollViewSize)}R=g;const M=parseFloat(c.virtualScrollSliceRatioBefore)||0,O=parseFloat(c.virtualScrollSliceRatioAfter)||0,ae=1+M+O,ne=g===void 0||g<=0?1:Math.ceil(g/t.value),J=Math.max(1,ne,Math.ceil((c.virtualScrollSliceSize>0?c.virtualScrollSliceSize:10)/ae));P.value={total:Math.ceil(J*ae),start:Math.ceil(J*M),center:Math.ceil(J*(.5+M)),end:Math.ceil(J*(1+M)),view:ne}}function Re(g,M){const O=c.virtualScrollHorizontal===!0?"width":"height",ae={["--q-virtual-scroll-item-"+O]:t.value+"px"};return[g==="tbody"?W(g,{class:"q-virtual-scroll__padding",key:"before",ref:Z},[W("tr",[W("td",{style:{[O]:`${F.value}px`,...ae},colspan:C.value})])]):W(g,{class:"q-virtual-scroll__padding",key:"before",ref:Z,style:{[O]:`${F.value}px`,...ae}}),W(g,{class:"q-virtual-scroll__content",key:"content",ref:k,tabindex:-1},M.flat()),g==="tbody"?W(g,{class:"q-virtual-scroll__padding",key:"after",ref:B},[W("tr",[W("td",{style:{[O]:`${L.value}px`,...ae},colspan:C.value})])]):W(g,{class:"q-virtual-scroll__padding",key:"after",ref:B,style:{[O]:`${L.value}px`,...ae}})]}function re(g){y!==g&&(c.onVirtualScroll!==void 0&&n("virtualScroll",{index:g,from:H.value.from,to:H.value.to-1,direction:g<y?"decrease":"increase",ref:f}),y=g)}ce();const pe=Na(me,h.platform.is.ios===!0?120:35);Wa(()=>{ce()});let qe=!1;return ja(()=>{qe=!0}),Ua(()=>{if(qe!==!0)return;const g=l();T!==void 0&&g!==void 0&&g!==null&&g.nodeType!==8?Yl(g,T,c.virtualScrollHorizontal,h.lang.rtl):ue(y)}),ot(()=>{pe.cancel()}),Object.assign(f,{scrollTo:ue,reset:le,refresh:K}),{virtualScrollSliceRange:H,virtualScrollSliceSizeComputed:P,setVirtualScrollSize:ce,onVirtualScrollEvt:pe,localResetVirtualScroll:Ae,padVirtualScroll:Re,scrollTo:ue,reset:le,refresh:K}}const Zl=e=>["add","add-unique","toggle"].includes(e),xn=".*+?^${}()|[]\\",Cn=Object.keys(Dl);function zl(e,l){if(typeof e=="function")return e;const s=e!==void 0?e:l;return t=>t!==null&&typeof t=="object"&&s in t?t[s]:t}const Et=Ee({name:"QSelect",inheritAttrs:!1,props:{...Xl,...Ka,...Dl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Zl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Xl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...ra,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:s}){const{proxy:t}=Ye(),{$q:r}=t,c=E(!1),n=E(!1),f=E(-1),h=E(""),T=E(!1),y=E(!1);let R=null,D=null,b,F,L,P=null,Z,B,k,H;const C=E(null),Q=E(null),te=E(null),le=E(null),K=E(null),ue=Ga(e),me=Xa(Ht),fe=S(()=>e.options.length),ke=S(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Fe,virtualScrollSliceSizeComputed:Ae,localResetVirtualScroll:ce,padVirtualScroll:Re,onVirtualScrollEvt:re,scrollTo:pe,setVirtualScrollSize:qe}=_n({virtualScrollLength:fe,getVirtualScrollTarget:hl,getVirtualScrollEl:Jt,virtualScrollItemSizeComputed:ke}),g=da(),M=S(()=>{const i=e.mapOptions===!0&&e.multiple!==!0,A=e.modelValue!==void 0&&(e.modelValue!==null||i===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0){const V=e.mapOptions===!0&&b!==void 0?b:[],X=A.map(ie=>Tt(ie,V));return e.modelValue===null&&i===!0?X.filter(ie=>ie!==null):X}return A}),O=S(()=>{const i={};return Cn.forEach(A=>{const V=e[A];V!==void 0&&(i[A]=V)}),i}),ae=S(()=>e.optionsDark===null?g.isDark.value:e.optionsDark),ne=S(()=>jl(M.value)),J=S(()=>{let i="q-field__input q-placeholder col";return e.hideSelected===!0||M.value.length===0?[i,e.inputClass]:(i+=" q-field__input--padding",e.inputClass===void 0?i:[i,e.inputClass])}),G=S(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),he=S(()=>fe.value===0),q=S(()=>M.value.map(i=>Pe.value(i)).join(", ")),Se=S(()=>e.displayValue!==void 0?e.displayValue:q.value),Ie=S(()=>e.optionsHtml===!0?()=>!0:i=>i!=null&&i.html===!0),it=S(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||M.value.some(Ie.value))),Oe=S(()=>g.focused.value===!0?e.tabindex:-1),Pt=S(()=>{const i={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":c.value===!0?"true":"false","aria-controls":`${g.targetUid.value}_lb`};return f.value>=0&&(i["aria-activedescendant"]=`${g.targetUid.value}_${f.value}`),i}),Xe=S(()=>({id:`${g.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ze=S(()=>M.value.map((i,A)=>({index:A,opt:i,html:Ie.value(i),selected:!0,removeAtIndex:He,toggleOption:Qe,tabindex:Oe.value}))),Mt=S(()=>{if(fe.value===0)return[];const{from:i,to:A}=Fe.value;return e.options.slice(i,A).map((V,X)=>{const ie=$e.value(V)===!0,oe=st(V)===!0,_e=i+X,be={clickable:!0,active:oe,activeClass:ht.value,manualFocus:!0,focused:!1,disable:ie,tabindex:-1,dense:e.optionsDense,dark:ae.value,role:"option","aria-selected":oe===!0?"true":"false",id:`${g.targetUid.value}_${_e}`,onClick:()=>{Qe(V)}};return ie!==!0&&(f.value===_e&&(be.focused=!0),r.platform.is.desktop===!0&&(be.onMousemove=()=>{c.value===!0&&Ge(_e)})),{index:_e,opt:V,html:Ie.value(V),label:Pe.value(V),selected:be.active,focused:be.focused,toggleOption:Qe,setOptionIndex:Ge,itemProps:be}})}),gt=S(()=>e.dropdownIcon!==void 0?e.dropdownIcon:r.iconSet.arrow.dropdown),Rt=S(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ht=S(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Ve=S(()=>zl(e.optionValue,"value")),Pe=S(()=>zl(e.optionLabel,"label")),$e=S(()=>zl(e.optionDisable,"disable")),yt=S(()=>M.value.map(Ve.value)),Gt=S(()=>{const i={onInput:Ht,onChange:me,onKeydown:Ot,onKeyup:It,onKeypress:Vt,onFocus:Dt,onClick(A){F===!0&&Lt(A)}};return i.onCompositionstart=i.onCompositionupdate=i.onCompositionend=me,i});se(M,i=>{b=i,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&g.innerLoading.value!==!0&&(n.value!==!0&&c.value!==!0||ne.value!==!0)&&(L!==!0&&dt(),(n.value===!0||c.value===!0)&&ut(""))},{immediate:!0}),se(()=>e.fillInput,dt),se(c,Nt),se(fe,ql);function et(i){return e.emitValue===!0?Ve.value(i):i}function Me(i){if(i!==-1&&i<M.value.length)if(e.multiple===!0){const A=e.modelValue.slice();s("remove",{index:i,value:A.splice(i,1)[0]}),s("update:modelValue",A)}else s("update:modelValue",null)}function He(i){Me(i),g.focus()}function bt(i,A){const V=et(i);if(e.multiple!==!0){e.fillInput===!0&&pt(Pe.value(i),!0,!0),s("update:modelValue",V);return}if(M.value.length===0){s("add",{index:0,value:V}),s("update:modelValue",e.multiple===!0?[V]:V);return}if(A===!0&&st(i)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const X=e.modelValue.slice();s("add",{index:X.length,value:V}),X.push(V),s("update:modelValue",X)}function Qe(i,A){if(g.editable.value!==!0||i===void 0||$e.value(i)===!0)return;const V=Ve.value(i);if(e.multiple!==!0){A!==!0&&(pt(e.fillInput===!0?Pe.value(i):"",!0,!0),lt()),Q.value!==null&&Q.value.focus(),(M.value.length===0||Wt(Ve.value(M.value[0]),V)!==!0)&&s("update:modelValue",e.emitValue===!0?V:i);return}if((F!==!0||T.value===!0)&&g.focus(),Dt(),M.value.length===0){const oe=e.emitValue===!0?V:i;s("add",{index:0,value:oe}),s("update:modelValue",e.multiple===!0?[oe]:oe);return}const X=e.modelValue.slice(),ie=yt.value.findIndex(oe=>Wt(oe,V));if(ie!==-1)s("remove",{index:ie,value:X.splice(ie,1)[0]});else{if(e.maxValues!==void 0&&X.length>=e.maxValues)return;const oe=e.emitValue===!0?V:i;s("add",{index:X.length,value:oe}),X.push(oe)}s("update:modelValue",X)}function Ge(i){if(r.platform.is.desktop!==!0)return;const A=i!==-1&&i<fe.value?i:-1;f.value!==A&&(f.value=A)}function tt(i=1,A){if(c.value===!0){let V=f.value;do V=Ul(V+i,-1,fe.value-1);while(V!==-1&&V!==f.value&&$e.value(e.options[V])===!0);f.value!==V&&(Ge(V),pe(V),A!==!0&&e.useInput===!0&&e.fillInput===!0&&zt(V>=0?Pe.value(e.options[V]):Z,!0))}}function Tt(i,A){const V=X=>Wt(Ve.value(X),i);return e.options.find(V)||A.find(V)||i}function st(i){const A=Ve.value(i);return yt.value.find(V=>Wt(V,A))!==void 0}function Dt(i){e.useInput===!0&&Q.value!==null&&(i===void 0||Q.value===i.target&&i.target.value===q.value)&&Q.value.select()}function At(i){fl(i,27)===!0&&c.value===!0&&(Lt(i),lt(),dt()),s("keyup",i)}function It(i){const{value:A}=i.target;if(i.keyCode!==void 0){At(i);return}if(i.target.value="",R!==null&&(clearTimeout(R),R=null),D!==null&&(clearTimeout(D),D=null),dt(),typeof A=="string"&&A.length!==0){const V=A.toLocaleLowerCase(),X=oe=>{const _e=e.options.find(be=>oe.value(be).toLocaleLowerCase()===V);return _e===void 0?!1:(M.value.indexOf(_e)===-1?Qe(_e):lt(),!0)},ie=oe=>{X(Ve)!==!0&&(X(Pe)===!0||oe===!0||ut(A,!0,()=>ie(!0)))};ie()}else g.clearValue(i)}function Vt(i){s("keypress",i)}function Ot(i){if(s("keydown",i),Za(i)===!0)return;const A=h.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),V=i.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||A===!0);if(i.keyCode===27){Ut(i);return}if(i.keyCode===9&&V===!1){rt();return}if(i.target===void 0||i.target.id!==g.targetUid.value||g.editable.value!==!0)return;if(i.keyCode===40&&g.innerLoading.value!==!0&&c.value===!1){Je(i),ct();return}if(i.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Me(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&s("update:modelValue",null);return}(i.keyCode===35||i.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(Je(i),f.value=-1,tt(i.keyCode===36?1:-1,e.multiple)),(i.keyCode===33||i.keyCode===34)&&Ae.value!==void 0&&(Je(i),f.value=Math.max(-1,Math.min(fe.value,f.value+(i.keyCode===33?-1:1)*Ae.value.view)),tt(i.keyCode===33?1:-1,e.multiple)),(i.keyCode===38||i.keyCode===40)&&(Je(i),tt(i.keyCode===38?-1:1,e.multiple));const X=fe.value;if((k===void 0||H<Date.now())&&(k=""),X>0&&e.useInput!==!0&&i.key!==void 0&&i.key.length===1&&i.altKey===!1&&i.ctrlKey===!1&&i.metaKey===!1&&(i.keyCode!==32||k.length!==0)){c.value!==!0&&ct(i);const ie=i.key.toLocaleLowerCase(),oe=k.length===1&&k[0]===ie;H=Date.now()+1500,oe===!1&&(Je(i),k+=ie);const _e=new RegExp("^"+k.split("").map(ll=>xn.indexOf(ll)!==-1?"\\"+ll:ll).join(".*"),"i");let be=f.value;if(oe===!0||be<0||_e.test(Pe.value(e.options[be]))!==!0)do be=Ul(be+1,-1,X-1);while(be!==f.value&&($e.value(e.options[be])===!0||_e.test(Pe.value(e.options[be]))!==!0));f.value!==be&&at(()=>{Ge(be),pe(be),be>=0&&e.useInput===!0&&e.fillInput===!0&&zt(Pe.value(e.options[be]),!0)});return}if(!(i.keyCode!==13&&(i.keyCode!==32||e.useInput===!0||k!=="")&&(i.keyCode!==9||V===!1))){if(i.keyCode!==9&&Je(i),f.value!==-1&&f.value<X){Qe(e.options[f.value]);return}if(A===!0){const ie=(oe,_e)=>{if(_e){if(Zl(_e)!==!0)return}else _e=e.newValueMode;if(pt("",e.multiple!==!0,!0),oe==null)return;(_e==="toggle"?Qe:bt)(oe,_e==="add-unique"),e.multiple!==!0&&(Q.value!==null&&Q.value.focus(),lt())};if(e.onNewValue!==void 0?s("newValue",h.value,ie):ie(h.value),e.multiple!==!0)return}c.value===!0?rt():g.innerLoading.value!==!0&&ct()}}function Jt(){return F===!0?K.value:te.value!==null&&te.value.contentEl!==null?te.value.contentEl:void 0}function hl(){return Jt()}function Yt(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Ze.value.map(i=>l["selected-item"](i)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Ze.value.map((i,A)=>W(ve,{key:"option-"+A,removable:g.editable.value===!0&&$e.value(i.opt)!==!0,dense:!0,textColor:e.color,tabindex:Oe.value,onRemove(){i.removeAtIndex(A)}},()=>W("span",{class:"ellipsis",[i.html===!0?"innerHTML":"textContent"]:Pe.value(i.opt)}))):[W("span",{[it.value===!0?"innerHTML":"textContent"]:Se.value})]}function Xt(){if(he.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:h.value}):void 0;const i=l.option!==void 0?l.option:V=>W(xe,{key:V.index,...V.itemProps},()=>W(Y,()=>W(ye,()=>W("span",{[V.html===!0?"innerHTML":"textContent"]:V.label}))));let A=Re("div",Mt.value.map(i));return l["before-options"]!==void 0&&(A=l["before-options"]().concat(A)),ma(l["after-options"],A)}function yl(i,A){const V=A===!0?{...Pt.value,...g.splitAttrs.attributes.value}:void 0,X={ref:A===!0?Q:void 0,key:"i_t",class:J.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...V,id:A===!0?g.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":i===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Gt.value};return i!==!0&&F===!0&&(Array.isArray(X.class)===!0?X.class=[...X.class,"no-pointer-events"]:X.class+=" no-pointer-events"),W("input",X)}function Ht(i){R!==null&&(clearTimeout(R),R=null),D!==null&&(clearTimeout(D),D=null),!(i&&i.target&&i.target.qComposing===!0)&&(zt(i.target.value||""),L=!0,Z=h.value,g.focused.value!==!0&&(F!==!0||T.value===!0)&&g.focus(),e.onFilter!==void 0&&(R=setTimeout(()=>{R=null,ut(h.value)},e.inputDebounce)))}function zt(i,A){h.value!==i&&(h.value=i,A===!0||e.inputDebounce===0||e.inputDebounce==="0"?s("inputValue",i):D=setTimeout(()=>{D=null,s("inputValue",i)},e.inputDebounce))}function pt(i,A,V){L=V!==!0,e.useInput===!0&&(zt(i,!0),(A===!0||V!==!0)&&(Z=i),A!==!0&&ut(i))}function ut(i,A,V){if(e.onFilter===void 0||A!==!0&&g.focused.value!==!0)return;g.innerLoading.value===!0?s("filterAbort"):(g.innerLoading.value=!0,y.value=!0),i!==""&&e.multiple!==!0&&M.value.length!==0&&L!==!0&&i===Pe.value(M.value[0])&&(i="");const X=setTimeout(()=>{c.value===!0&&(c.value=!1)},10);P!==null&&clearTimeout(P),P=X,s("filter",i,(ie,oe)=>{(A===!0||g.focused.value===!0)&&P===X&&(clearTimeout(P),typeof ie=="function"&&ie(),y.value=!1,at(()=>{g.innerLoading.value=!1,g.editable.value===!0&&(A===!0?c.value===!0&&lt():c.value===!0?Nt(!0):c.value=!0),typeof oe=="function"&&at(()=>{oe(t)}),typeof V=="function"&&at(()=>{V(t)})}))},()=>{g.focused.value===!0&&P===X&&(clearTimeout(P),g.innerLoading.value=!1,y.value=!1),c.value===!0&&(c.value=!1)})}function bl(){return W(Sa,{ref:te,class:G.value,style:e.popupContentStyle,modelValue:c.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&he.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ae.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Rt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Xe.value,onScrollPassive:re,onBeforeShow:$t,onBeforeHide:Qt,onShow:pl},Xt)}function Qt(i){el(i),rt()}function pl(){qe()}function wl(i){Lt(i),Q.value!==null&&Q.value.focus(),T.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Sl(i){Lt(i),at(()=>{T.value=!1})}function _l(){const i=[W(yn,{class:`col-auto ${g.fieldClass.value}`,...O.value,for:g.targetUid.value,dark:ae.value,square:!0,loading:y.value,itemAligned:!1,filled:!0,stackLabel:h.value.length!==0,...g.splitAttrs.listeners.value,onFocus:wl,onBlur:Sl},{...l,rawControl:()=>g.getControl(!0),before:void 0,after:void 0})];return c.value===!0&&i.push(W("div",{ref:K,class:G.value+" scroll",style:e.popupContentStyle,...Xe.value,onClick:Ut,onScrollPassive:re},Xt())),W(ft,{ref:le,modelValue:n.value,position:e.useInput===!0?"top":void 0,transitionShow:B,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:$t,onBeforeHide:xl,onHide:Cl,onShow:kl},()=>W("div",{class:"q-select__dialog"+(ae.value===!0?" q-select__dialog--dark q-dark":"")+(T.value===!0?" q-select__dialog--focused":"")},i))}function xl(i){el(i),le.value!==null&&le.value.__updateRefocusTarget(g.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),g.focused.value=!1}function Cl(i){lt(),g.focused.value===!1&&s("blur",i),dt()}function kl(){const i=document.activeElement;(i===null||i.id!==g.targetUid.value)&&Q.value!==null&&Q.value!==i&&Q.value.focus(),qe()}function rt(){n.value!==!0&&(f.value=-1,c.value===!0&&(c.value=!1),g.focused.value===!1&&(P!==null&&(clearTimeout(P),P=null),g.innerLoading.value===!0&&(s("filterAbort"),g.innerLoading.value=!1,y.value=!1)))}function ct(i){g.editable.value===!0&&(F===!0?(g.onControlFocusin(i),n.value=!0,at(()=>{g.focus()})):g.focus(),e.onFilter!==void 0?ut(h.value):(he.value!==!0||l["no-option"]!==void 0)&&(c.value=!0))}function lt(){n.value=!1,rt()}function dt(){e.useInput===!0&&pt(e.multiple!==!0&&e.fillInput===!0&&M.value.length!==0&&Pe.value(M.value[0])||"",!0,!0)}function Nt(i){let A=-1;if(i===!0){if(M.value.length!==0){const V=Ve.value(M.value[0]);A=e.options.findIndex(X=>Wt(Ve.value(X),V))}ce(A)}Ge(A)}function ql(i,A){c.value===!0&&g.innerLoading.value===!1&&(ce(-1,!0),at(()=>{c.value===!0&&g.innerLoading.value===!1&&(i>A?ce():Nt(!0))}))}function Zt(){n.value===!1&&te.value!==null&&te.value.updatePosition()}function $t(i){i!==void 0&&Lt(i),s("popupShow",i),g.hasPopupOpen=!0,g.onControlFocusin(i)}function el(i){i!==void 0&&Lt(i),s("popupHide",i),g.hasPopupOpen=!1,g.onControlFocusout(i)}function tl(){F=r.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||he.value===!1:!0),B=r.platform.is.ios===!0&&F===!0&&e.useInput===!0?"fade":e.transitionShow}return Ja(tl),Ya(Zt),tl(),ot(()=>{R!==null&&clearTimeout(R),D!==null&&clearTimeout(D)}),Object.assign(t,{showPopup:ct,hidePopup:lt,removeAtIndex:Me,add:bt,toggleOption:Qe,getOptionIndex:()=>f.value,setOptionIndex:Ge,moveOptionSelection:tt,filter:ut,updateMenuPosition:Zt,updateInputValue:pt,isOptionSelected:st,getEmittingOptionValue:et,isOptionDisabled:(...i)=>$e.value.apply(null,i)===!0,getOptionValue:(...i)=>Ve.value.apply(null,i),getOptionLabel:(...i)=>Pe.value.apply(null,i)}),Object.assign(g,{innerValue:M,fieldClass:S(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:C,targetRef:Q,hasValue:ne,showPopup:ct,floatingLabel:S(()=>e.hideSelected!==!0&&ne.value===!0||typeof h.value=="number"||h.value.length!==0||jl(e.displayValue)),getControlChild:()=>{if(g.editable.value!==!1&&(n.value===!0||he.value!==!0||l["no-option"]!==void 0))return F===!0?_l():bl();g.hasPopupOpen===!0&&(g.hasPopupOpen=!1)},controlEvents:{onFocusin(i){g.onControlFocusin(i)},onFocusout(i){g.onControlFocusout(i,()=>{dt(),rt()})},onClick(i){if(Ut(i),F!==!0&&c.value===!0){rt(),Q.value!==null&&Q.value.focus();return}ct(i)}},getControl:i=>{const A=Yt(),V=i===!0||n.value!==!0||F!==!0;if(e.useInput===!0)A.push(yl(i,V));else if(g.editable.value===!0){const ie=V===!0?Pt.value:void 0;A.push(W("input",{ref:V===!0?Q:void 0,key:"d_t",class:"q-select__focus-target",id:V===!0?g.targetUid.value:void 0,value:Se.value,readonly:!0,"data-autofocus":i===!0||e.autofocus===!0||void 0,...ie,onKeydown:Ot,onKeyup:At,onKeypress:Vt})),V===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&A.push(W("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:It}))}if(ue.value!==void 0&&e.disable!==!0&&yt.value.length!==0){const ie=yt.value.map(oe=>W("option",{value:oe,selected:!0}));A.push(W("select",{class:"hidden",name:ue.value,multiple:e.multiple},ie))}const X=e.useInput===!0||V!==!0?void 0:g.splitAttrs.attributes.value;return W("div",{class:"q-field__native row items-center",...X,...g.splitAttrs.listeners.value},A)},getInnerAppend:()=>e.loading!==!0&&y.value!==!0&&e.hideDropdownIcon!==!0?[W(N,{class:"q-select__dropdown-icon"+(c.value===!0?" rotate-180":""),name:gt.value})]:null}),ca(g)}}),kn=["ul","ol"],Ne=Ee({name:"QList",props:{...vl,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:l}){const s=Ye(),t=gl(e,s.proxy.$q),r=S(()=>kn.includes(e.tag)?null:"list"),c=S(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(t.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>W(e.tag,{class:c.value,role:r.value},vt(l.default))}}),Le=Ee({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:l}){const s=S(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>W("div",{class:s.value},vt(l.default))}}),Be=Ee({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:l}){const s=S(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>W("div",{class:s.value,role:"toolbar"},vt(l.default))}}),mt=Ee({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:l}){const{proxy:{$q:s}}=Ye(),t=il(fa,nt);if(t===nt)return console.error("QPage needs to be a deep child of QLayout"),nt;if(il($a,nt)===nt)return console.error("QPage needs to be child of QPageContainer"),nt;const c=S(()=>{const f=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const h=t.isContainer.value===!0?t.containerHeight.value:s.screen.height;return e.styleFn(f,h)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-f+"px":s.screen.height===0?f!==0?`calc(100vh - ${f}px)`:"100vh":s.screen.height-f+"px"}}),n=S(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>W("main",{class:n.value,style:c.value},vt(l.default))}}),Ct=Ee({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:l,emit:s}){const{proxy:{$q:t}}=Ye(),r=il(fa,nt);if(r===nt)return console.error("QFooter needs to be child of QLayout"),nt;const c=E(parseInt(e.heightHint,10)),n=E(!0),f=E(en.value===!0||r.isContainer.value===!0?0:window.innerHeight),h=S(()=>e.reveal===!0||r.view.value.indexOf("F")!==-1||t.platform.is.ios&&r.isContainer.value===!0),T=S(()=>r.isContainer.value===!0?r.containerHeight.value:f.value),y=S(()=>{if(e.modelValue!==!0)return 0;if(h.value===!0)return n.value===!0?c.value:0;const C=r.scroll.value.position+T.value+c.value-r.height.value;return C>0?C:0}),R=S(()=>e.modelValue!==!0||h.value===!0&&n.value!==!0),D=S(()=>e.modelValue===!0&&R.value===!0&&e.reveal===!0),b=S(()=>"q-footer q-layout__section--marginal "+(h.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(R.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(h.value!==!0?" hidden":""):"")),F=S(()=>{const C=r.rows.value.bottom,Q={};return C[0]==="l"&&r.left.space===!0&&(Q[t.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),C[2]==="r"&&r.right.space===!0&&(Q[t.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),Q});function L(C,Q){r.update("footer",C,Q)}function P(C,Q){C.value!==Q&&(C.value=Q)}function Z({height:C}){P(c,C),L("size",C)}function B(){if(e.reveal!==!0)return;const{direction:C,position:Q,inflectionPoint:te}=r.scroll.value;P(n,C==="up"||Q-te<100||r.height.value-T.value-Q-c.value<300)}function k(C){D.value===!0&&P(n,!0),s("focusin",C)}se(()=>e.modelValue,C=>{L("space",C),P(n,!0),r.animate()}),se(y,C=>{L("offset",C)}),se(()=>e.reveal,C=>{C===!1&&P(n,e.modelValue)}),se(n,C=>{r.animate(),s("reveal",C)}),se([c,r.scroll,r.height],B),se(()=>t.screen.height,C=>{r.isContainer.value!==!0&&P(f,C)});const H={};return r.instances.footer=H,e.modelValue===!0&&L("size",c.value),L("space",e.modelValue),L("offset",y.value),ot(()=>{r.instances.footer===H&&(r.instances.footer=void 0,L("size",0),L("offset",0),L("space",!1))}),()=>{const C=ma(l.default,[W(mn,{debounce:0,onResize:Z})]);return e.elevated===!0&&C.push(W("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),W("footer",{class:b.value,style:F.value,onFocusin:k},C)}}}),qn=Ee({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:l,emit:s}){let t=!1,r,c,n=null,f=null,h,T;function y(){r&&r(),r=null,t=!1,n!==null&&(clearTimeout(n),n=null),f!==null&&(clearTimeout(f),f=null),c!==void 0&&c.removeEventListener("transitionend",h),h=null}function R(L,P,Z){P!==void 0&&(L.style.height=`${P}px`),L.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,t=!0,r=Z}function D(L,P){L.style.overflowY=null,L.style.height=null,L.style.transition=null,y(),P!==T&&s(P)}function b(L,P){let Z=0;c=L,t===!0?(y(),Z=L.offsetHeight===L.scrollHeight?0:void 0):(T="hide",L.style.overflowY="hidden"),R(L,Z,P),n=setTimeout(()=>{n=null,L.style.height=`${L.scrollHeight}px`,h=B=>{f=null,(Object(B)!==B||B.target===L)&&D(L,"show")},L.addEventListener("transitionend",h),f=setTimeout(h,e.duration*1.1)},100)}function F(L,P){let Z;c=L,t===!0?y():(T="show",L.style.overflowY="hidden",Z=L.scrollHeight),R(L,Z,P),n=setTimeout(()=>{n=null,L.style.height=0,h=B=>{f=null,(Object(B)!==B||B.target===L)&&D(L,"hide")},L.addEventListener("transitionend",h),f=setTimeout(h,e.duration*1.1)},100)}return ot(()=>{t===!0&&y()}),()=>W(Rl,{css:!1,appear:e.appear,onEnter:b,onLeave:F},l.default)}});function $l(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const l=parseInt(e,10);return isNaN(l)?0:l}const kt=tn({name:"close-popup",beforeMount(e,{value:l}){const s={depth:$l(l),handler(t){s.depth!==0&&setTimeout(()=>{const r=ln(e);r!==void 0&&an(r,t,s.depth)})},handlerKey(t){fl(t,13)===!0&&s.handler(t)}};e.__qclosepopup=s,e.addEventListener("click",s.handler),e.addEventListener("keyup",s.handlerKey)},updated(e,{value:l,oldValue:s}){l!==s&&(e.__qclosepopup.depth=$l(l))},beforeUnmount(e){const l=e.__qclosepopup;e.removeEventListener("click",l.handler),e.removeEventListener("keyup",l.handlerKey),delete e.__qclosepopup}});function Pn(){return il(nn)}const Mn=va({__name:"TeamArrangement",props:{team1:{},team2:{},createBalancedMatch:{type:Function}},emits:["update:team1","update:team2"],setup(e,{expose:l,emit:s}){l();const t=e,r=s,c=E(null),n=E(null),f=B=>B.reduce((k,H)=>k+H.level,0),h=()=>Math.abs(f(t.team1)-f(t.team2)),Z={props:t,emit:r,selectedForSwap:c,selectedForSwapTeam:n,getTeamSkill:f,getSkillDifference:h,isBalanced:()=>h()<=1,getBalanceColor:()=>{const B=h();return B===0?"green":B===1?"light-green":B===2?"orange":"red"},getBalanceIcon:()=>{const B=h();return B===0?"verified":B===1?"check_circle":B===2?"warning":"error"},getBalanceText:()=>{const B=h();return B===0?"Perfect Balance":B===1?"Well Balanced":B===2?"Slightly Unbalanced":"Very Unbalanced"},getLevelColor:B=>{switch(B){case 1:return"green-6";case 2:return"orange-7";case 3:return"red-8";default:return"grey-5"}},balanceTeams:()=>{const B=[...t.team1,...t.team2],k=t.createBalancedMatch(B);r("update:team1",[k[0],k[1]]),r("update:team2",[k[2],k[3]])},shuffleTeams:()=>{const B=[...t.team1,...t.team2];for(let k=B.length-1;k>0;k--){const H=Math.floor(Math.random()*(k+1));[B[k],B[H]]=[B[H],B[k]]}r("update:team1",[B[0],B[1]]),r("update:team2",[B[2],B[3]])},selectPlayerForSwap:(B,k)=>{if(!c.value){c.value=B,n.value=k;return}if(c.value.name===B.name){c.value=null,n.value=null;return}const H=[...t.team1],C=[...t.team2],Q=H.filter(le=>le.name!==c.value.name&&le.name!==B.name),te=C.filter(le=>le.name!==c.value.name&&le.name!==B.name);n.value==="team1"?te.push(c.value):Q.push(c.value),k==="team1"?te.push(B):Q.push(B),r("update:team1",Q),r("update:team2",te),c.value=null,n.value=null}};return Object.defineProperty(Z,"__isScriptSetup",{enumerable:!1,value:!0}),Z}}),Tn={class:"team-arrangement"},An={class:"balance-indicator q-mb-lg"},Vn={class:"row items-center justify-between"},zn={class:"row items-center q-gutter-sm"},Ln={class:"text-caption text-grey-7 q-mt-xs"},Bn={class:"row q-mb-lg q-gutter-sm"},En={class:"row q-col-gutter-lg"},Fn={class:"col-12 col-md-6"},Rn={class:"text-h6"},Dn={class:"text-caption text-grey-6 q-mb-sm text-center"},In={key:1,class:"text-center text-grey-6 q-pa-md empty-team-drop"},On={class:"col-12 col-md-6"},Hn={class:"text-h6"},Qn={class:"text-caption text-grey-6 q-mb-sm text-center"},Nn={key:1,class:"text-center text-grey-6 q-pa-md empty-team-drop"};function Wn(e,l,s,t,r,c){return _(),ee("div",Tn,[m("div",An,[m("div",Vn,[l[1]||(l[1]=m("div",{class:"text-subtitle1"},"Team Balance",-1)),m("div",zn,[a(ve,{color:t.getBalanceColor(),"text-color":"white",icon:t.getBalanceIcon(),size:"md"},{default:o(()=>[x(w(t.getBalanceText()),1)]),_:1},8,["color","icon"]),t.isBalanced()?we("",!0):(_(),$(N,{key:0,name:"warning",color:"orange",size:"sm"},{default:o(()=>[a(ge,null,{default:o(()=>l[0]||(l[0]=[x("Teams are unbalanced. Consider using Balance Teams button.")])),_:1})]),_:1}))])]),m("div",Ln," Skill difference: "+w(t.getSkillDifference())+" point"+w(t.getSkillDifference()!==1?"s":"")+" (Team 1: "+w(t.getTeamSkill(s.team1))+" vs Team 2: "+w(t.getTeamSkill(s.team2))+") ",1)]),m("div",Bn,[a(U,{color:"accent",label:"Balance Teams",icon:"balance",onClick:t.balanceTeams,outline:""},{default:o(()=>[a(ge,null,{default:o(()=>l[2]||(l[2]=[x("Use smart algorithm to create balanced teams")])),_:1})]),_:1}),a(U,{color:"accent",label:"Shuffle",icon:"shuffle",onClick:t.shuffleTeams,outline:""},{default:o(()=>[a(ge,null,{default:o(()=>l[3]||(l[3]=[x("Randomly assign players to teams")])),_:1})]),_:1})]),m("div",En,[m("div",Fn,[a(je,{flat:"",bordered:""},{default:o(()=>[a(Ce,{class:"bg-blue-6 text-white"},{default:o(()=>[m("div",Rn,[l[4]||(l[4]=x(" Team 1 ")),a(ve,{label:`Skill: ${t.getTeamSkill(s.team1)}`,color:"white","text-color":"blue-6",size:"sm",class:"q-ml-sm"},null,8,["label"])])]),_:1}),a(Ce,{class:"team-drop-area"},{default:o(()=>[m("div",Dn,[a(N,{name:"touch_app",size:"xs"}),l[5]||(l[5]=x(" Click to select, click another to swap "))]),s.team1.length>0?(_(),$(Ne,{key:0},{default:o(()=>[(_(!0),ee(Te,null,We(s.team1,(n,f)=>(_(),$(xe,{key:n.name,clickable:"",class:Ue(["team-player-item swappable-player",{"selected-for-swap":t.selectedForSwap?.name===n.name,"can-swap-with":t.selectedForSwap&&t.selectedForSwap.name!==n.name}]),onClick:h=>t.selectPlayerForSwap(n,"team1")},{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(Kt,{color:t.getLevelColor(n.level),"text-color":"white",class:Ue({"swap-pulse":t.selectedForSwap?.name===n.name})},{default:o(()=>[x(w(f+1)+" ",1),a(ge,null,{default:o(()=>[x(w(n.name)+" - Level "+w(n.level)+" - Position "+w(f+1),1)]),_:2},1024)]),_:2},1032,["color","class"])]),_:2},1024),a(Y,null,{default:o(()=>[a(ye,{class:"text-weight-medium"},{default:o(()=>[x(w(n.name)+" ",1),t.selectedForSwap?.name===n.name?(_(),$(N,{key:0,name:"check_circle",color:"green",size:"sm",class:"q-ml-xs swap-icon-pulse"})):we("",!0)]),_:2},1024),a(ye,{caption:""},{default:o(()=>[x("Level "+w(n.level),1)]),_:2},1024)]),_:2},1024),a(Y,{side:""},{default:o(()=>[a(N,{name:"swap_horiz",color:"grey-5",size:"sm"})]),_:1})]),_:2},1032,["class","onClick"]))),128))]),_:1})):(_(),ee("div",In,[a(N,{name:"group_add",size:"lg",color:"grey-4"}),l[6]||(l[6]=m("p",{class:"q-mt-sm"},"Click to assign",-1))]))]),_:1})]),_:1})]),m("div",On,[a(je,{flat:"",bordered:""},{default:o(()=>[a(Ce,{class:"bg-orange-6 text-white"},{default:o(()=>[m("div",Hn,[l[7]||(l[7]=x(" Team 2 ")),a(ve,{label:`Skill: ${t.getTeamSkill(s.team2)}`,color:"white","text-color":"orange-6",size:"sm",class:"q-ml-sm"},null,8,["label"])])]),_:1}),a(Ce,{class:"team-drop-area"},{default:o(()=>[m("div",Qn,[a(N,{name:"touch_app",size:"xs"}),l[8]||(l[8]=x(" Click to select, click another to swap "))]),s.team2.length>0?(_(),$(Ne,{key:0},{default:o(()=>[(_(!0),ee(Te,null,We(s.team2,(n,f)=>(_(),$(xe,{key:n.name,clickable:"",class:Ue(["team-player-item swappable-player",{"selected-for-swap":t.selectedForSwap?.name===n.name,"can-swap-with":t.selectedForSwap&&t.selectedForSwap.name!==n.name}]),onClick:h=>t.selectPlayerForSwap(n,"team2")},{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(Kt,{color:t.getLevelColor(n.level),"text-color":"white",class:Ue({"swap-pulse":t.selectedForSwap?.name===n.name})},{default:o(()=>[x(w(f+1)+" ",1),a(ge,null,{default:o(()=>[x(w(n.name)+" - Level "+w(n.level)+" - Position "+w(f+1),1)]),_:2},1024)]),_:2},1032,["color","class"])]),_:2},1024),a(Y,null,{default:o(()=>[a(ye,{class:"text-weight-medium"},{default:o(()=>[x(w(n.name)+" ",1),t.selectedForSwap?.name===n.name?(_(),$(N,{key:0,name:"check_circle",color:"green",size:"sm",class:"q-ml-xs swap-icon-pulse"})):we("",!0)]),_:2},1024),a(ye,{caption:""},{default:o(()=>[x("Level "+w(n.level),1)]),_:2},1024)]),_:2},1024),a(Y,{side:""},{default:o(()=>[a(N,{name:"swap_horiz",color:"grey-5",size:"sm"})]),_:1})]),_:2},1032,["class","onClick"]))),128))]),_:1})):(_(),ee("div",Nn,[a(N,{name:"group_add",size:"lg",color:"grey-4"}),l[9]||(l[9]=m("p",{class:"q-mt-sm"},"Click to assign",-1))]))]),_:1})]),_:1})])])])}const jn=ga(Mn,[["render",Wn],["__scopeId","data-v-98afa0fc"],["__file","TeamArrangement.vue"]]),Un=va({__name:"IndexPage",setup(e,{expose:l}){l();const s=Pn(),t=E($e()),r=E(yt()),c=E(Gt()),n=E(null),f=E(null),h=E(bt().availableCourts),T=E(bt().autoAssignCourts),y=E(bt().autoAdvanceMatches),R=E(8),D=()=>typeof h.value=="object"&&h.value!==null?h.value.value:h.value||2,b=E(!1),F=E(!1),L=E(!1),P=E(!1),Z=E(!1),B=E(!1),k=E(null),H=E(null),C=E(-1),Q=E(-1),te=E(!1),le=E(1),K=E([]),ue=E([]),me=E([]),fe=E(null),ke=E(!1),Fe=E(null),Ae=E(null),ce=E(Tt().sortBy),Re=E(Tt().matchesFilterBy),re=E(Tt().matchType),pe=E(Ge().queueReturnMethod),qe=E(Ge().autoSortQueue),g=E(-1),M=[{label:"Beginner",value:1,description:"New to the game"},{label:"Intermediate",value:2,description:"Some experience"},{label:"Advanced",value:3,description:"Experienced player"}],O=[{label:"Singles (1v1)",value:"singles"},{label:"Doubles (2v2)",value:"doubles"}],ae=[{label:"Games played",value:"gamesPlayed"},{label:"Wins",value:"wins"},{label:"Losses",value:"losses"},{label:"Name",value:"name"}],ne=S(()=>{const u=[{label:"All",value:"all"}],d=typeof h.value=="number"?h.value:h.value.value;for(let v=1;v<=d;v++)u.push({label:`Court ${v}`,value:v});return u}),J=[{label:"Fairness First (Recommended)",value:"fairness_first",description:"Players return to front, maintaining fairness"},{label:"End of Queue",value:"end_of_queue",description:"Players added to end of queue"},{label:"Smart Position",value:"smart_position",description:"Calculate position based on games played"}],G=S(()=>Array.from({length:R.value},(u,d)=>({label:`${d+1} Court${d>0?"s":""}`,value:d+1}))),he=S(()=>{const u=Math.max(D(),2);return Array.from({length:u},(d,v)=>({value:v+1,label:`Court ${v+1}`}))}),q=S(()=>{const u=r.value.length,d=r.value.filter(z=>z.level===1).length,v=r.value.filter(z=>z.level===2).length,p=r.value.filter(z=>z.level===3).length;return{total:u,level1:d,level2:v,level3:p}}),Se=S(()=>[...t.value].sort((u,d)=>{if(ce.value==="gamesPlayed"){if(u.gamesPlayed!==d.gamesPlayed)return d.gamesPlayed-u.gamesPlayed}else if(ce.value==="wins"){if(u.wins!==d.wins)return d.wins-u.wins}else if(ce.value==="losses"){if(u.losses!==d.losses)return d.losses-u.losses}else if(ce.value==="name")return u.name.localeCompare(d.name);return u.name.localeCompare(d.name)})),Ie=S(()=>Re.value==="all"?c.value:c.value.filter(u=>u.court===Re.value)),it=S(()=>C.value>=0&&C.value<c.value.length?c.value[C.value].players:[]),Oe=u=>{switch(u){case 1:return"green-6";case 2:return"orange-7";case 3:return"red-8";default:return"grey-5"}},Pt=u=>{switch(u){case 1:return"star_border";case 2:return"star_half";case 3:return"star";default:return"star_outline"}},Xe=()=>{const u=r.value.length,d=re.value==="singles"?2:4;return u>=d},Ze=()=>{const u=r.value.length,d=re.value==="singles"?2:4;if(u<d)return`Need ${d-u} more player${d-u>1?"s":""} to generate ${re.value} matches`;const v=Math.floor(u/d),p=u%d;return p===0?`Can generate ${v} ${re.value} match${v>1?"es":""}`:re.value==="singles"?`Can generate ${v} singles match${v>1?"es":""} (1 player will wait)`:p===1?`Can generate ${v} match${v>1?"es":""} (1 player will wait)`:p===2?`Can generate ${v} match${v>1?"es":""} (2 players will wait)`:`Can generate ${v} match${v>1?"es":""} (3 players will wait)`},Mt=()=>{const u=r.value.length,d=re.value==="singles"?2:4,v=u%d;if(v===0)return"";if(re.value==="singles")return"1 player waiting - Practice serves or warm up";const p={1:"Practice serves or warm up",2:"Practice doubles positioning",3:"Practice singles or wait for 1 more player"};return`${v} player${v>1?"s":""} waiting - ${p[v]}`},gt=u=>{switch(u){case"waiting":return"grey-6";case"in-progress":return"green-6";case"completed":return"blue-6";default:return"grey-6"}},Rt=u=>{switch(u){case"waiting":return"Waiting";case"in-progress":return"In Progress";case"completed":return"Completed";default:return"Unknown"}},ht=u=>{if(u.priority==="returned")return"Recently returned";if(u.originalQueueTime){const v=new Date().getTime()-new Date(u.originalQueueTime).getTime(),p=Math.floor(v/6e4);return p<1?"Just joined":p<60?`${p}m ago`:`${Math.floor(p/60)}h ago`}return"In queue"},Ve=()=>{qe.value&&(r.value.sort((u,d)=>u.gamesPlayed-d.gamesPlayed),Me(r.value))},Pe=u=>{const d=[...r.value].sort((p,z)=>p.gamesPlayed-z.gamesPlayed),v=u.gamesPlayed;for(let p=0;p<d.length;p++)if(d[p].gamesPlayed>v)return p;return r.value.length};function $e(){const u=localStorage.getItem("playerList");return(u?JSON.parse(u):[]).map(v=>({...v,wins:v.wins||0,losses:v.losses||0}))}function yt(){const u=localStorage.getItem("playerQueue");return(u?JSON.parse(u):[]).map(v=>({...v,wins:v.wins||0,losses:v.losses||0}))}function Gt(){const u=localStorage.getItem("matches"),d=u?JSON.parse(u):[];return d.length>0&&Array.isArray(d[0])&&!("id"in d[0])?d.map((v,p)=>({id:`match-${Date.now()}-${p}`,players:v.map(z=>({...z,wins:z.wins||0,losses:z.losses||0})),status:"waiting",order:p+1,createdAt:new Date})):d.map(v=>({...v,status:v.status||"waiting",order:v.order||1,createdAt:v.createdAt?new Date(v.createdAt):new Date}))}function et(u){localStorage.setItem("playerList",JSON.stringify(u))}function Me(u){localStorage.setItem("playerQueue",JSON.stringify(u))}function He(u){localStorage.setItem("matches",JSON.stringify(u))}function bt(){const u=localStorage.getItem("courtSettings");if(u){const d=JSON.parse(u);return{availableCourts:d.availableCourts||2,autoAssignCourts:d.autoAssignCourts!==void 0?d.autoAssignCourts:!0,autoAdvanceMatches:d.autoAdvanceMatches!==void 0?d.autoAdvanceMatches:!0}}return{availableCourts:2,autoAssignCourts:!0,autoAdvanceMatches:!0}}function Qe(){localStorage.setItem("courtSettings",JSON.stringify({availableCourts:h.value,autoAssignCourts:T.value,autoAdvanceMatches:y.value}))}function Ge(){const u=localStorage.getItem("queueSettings");if(u){const d=JSON.parse(u);return{queueReturnMethod:d.queueReturnMethod||"fairness_first",autoSortQueue:d.autoSortQueue!==void 0?d.autoSortQueue:!0}}return{queueReturnMethod:"fairness_first",autoSortQueue:!0}}function tt(){localStorage.setItem("queueSettings",JSON.stringify({queueReturnMethod:pe.value,autoSortQueue:qe.value}))}function Tt(){const u=localStorage.getItem("uiSettings");if(u){const d=JSON.parse(u);return{sortBy:d.sortBy||"gamesPlayed",matchType:d.matchType||"doubles",matchesFilterBy:d.matchesFilterBy||"all"}}return{sortBy:"gamesPlayed",matchType:"doubles",matchesFilterBy:"all"}}function st(){localStorage.setItem("uiSettings",JSON.stringify({sortBy:ce.value,matchType:re.value,matchesFilterBy:Re.value}))}se(h,()=>{Qe()}),se(T,()=>{Qe()}),se(y,()=>{Qe()}),se(pe,()=>{tt()}),se(qe,()=>{tt()}),se(ce,()=>{st()}),se(re,()=>{st()}),se(Re,()=>{st()});const Dt=()=>{const u=[],d=[...r.value].sort((I,j)=>I.gamesPlayed-j.gamesPlayed),v=re.value==="singles"?2:4,p=Math.floor(d.length/v);for(let I=0;I<p;I++){const j=d.splice(0,v);let ze;re.value==="singles"?ze=j:ze=Vt(j);const de={id:`match-${Date.now()}-${I}`,players:ze,status:"waiting",order:c.value.length+I+1,createdAt:new Date,court:void 0,startedAt:void 0};u.push(de)}T.value&&u.length>0&&It(u);const z=u.flatMap(I=>I.players.map(j=>j.name));return r.value=r.value.filter(I=>!z.includes(I.name)),u},At=()=>{const u=D();for(let z=1;z<=u;z++)if(!c.value.some(j=>j.court===z&&j.status==="in-progress"))return z;const d=new Map;for(let z=1;z<=u;z++)d.set(z,0);c.value.forEach(z=>{if(z.court){const I=d.get(z.court)||0;d.set(z.court,I+1)}});let v=1,p=d.get(1)||0;for(let z=1;z<=u;z++){const I=d.get(z)||0;I<p&&(p=I,v=z)}return v},It=u=>{const d=D(),v=new Map;for(let p=1;p<=d;p++)v.set(p,0);c.value.forEach(p=>{if(p.court){const z=v.get(p.court)||0;v.set(p.court,z+1)}});for(let p=0;p<u.length;p++){const z=u[p];let I=1,j=v.get(1)||0;for(let De=1;De<=d;De++){const al=v.get(De)||0;al<j&&(j=al,I=De)}z.court=I;const ze=v.get(I)||0;v.set(I,ze+1),!c.value.some(De=>De.court===I&&De.status==="in-progress")?(z.status="in-progress",z.startedAt=new Date):z.status="waiting"}},Vt=u=>{const d=[...u].sort((de,De)=>de.level-De.level),p=Ot(d).map(de=>{const De=de.team1,al=de.team2,Hl=De.reduce((Pl,Ml)=>Pl+Ml.level,0),Ql=al.reduce((Pl,Ml)=>Pl+Ml.level,0),xa=Math.abs(Hl-Ql);return{...de,difference:xa,team1Skill:Hl,team2Skill:Ql}});p.sort((de,De)=>de.difference-De.difference);const z=p[0].difference,I=p.filter(de=>de.difference<=z+1),j=Math.floor(Math.random()*I.length),ze=I[j];return[...ze.team1,...ze.team2]},Ot=u=>{const d=[],v=[0,1,2,3],p=[[0,1],[0,2],[0,3],[1,2],[1,3],[2,3]];for(const z of p){const I=v.filter(de=>!z.includes(de)),j=z.map(de=>u[de]),ze=I.map(de=>u[de]);d.push({team1:j,team2:ze})}return d},Jt=()=>{if(!n.value?.trim()){s.notify({type:"negative",message:"Please enter a player name",position:"top"});return}if(f.value===null){s.notify({type:"negative",message:"Please select a player level",position:"top"});return}const u=n.value.trim();if(t.value.some(v=>v.name.toLowerCase()===u.toLowerCase())){s.notify({type:"negative",message:`Player "${u}" already exists`,position:"top"});return}const d={name:u,level:f.value,gamesPlayed:0,wins:0,losses:0};t.value.push(d),r.value.push(d),et(t.value),Me(r.value),s.notify({type:"positive",message:`Player "${u}" added successfully`,position:"top"}),n.value=null,f.value=null,b.value=!1},hl=()=>{const u=Math.floor(r.value.length/(re.value==="singles"?2:4));s.dialog({title:"Confirm Match Generation",message:`Generate ${u} ${re.value} match${u>1?"es":""} from the queue?`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Generate",color:"accent",icon:"auto_awesome"}}).onOk(()=>{Yt()})},Yt=()=>{const u=Dt();if(c.value=[...c.value,...u],Me(r.value),He(c.value),u.length>0){const d=r.value.length;let v=`Generated ${u.length} new match(es)`;d>0&&(v+=`. ${d} player${d>1?"s":""} waiting for more players`,d===1?v+=" (suggest: practice serves or warm up)":d===2?v+=" (suggest: practice doubles positioning)":d===3&&(v+=" (suggest: practice singles or wait for 1 more player)")),s.notify({type:"positive",message:v,position:"top",timeout:5e3})}else s.notify({type:"warning",message:"Not enough players in queue to generate matches",position:"top"})},Xt=u=>{C.value=u,H.value=null,L.value=!0},yl=()=>{if(H.value===null||C.value===-1)return;const u=H.value==="team1"?"Team 1":"Team 2";s.dialog({title:"Complete Match",message:`Confirm ${u} as the winner? This will update player stats and remove the match.`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Complete",color:"accent",icon:"check"}}).onOk(()=>{const d=c.value[C.value];d.players.forEach(v=>{const p=t.value.find(z=>z.name===v.name);if(p){p.gamesPlayed++;const z=d.players.findIndex(de=>de.name===v.name),j=d.players.length===2?z===0:z<2;H.value==="team1"&&j||H.value==="team2"&&!j?p.wins++:p.losses++}}),c.value.splice(C.value,1),Ht(d.court),He(c.value),et(t.value),L.value=!1,H.value=null,C.value=-1,s.notify({type:"positive",message:"Match completed! Stats updated.",position:"top"})})},Ht=u=>{if(!y.value)return;const d=c.value.find(v=>v.status==="waiting"&&v.court===u);d&&(d.status="in-progress",d.startedAt=new Date,He(c.value),s.notify({type:"info",message:`Next match started on Court ${u}`,position:"top",timeout:3e3}))},zt=u=>{s.dialog({title:"Confirm Removal",message:`Are you sure you want to remove "${u}" from all lists?`,cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Remove",color:"negative",icon:"delete"},persistent:!0}).onOk(()=>{t.value=t.value.filter(d=>d.name!==u),r.value=r.value.filter(d=>d.name!==u),et(t.value),Me(r.value),s.notify({type:"positive",message:`Player "${u}" removed successfully`,position:"top"})})},pt=u=>{s.dialog({title:"Remove from Queue",message:`Remove "${u}" from the queue?`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Remove",color:"negative",icon:"remove_circle"}}).onOk(()=>{r.value=r.value.filter(d=>d.name!==u),Me(r.value),s.notify({type:"info",message:`Player "${u}" removed from queue`,position:"top"})})},ut=()=>{s.dialog({title:"Confirm Reset",message:"Are you sure you want to reset all games played counters to zero?",cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Reset",color:"negative",icon:"refresh"},persistent:!0}).onOk(()=>{t.value.forEach(u=>{u.gamesPlayed=0,u.wins=0,u.losses=0}),et(t.value),s.notify({type:"positive",message:"All games played counters have been reset",position:"top"})})},bl=u=>{const d=t.value.find(v=>v.name===u);if(d){if(r.value.some(p=>p.name===u)){s.notify({type:"warning",message:`Player "${u}" is already in the queue`,position:"top"});return}const v={...d,originalQueueTime:new Date,priority:"normal"};r.value.push(v),Ve(),s.notify({type:"positive",message:`Player "${u}" added to queue`,position:"top"})}},Qt=(u,d,v)=>{const p=new Date,z=u.map(I=>({...I,originalQueueTime:p,priority:v==="cancelled"?"high":"returned"}));switch(d){case"fairness_first":r.value.unshift(...z);break;case"end_of_queue":r.value.push(...z);break;case"smart_position":z.forEach(I=>{const j=Pe(I);r.value.splice(j,0,I)});break}Ve(),Me(r.value),s.notify({type:"positive",message:`${u.length} player(s) returned to queue using ${d} method`,position:"top"})},pl=()=>{s.dialog({title:"Confirm Reset All",message:"This will clear all players, queue, and matches. Are you sure?",cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Reset All",color:"negative",icon:"delete_forever"},persistent:!0}).onOk(()=>{t.value=[],r.value=[],c.value=[],et(t.value),Me(r.value),He(c.value),s.notify({type:"positive",message:"All data has been reset",position:"top"})})},wl=()=>{K.value=[],ue.value=[],me.value=[],le.value=1,te.value=!0},Sl=()=>{K.value=[],ue.value=[],me.value=[],le.value=1,Fe.value=null,Ae.value=null,fe.value=null,ke.value=!1,te.value=!1},_l=u=>{const d=K.value.findIndex(p=>p.name===u.name),v=re.value==="singles"?2:4;d>=0?K.value.splice(d,1):K.value.length<v?K.value.push(u):s.notify({type:"warning",message:`You can only select ${v} players`,position:"top"})},xl=u=>K.value.some(d=>d.name===u.name),Cl=()=>{const u=K.value.length;if(u<2){s.notify({type:"warning",message:"Please select at least 2 players",position:"top"});return}if(u>4){s.notify({type:"warning",message:"Maximum 4 players allowed for tennis matches",position:"top"});return}if(u===4){const d=Vt([...K.value]);ue.value=[d[0],d[1]],me.value=[d[2],d[3]]}else ue.value=[],me.value=[];le.value=2},kl=()=>{if(K.value.length!==2){s.notify({type:"warning",message:"Please select exactly 2 players",position:"top"});return}le.value=3},rt=()=>{if(ue.value.length!==2||me.value.length!==2){s.notify({type:"warning",message:"Please arrange both teams properly",position:"top"});return}le.value=3},ct=()=>{fe.value=null},lt=()=>{ke.value=!ke.value},dt=u=>c.value.filter(d=>d.court===u).length,Nt=()=>{const u=new Map,d=D();for(let I=1;I<=d;I++)u.set(I,0);c.value.forEach(I=>{if(I.court){const j=u.get(I.court)||0;u.set(I.court,j+1)}});let v=1,p=u.get(1)||0;for(let I=1;I<=d;I++){const j=u.get(I)||0;j<p&&(p=j,v=I)}const z=u.get(v)||0;return`Will assign Court ${v} (least busy court, ${z} matches)`},ql=u=>{fe.value=u},Zt=()=>{let u;re.value==="doubles"?u=[...ue.value,...me.value]:u=[...K.value];const d=fe.value||(T.value?At():void 0),v=!d||!c.value.some(I=>I.court===d&&I.status==="in-progress"),p={id:`match-${Date.now()}`,players:u,status:v?"in-progress":"waiting",order:c.value.length+1,createdAt:new Date,court:d,startedAt:v?new Date:void 0};c.value.push(p);const z=p.players.map(I=>I.name);r.value=r.value.filter(I=>!z.includes(I.name)),He(c.value),Me(r.value),te.value=!1,K.value=[],ue.value=[],me.value=[],fe.value=null,le.value=1,s.notify({type:"positive",message:`Manual match created successfully${p.court?` on Court ${p.court}`:""}!`,position:"top"})},$t=u=>{s.dialog({title:"Cancel Match",message:"Are you sure you want to cancel this match? All players will return to the queue.",cancel:{label:"Keep Match",color:"grey",flat:!0},ok:{label:"Cancel Match",color:"negative",icon:"cancel"},persistent:!0}).onOk(()=>{const v=c.value[u].players;s.dialog({title:"Return Players to Queue",message:`How should ${v.length} player(s) be returned to the queue?`,options:{type:"radio",model:pe.value,items:J},cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Return to Queue",color:"accent",icon:"queue"}}).onOk(p=>{p&&p!==pe.value&&(pe.value=p,tt()),Qt(v,p||pe.value,"cancelled"),c.value.splice(u,1),He(c.value),Me(r.value),s.notify({type:"positive",message:"Match cancelled and players returned to queue",position:"top"})})})},el=u=>{Q.value=u,B.value=!0},tl=()=>{const u=Q.value,d=c.value[u],v=At();if(v>0){d.court=v,He(c.value);const p=c.value.filter(z=>z.court===v).length;s.notify({type:"positive",message:`Assigned to Court ${v} (${p} total matches)`,position:"top"})}else s.notify({type:"negative",message:"No available courts",position:"top"});B.value=!1},i=u=>{const d=Q.value,v=c.value[d];v.court=u,He(c.value);const p=c.value.filter(z=>z.court===u).length;s.notify({type:"positive",message:`Assigned to Court ${u} (${p} total matches)`,position:"top"}),B.value=!1},A=u=>{g.value=u,P.value=!0,le.value=1,K.value=[...c.value[u].players];const d=c.value[u];d.players.length===4?(ue.value=[d.players[0],d.players[1]],me.value=[d.players[2],d.players[3]]):(ue.value=[],me.value=[])},V=()=>{const u=c.value[g.value];let d;oe.value==="doubles"&&K.value.length===4&&ue.value.length===2&&me.value.length===2?d=[...ue.value,...me.value]:d=[...K.value],c.value[g.value].players=d;const v=X(u.players,d);He(c.value),Me(r.value),P.value=!1,K.value=[],ue.value=[],me.value=[],le.value=1,Fe.value=null,Ae.value=null;let p="Match updated successfully!";if(v.removed.length>0||v.added.length>0){const z=[];v.removed.length>0&&z.push(`${v.removed.length} player(s) returned to queue`),v.added.length>0&&z.push(`${v.added.length} player(s) removed from queue`),p+=` (${z.join(", ")})`}s.notify({type:"positive",message:p,position:"top",timeout:4e3})},X=(u,d)=>{const v=u.map(j=>j.name),p=d.map(j=>j.name),z=u.filter(j=>!p.includes(j.name)),I=d.filter(j=>!v.includes(j.name));return console.log("Queue Update Analysis:",{original:v,updated:p,removed:z.map(j=>j.name),added:I.map(j=>j.name)}),I.forEach(j=>{const ze=r.value.findIndex(de=>de.name===j.name);ze>=0&&(r.value.splice(ze,1),console.log(`Removed ${j.name} from queue (now in match)`))}),z.forEach(j=>{if(r.value.some(de=>de.name===j.name))console.log(`${j.name} is already in queue, skipping`);else{const de={...j,priority:"returned",originalQueueTime:new Date,lastMatchTime:new Date};console.log(`Adding ${j.name} back to queue with priority: returned`),Qt([de],pe.value,"edited")}}),qe.value&&Ve(),Me(r.value),{removed:z,added:I}},ie=S(()=>{const u=K.value.map(d=>d.name);return r.value.filter(d=>!u.includes(d.name))}),oe=S(()=>K.value.length===4?"doubles":"singles"),Ol={$q:s,players:t,queue:r,matches:c,newPlayerName:n,newPlayerLevel:f,availableCourts:h,autoAssignCourts:T,autoAdvanceMatches:y,maxCourts:R,getCourtCount:D,showAddPlayerDialog:b,showSettingsDialog:F,showMatchResultDialog:L,showMatchEditDialog:P,showReplacePlayerDialog:Z,showCourtSelectionDialog:B,playerToReplaceInEdit:k,selectedWinner:H,currentMatchIndex:C,currentMatchForCourtAssignment:Q,showManualSelectionDialog:te,manualSelectionStep:le,selectedPlayers:K,manualTeam1:ue,manualTeam2:me,selectedCourt:fe,showManualSelection:ke,selectedForSwap:Fe,selectedForSwapTeam:Ae,sortBy:ce,matchesFilterBy:Re,matchType:re,queueReturnMethod:pe,autoSortQueue:qe,currentMatchIndexForActions:g,levelOptions:M,matchTypeOptions:O,sortOptions:ae,matchesFilterOptions:ne,queueReturnOptions:J,courtOptions:G,courtSelectionOptions:he,queueStats:q,sortedPlayers:Se,filteredMatches:Ie,currentMatch:it,getLevelColor:Oe,getLevelIcon:Pt,canGenerateMatches:Xe,getMatchGenerationHint:Ze,getWaitingPlayersInfo:Mt,getMatchStatusColor:gt,getMatchStatusLabel:Rt,getQueueTimeInfo:ht,sortQueueByFairness:Ve,calculateSmartPosition:Pe,getPlayersFromStorage:$e,getQueueFromStorage:yt,getMatchesFromStorage:Gt,savePlayersToStorage:et,saveQueueToStorage:Me,saveMatchesToStorage:He,getCourtSettingsFromStorage:bt,saveCourtSettingsToStorage:Qe,getQueueSettingsFromStorage:Ge,saveQueueSettingsToStorage:tt,getUISettingsFromStorage:Tt,saveUISettingsToStorage:st,generateMatches:Dt,assignCourt:At,assignCourtsToMatches:It,createBalancedMatch:Vt,generateTeamCombinations:Ot,addNewPlayer:Jt,generateNewMatches:hl,executeMatchGeneration:Yt,openMatchResultDialog:Xt,completeMatch:yl,autoAdvanceNextMatchForCourt:Ht,removePlayer:zt,removeFromQueue:pt,resetGamesPlayed:ut,requeuePlayer:bl,executeQueueReturn:Qt,resetAllData:pl,startManualSelection:wl,cancelManualSelection:Sl,togglePlayerSelection:_l,isPlayerSelected:xl,proceedToTeamArrangement:Cl,proceedToCourtSelection:kl,proceedToCourtSelectionFromTeams:rt,selectAutoCourt:ct,toggleManualSelection:lt,getCourtMatchCount:dt,getAutoAssignDescription:Nt,selectSpecificCourt:ql,createManualMatchWithCourt:Zt,cancelMatch:$t,openCourtSelectionDialog:el,assignCourtAutomatically:tl,assignSpecificCourt:i,editMatch:A,saveMatchEdit:V,updateQueueAfterEdit:X,availableQueuePlayers:ie,currentMatchType:oe,removePlayerFromEdit:u=>{const d=K.value.findIndex(v=>v.name===u.name);d>=0&&(K.value.splice(d,1),s.notify({type:"info",message:`Removed ${u.name} from match`,position:"top",timeout:2e3}))},addPlayerToEdit:u=>{K.value.length<4&&(K.value.push(u),s.notify({type:"positive",message:`Added ${u.name} to match`,position:"top",timeout:2e3}))},replacePlayerInEdit:u=>{if(ie.value.length===0){s.notify({type:"warning",message:"No players available in queue to replace with",position:"top"});return}k.value=u,Z.value=!0},selectReplacementPlayer:u=>{if(!k.value)return;const d=K.value.findIndex(v=>v.name===k.value.name);d>=0&&(K.value[d]=u,s.notify({type:"positive",message:`Replaced ${k.value.name} with ${u.name}`,position:"top"})),Z.value=!1,k.value=null},TeamArrangement:jn};return Object.defineProperty(Ol,"__isScriptSetup",{enumerable:!1,value:!0}),Ol}}),Kn={class:"header-section"},Gn={class:"container"},Jn={class:"row items-center justify-between"},Yn={class:"col-auto"},Xn={class:"container q-pa-md"},Zn={class:"row q-col-gutter-lg"},$n={class:"col-12 col-md-4"},eo={class:"row items-center justify-between q-gutter-sm"},to={class:"text-h6"},lo={class:"card-content"},ao={class:"q-ml-sm text-grey-7"},no={class:"q-ml-sm text-positive"},oo={class:"q-ml-sm text-negative"},io={class:"row items-center q-gutter-xs"},so={key:1,class:"empty-state"},uo={class:"col-12 col-md-4"},ro={class:"row items-center justify-between"},co={class:"text-h6"},mo={class:"queue-stats"},fo={class:"card-content"},vo={class:"q-ml-sm"},go={class:"q-ml-sm text-grey-6"},ho={key:1,class:"empty-state"},yo={class:"q-mb-md"},bo={class:"row q-gutter-sm"},po={class:"text-caption text-grey-6 q-mt-sm text-center"},wo={key:0,class:"q-mt-md"},So={class:"text-caption text-orange q-mt-sm"},_o={class:"col-12 col-md-4"},xo={class:"row items-center justify-between q-gutter-sm"},Co={class:"text-h6"},ko={class:"card-content"},qo={class:"row items-center q-mb-sm"},Po={class:"col"},Mo={class:"row items-center q-gutter-sm"},To={key:0,class:"text-caption text-grey-6"},Ao={key:0,class:"match-teams"},Vo={class:"team team-1"},zo={class:"player-name text-weight-medium"},Lo={class:"player-level text-caption text-grey-6"},Bo={class:"vs-divider"},Eo={class:"team team-2"},Fo={class:"player-name text-weight-medium"},Ro={class:"player-level text-caption text-grey-6"},Do={key:1,class:"match-teams"},Io={class:"team team-1"},Oo={class:"player-name text-weight-medium"},Ho={class:"player-level text-caption text-grey-6"},Qo={class:"player-name text-weight-medium"},No={class:"player-level text-caption text-grey-6"},Wo={class:"vs-divider"},jo={class:"team team-2"},Uo={class:"player-name text-weight-medium"},Ko={class:"player-level text-caption text-grey-6"},Go={class:"player-name text-weight-medium"},Jo={class:"player-level text-caption text-grey-6"},Yo={key:1,class:"empty-state"},Xo={class:"q-gutter-y-md"},Zo={class:"q-gutter-sm"},$o={class:"q-gutter-y-md"},ei={key:0,class:"row q-col-gutter-md"},ti={class:"col-6"},li={class:"text-caption q-mt-sm"},ai={class:"col-6"},ni={class:"text-caption q-mt-sm"},oi={key:1,class:"row q-col-gutter-md"},ii={class:"col-6"},si={class:"col-6"},ui={class:"q-gutter-sm"},ri={class:"q-gutter-y-md"},ci={class:"q-gutter-sm"},di={class:"manual-selection-container"},mi={key:0,class:"selection-step"},fi={class:"text-h6 q-mb-md"},vi={class:"text-caption text-grey-7 q-mb-md"},gi={class:"q-ml-sm text-grey-7"},hi={class:"q-ml-sm text-positive"},yi={class:"q-ml-sm text-negative"},bi={key:1,class:"arrangement-step"},pi={key:2,class:"court-selection-step"},wi={class:"col"},Si={class:"text-caption text-grey-6"},_i={key:0},xi={class:"q-gutter-sm"},Ci={key:0},ki={class:"text-h6 q-mb-md"},qi={class:"q-mb-lg"},Pi={class:"text-subtitle2 q-mb-sm"},Mi={class:"q-ml-sm text-grey-7"},Ti={class:"row items-center q-gutter-xs"},Ai={key:0},Vi={class:"text-subtitle2 q-mb-sm"},zi={class:"q-ml-sm text-grey-7"},Li={key:0,class:"q-ml-sm text-orange"},Bi={key:1,class:"text-center text-grey-6 q-pa-md"},Ei={key:1},Fi={class:"q-gutter-sm"},Ri={class:"text-subtitle2 q-mb-md"},Di={class:"q-ml-sm text-grey-7"},Ii={key:0,class:"q-ml-sm text-orange"},Oi={class:"q-gutter-sm"},Hi={class:"q-gutter-y-md"},Qi={class:"q-gutter-sm"};function Ni(e,l,s,t,r,c){return _(),$(mt,{class:"doubles-queue-page"},{default:o(()=>[m("div",Kn,[m("div",Gn,[m("div",Jn,[l[37]||(l[37]=m("div",{class:"col"},[m("h1",{class:"text-h5 text-weight-bold text-white q-mb-xs"}," 🏓 Queue Master "),m("p",{class:"text-caption text-grey-1 q-ma-none"}," Smart matchmaking for singles & doubles ")],-1)),m("div",Yn,[a(U,{color:"white",icon:"settings",label:"Settings",onClick:l[0]||(l[0]=n=>t.showSettingsDialog=!0),flat:"",size:"sm"},{default:o(()=>[a(ge,null,{default:o(()=>l[36]||(l[36]=[x("Open settings and preferences")])),_:1})]),_:1})])])])]),m("div",Xn,[m("div",Zn,[m("div",$n,[a(je,{class:"players-card",flat:"",bordered:""},{default:o(()=>[a(Ce,{class:"players-header text-white"},{default:o(()=>[m("div",eo,[m("div",to,[a(N,{name:"people",class:"q-mr-sm"}),x(" Players ("+w(t.players.length)+") ",1)]),a(Et,{modelValue:t.sortBy,"onUpdate:modelValue":l[1]||(l[1]=n=>t.sortBy=n),options:t.sortOptions,dense:"",outlined:"",dark:"",color:"white","emit-value":"","map-options":"",class:"text-no-wrap"},{prepend:o(()=>[a(N,{name:"sort"})]),_:1},8,["modelValue"]),a(U,{color:"white",onClick:l[2]||(l[2]=n=>t.showAddPlayerDialog=!0),icon:"person_add",flat:"",round:"",dense:""},{default:o(()=>[a(ge,null,{default:o(()=>l[38]||(l[38]=[x("Add new player to the system")])),_:1})]),_:1})])]),_:1}),a(Ce,{class:"q-pa-none"},{default:o(()=>[m("div",lo,[t.players.length>0?(_(),$(Ne,{key:0,separator:""},{default:o(()=>[(_(!0),ee(Te,null,We(t.sortedPlayers,n=>(_(),$(xe,{key:n.name,class:"player-item"},{default:o(()=>[a(Y,null,{default:o(()=>[a(ye,{class:"text-weight-medium"},{default:o(()=>[x(w(n.name),1)]),_:2},1024),a(ye,{caption:"",class:"q-pl-xs"},{default:o(()=>[a(ve,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),m("span",ao,"Games: "+w(n.gamesPlayed),1),m("span",no,"W: "+w(n.wins),1),m("span",oo,"L: "+w(n.losses),1)]),_:2},1024)]),_:2},1024),a(Y,{side:""},{default:o(()=>[m("div",io,[a(U,{flat:"",round:"",color:"negative",onClick:f=>t.removePlayer(n.name),icon:"delete",size:"sm"},null,8,["onClick"]),a(U,{flat:"",color:"accent",onClick:f=>t.requeuePlayer(n.name),icon:"input",size:"sm",disable:t.queue.some(f=>f.name===n.name)},null,8,["onClick","disable"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(_(),ee("div",so,[a(N,{name:"people",size:"48px",color:"grey-4"}),l[39]||(l[39]=m("p",{class:"text-grey-6 q-mt-sm"},"No players added yet",-1)),l[40]||(l[40]=m("p",{class:"text-caption text-grey-5"},"Click the + button to add your first player",-1))]))])]),_:1})]),_:1})]),m("div",uo,[a(je,{class:"queue-card",flat:"",bordered:""},{default:o(()=>[a(Ce,{class:"queue-header text-white"},{default:o(()=>[m("div",ro,[m("div",co,[a(N,{name:"queue",class:"q-mr-sm"}),x(" Players Queue ("+w(t.queue.length)+") ",1)]),m("div",mo,[a(ve,{label:`L1: ${t.queueStats.level1}`,color:"green-6","text-color":"white",size:"sm"},null,8,["label"]),a(ve,{label:`L2: ${t.queueStats.level2}`,color:"orange-7","text-color":"white",size:"sm"},null,8,["label"]),a(ve,{label:`L3: ${t.queueStats.level3}`,color:"red-8","text-color":"white",size:"sm"},null,8,["label"])])])]),_:1}),a(Ce,{class:"q-pa-none"},{default:o(()=>[m("div",fo,[t.queue.length>0?(_(),$(Ne,{key:0,separator:""},{default:o(()=>[(_(!0),ee(Te,null,We(t.queue,(n,f)=>(_(),$(xe,{key:n.name,class:"queue-item"},{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(Kt,{color:n.priority==="returned"?"warning":"accent","text-color":"white",size:"md"},{default:o(()=>[x(w(f+1)+" ",1),a(ge,null,{default:o(()=>[x(" Position: "+w(f+1)+" ",1),l[41]||(l[41]=m("br",null,null,-1)),x("Games: "+w(n.gamesPlayed)+" ",1),l[42]||(l[42]=m("br",null,null,-1)),x("Priority: "+w(n.priority||"normal"),1)]),_:2},1024)]),_:2},1032,["color"])]),_:2},1024),a(Y,null,{default:o(()=>[a(ye,{class:"text-weight-medium"},{default:o(()=>[x(w(n.name)+" ",1),n.priority==="returned"?(_(),$(ve,{key:0,label:"Returned",color:"warning","text-color":"white",size:"xs",dense:"",class:"q-ml-xs"})):we("",!0)]),_:2},1024),a(ye,{caption:"",class:"q-pl-xs"},{default:o(()=>[a(ve,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),m("span",vo,w(n.gamesPlayed)+" games",1),m("span",go,w(t.getQueueTimeInfo(n)),1)]),_:2},1024)]),_:2},1024),a(Y,{side:""},{default:o(()=>[a(U,{flat:"",round:"",color:"negative",onClick:h=>t.removeFromQueue(n.name),icon:"remove_circle",size:"sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(_(),ee("div",ho,[a(N,{name:"queue",size:"48px",color:"grey-4"}),l[43]||(l[43]=m("p",{class:"text-grey-6 q-mt-sm"},"Queue is empty",-1)),l[44]||(l[44]=m("p",{class:"text-caption text-grey-5"},"Add players to start generating matches",-1))]))])]),_:1}),a(Ce,null,{default:o(()=>[m("div",yo,[l[45]||(l[45]=m("div",{class:"text-caption text-grey-7 q-mb-xs"},"Match Type",-1)),a(Et,{modelValue:t.matchType,"onUpdate:modelValue":l[3]||(l[3]=n=>t.matchType=n),options:t.matchTypeOptions,dense:"",outlined:"","emit-value":"","map-options":"",color:"accent"},{prepend:o(()=>[a(N,{name:t.matchType==="singles"?"person":"people"},null,8,["name"])]),_:1},8,["modelValue"])]),m("div",bo,[a(U,{class:"col",color:"accent",onClick:t.generateNewMatches,size:"md",icon:"auto_awesome",disable:!t.canGenerateMatches()},{default:o(()=>[l[46]||(l[46]=m("span",{class:"gt-xs"},"Auto Generate",-1)),l[47]||(l[47]=m("span",{class:"lt-sm"},"Auto",-1)),t.canGenerateMatches()?we("",!0):(_(),$(ge,{key:0},{default:o(()=>[x(w(t.matchType==="singles"?"Need at least 2 players":"Need at least 4 players"),1)]),_:1}))]),_:1},8,["disable"]),a(U,{class:"col",color:"accent",onClick:t.startManualSelection,size:"md",icon:"touch_app",disable:t.queue.length<(t.matchType==="singles"?2:4),outline:""},{default:o(()=>[l[48]||(l[48]=m("span",{class:"gt-xs"},"Manual Selection",-1)),l[49]||(l[49]=m("span",{class:"lt-sm"},"Manual",-1)),t.queue.length<(t.matchType==="singles"?2:4)?(_(),$(ge,{key:0},{default:o(()=>[x(w(t.matchType==="singles"?"Need at least 2 players for manual singles selection":"Need at least 4 players for manual doubles selection"),1)]),_:1})):we("",!0)]),_:1},8,["disable"])]),m("div",po,w(t.getMatchGenerationHint()),1),t.queue.length>0&&t.queue.length%(t.matchType==="singles"?2:4)!==0?(_(),ee("div",wo,[a(Bt),m("div",So,[a(N,{name:"schedule",size:"xs",class:"q-mr-xs"}),x(" "+w(t.getWaitingPlayersInfo()),1)])])):we("",!0)]),_:1})]),_:1})]),m("div",_o,[a(je,{class:"matches-card",flat:"",bordered:""},{default:o(()=>[a(Ce,{class:"matches-header text-white"},{default:o(()=>[m("div",xo,[m("div",Co,[a(N,{name:"sports_tennis",class:"q-mr-sm"}),x(" Matches ("+w(t.filteredMatches.length)+") ",1)]),a(Et,{modelValue:t.matchesFilterBy,"onUpdate:modelValue":l[4]||(l[4]=n=>t.matchesFilterBy=n),options:t.matchesFilterOptions,dense:"",outlined:"",dark:"",color:"white","emit-value":"","map-options":""},{prepend:o(()=>[a(N,{name:"filter_list"})]),_:1},8,["modelValue","options"])])]),_:1}),a(Ce,{class:"q-pa-none"},{default:o(()=>[m("div",ko,[t.filteredMatches.length>0?(_(),$(Ne,{key:0,separator:""},{default:o(()=>[(_(!0),ee(Te,null,We(t.filteredMatches,(n,f)=>(_(),$(xe,{key:n.id,class:"match-item"},{default:o(()=>[a(Y,null,{default:o(()=>[m("div",qo,[m("div",Po,[m("div",Mo,[a(ve,{color:t.getMatchStatusColor(n.status),"text-color":"white",size:"sm",dense:""},{default:o(()=>[x(w(t.getMatchStatusLabel(n.status)),1)]),_:2},1032,["color"]),n.court?(_(),ee("span",To," Court "+w(n.court),1)):we("",!0)])])]),n.players.length===2?(_(),ee("div",Ao,[m("div",Vo,[m("div",zo,w(n.players[0].name),1),m("div",Lo,"Level "+w(n.players[0].level),1)]),m("div",Bo,[a(N,{name:"sports_tennis",color:"grey-6",size:"sm"})]),m("div",Eo,[m("div",Fo,w(n.players[1].name),1),m("div",Ro,"Level "+w(n.players[1].level),1)])])):(_(),ee("div",Do,[m("div",Io,[m("div",Oo,w(n.players[0].name),1),m("div",Ho,"Level "+w(n.players[0].level),1),m("div",Qo,w(n.players[1].name),1),m("div",No,"Level "+w(n.players[1].level),1)]),m("div",Wo,[a(N,{name:"sports_tennis",color:"grey-6",size:"sm"})]),m("div",jo,[m("div",Uo,w(n.players[2].name),1),m("div",Ko,"Level "+w(n.players[2].level),1),m("div",Go,w(n.players[3].name),1),m("div",Jo,"Level "+w(n.players[3].level),1)])]))]),_:2},1024),a(Y,{side:""},{default:o(()=>[a(U,{color:"grey-7",icon:"more_vert",flat:"",round:"",size:"sm"},{default:o(()=>[a(Sa,null,{default:o(()=>[a(Ne,{style:{"min-width":"150px"}},{default:o(()=>[a(xe,{clickable:"",onClick:h=>t.openMatchResultDialog(f)},{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(N,{name:"emoji_events"})]),_:1}),a(Y,null,{default:o(()=>l[50]||(l[50]=[x("Complete Match")])),_:1})]),_:2},1032,["onClick"]),a(xe,{clickable:"",onClick:h=>t.editMatch(f)},{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(N,{name:"edit"})]),_:1}),a(Y,null,{default:o(()=>l[51]||(l[51]=[x("Edit Match")])),_:1})]),_:2},1032,["onClick"]),!n.court&&t.getCourtCount()>0?(_(),$(xe,{key:0,clickable:"",onClick:h=>t.openCourtSelectionDialog(f)},{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(N,{name:"sports_tennis"})]),_:1}),a(Y,null,{default:o(()=>l[52]||(l[52]=[x("Assign Court")])),_:1})]),_:2},1032,["onClick"])):we("",!0),n.court?(_(),$(xe,{key:1,clickable:"",onClick:h=>t.openCourtSelectionDialog(f)},{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(N,{name:"swap_horiz"})]),_:1}),a(Y,null,{default:o(()=>l[53]||(l[53]=[x("Change Court")])),_:1})]),_:2},1032,["onClick"])):we("",!0),a(Bt),a(xe,{clickable:"",onClick:h=>t.cancelMatch(f),class:"text-negative"},{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(N,{name:"cancel"})]),_:1}),a(Y,null,{default:o(()=>l[54]||(l[54]=[x("Cancel Match")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(_(),ee("div",Yo,[a(N,{name:"sports_tennis",size:"48px",color:"grey-4"}),l[55]||(l[55]=m("p",{class:"text-grey-6 q-mt-sm"},"No active matches",-1)),l[56]||(l[56]=m("p",{class:"text-caption text-grey-5"},"Generate matches from the queue to get started",-1))]))])]),_:1})]),_:1})])])]),a(ft,{modelValue:t.showAddPlayerDialog,"onUpdate:modelValue":l[8]||(l[8]=n=>t.showAddPlayerDialog=n),maximized:t.$q.screen.lt.md},{default:o(()=>[a(St,{view:"Lhh lpR fff",container:"",class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh"}},{default:o(()=>[a(_t,{class:"players-header text-white",reveal:""},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le,null,{default:o(()=>[a(N,{name:"person_add",class:"q-mr-sm"}),l[57]||(l[57]=x(" Add New Player "))]),_:1}),wt(a(U,{icon:"close",flat:"",round:"",dense:""},null,512),[[kt]])]),_:1})]),_:1}),a(xt,null,{default:o(()=>[a(mt,{padding:""},{default:o(()=>[m("div",Xo,[a(on,{modelValue:t.newPlayerName,"onUpdate:modelValue":l[5]||(l[5]=n=>t.newPlayerName=n),label:"Player Name",type:"text",onKeyup:sn(t.addNewPlayer,["enter"]),rules:[n=>!!n?.trim()||"Player name is required"],outlined:"",dense:"",autofocus:""},{prepend:o(()=>[a(N,{name:"person"})]),_:1},8,["modelValue","rules"]),a(Et,{modelValue:t.newPlayerLevel,"onUpdate:modelValue":l[6]||(l[6]=n=>t.newPlayerLevel=n),options:t.levelOptions,label:"Player Level",rules:[n=>n!==null||"Player level is required"],outlined:"",dense:"","emit-value":"","map-options":""},{prepend:o(()=>[a(N,{name:"star"})]),option:o(n=>[a(xe,un(rn(n.itemProps)),{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(N,{name:t.getLevelIcon(n.opt.value),color:t.getLevelColor(n.opt.value)},null,8,["name","color"])]),_:2},1024),a(Y,null,{default:o(()=>[a(ye,null,{default:o(()=>[x(w(n.opt.label),1)]),_:2},1024),a(ye,{caption:""},{default:o(()=>[x(w(n.opt.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","rules"])])]),_:1})]),_:1}),a(Ct,{class:"bg-grey-1"},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le),m("div",Zo,[a(U,{flat:"",label:"Cancel",color:"grey",onClick:l[7]||(l[7]=n=>t.showAddPlayerDialog=!1)},{default:o(()=>[a(ge,null,{default:o(()=>l[58]||(l[58]=[x("Cancel adding new player")])),_:1})]),_:1}),a(U,{color:"accent",onClick:t.addNewPlayer,label:"Add Player",disable:!t.newPlayerName?.trim()||t.newPlayerLevel===null,icon:"add"},{default:o(()=>[a(ge,null,{default:o(()=>l[59]||(l[59]=[x("Add this player to the system")])),_:1})]),_:1},8,["disable"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ft,{modelValue:t.showMatchResultDialog,"onUpdate:modelValue":l[14]||(l[14]=n=>t.showMatchResultDialog=n),maximized:t.$q.screen.lt.md},{default:o(()=>[a(St,{view:"Lhh lpR fff",container:"",class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh"}},{default:o(()=>[a(_t,{class:"matches-header text-white",reveal:""},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le,null,{default:o(()=>[a(N,{name:"emoji_events",class:"q-mr-sm"}),l[60]||(l[60]=x(" Match Result "))]),_:1}),wt(a(U,{icon:"close",flat:"",round:"",dense:""},null,512),[[kt]])]),_:1})]),_:1}),a(xt,null,{default:o(()=>[a(mt,{padding:""},{default:o(()=>[m("div",$o,[l[63]||(l[63]=m("div",{class:"text-subtitle1 text-center q-mb-md"},"Who won this match?",-1)),t.currentMatch.length===2?(_(),ee("div",ei,[m("div",ti,[a(je,{class:Ue([t.selectedWinner==="team1"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[9]||(l[9]=n=>t.selectedWinner="team1"),flat:"",bordered:""},{default:o(()=>[a(Ce,{class:"text-center"},{default:o(()=>[a(ve,{label:t.currentMatch[0].name,color:t.getLevelColor(t.currentMatch[0].level),"text-color":"white",size:"md"},null,8,["label","color"]),m("div",li,"Level "+w(t.currentMatch[0].level),1)]),_:1})]),_:1},8,["class"])]),m("div",ai,[a(je,{class:Ue([t.selectedWinner==="team2"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[10]||(l[10]=n=>t.selectedWinner="team2"),flat:"",bordered:""},{default:o(()=>[a(Ce,{class:"text-center"},{default:o(()=>[a(ve,{label:t.currentMatch[1].name,color:t.getLevelColor(t.currentMatch[1].level),"text-color":"white",size:"md"},null,8,["label","color"]),m("div",ni,"Level "+w(t.currentMatch[1].level),1)]),_:1})]),_:1},8,["class"])])])):(_(),ee("div",oi,[m("div",ii,[a(je,{class:Ue([t.selectedWinner==="team1"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[11]||(l[11]=n=>t.selectedWinner="team1"),flat:"",bordered:""},{default:o(()=>[a(Ce,{class:"text-center"},{default:o(()=>[l[61]||(l[61]=m("div",{class:"text-weight-medium q-mb-sm"},"Team 1",-1)),a(ve,{label:t.currentMatch[0].name,color:t.getLevelColor(t.currentMatch[0].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),a(ve,{label:t.currentMatch[1].name,color:t.getLevelColor(t.currentMatch[1].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])]),m("div",si,[a(je,{class:Ue([t.selectedWinner==="team2"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[12]||(l[12]=n=>t.selectedWinner="team2"),flat:"",bordered:""},{default:o(()=>[a(Ce,{class:"text-center"},{default:o(()=>[l[62]||(l[62]=m("div",{class:"text-weight-medium q-mb-sm"},"Team 2",-1)),a(ve,{label:t.currentMatch[2].name,color:t.getLevelColor(t.currentMatch[2].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),a(ve,{label:t.currentMatch[3].name,color:t.getLevelColor(t.currentMatch[3].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])])]))])]),_:1})]),_:1}),a(Ct,{class:"bg-grey-1"},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le),m("div",ui,[a(U,{flat:"",label:"Cancel",color:"grey",onClick:l[13]||(l[13]=n=>t.showMatchResultDialog=!1)}),a(U,{color:"accent",onClick:t.completeMatch,label:"Complete Match",disable:t.selectedWinner===null,icon:"check"},null,8,["disable"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ft,{modelValue:t.showSettingsDialog,"onUpdate:modelValue":l[21]||(l[21]=n=>t.showSettingsDialog=n),maximized:t.$q.screen.lt.md},{default:o(()=>[a(St,{view:"Lhh lpR fff",container:"",class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh"}},{default:o(()=>[a(_t,{class:"queue-header text-white",reveal:""},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le,null,{default:o(()=>[a(N,{name:"settings",class:"q-mr-sm"}),l[64]||(l[64]=x(" Settings "))]),_:1}),wt(a(U,{icon:"close",flat:"",round:"",dense:""},null,512),[[kt]])]),_:1})]),_:1}),a(xt,null,{default:o(()=>[a(mt,{padding:""},{default:o(()=>[m("div",ri,[m("div",null,[l[65]||(l[65]=m("div",{class:"text-subtitle2 q-mb-sm"},"Queue Management",-1)),a(Et,{modelValue:t.queueReturnMethod,"onUpdate:modelValue":l[15]||(l[15]=n=>t.queueReturnMethod=n),options:t.queueReturnOptions,label:"Default method for returning players to queue",outlined:"",dense:""},null,8,["modelValue"])]),m("div",null,[a(Tl,{modelValue:t.autoSortQueue,"onUpdate:modelValue":l[16]||(l[16]=n=>t.autoSortQueue=n),label:"Automatically sort queue by fairness",color:"accent"},null,8,["modelValue"])]),a(Bt),m("div",null,[l[66]||(l[66]=m("div",{class:"text-subtitle2 q-mb-sm"},"Court Management",-1)),a(Et,{modelValue:t.availableCourts,"onUpdate:modelValue":l[17]||(l[17]=n=>t.availableCourts=n),options:t.courtOptions,label:"Number of available courts",outlined:"",dense:""},null,8,["modelValue","options"]),a(Tl,{modelValue:t.autoAssignCourts,"onUpdate:modelValue":l[18]||(l[18]=n=>t.autoAssignCourts=n),label:"Automatically assign courts to matches",color:"accent",class:"q-mt-sm"},null,8,["modelValue"]),a(Tl,{modelValue:t.autoAdvanceMatches,"onUpdate:modelValue":l[19]||(l[19]=n=>t.autoAdvanceMatches=n),label:"Automatically start next match when one completes",color:"accent",class:"q-mt-sm"},null,8,["modelValue"])]),a(Bt),m("div",null,[a(U,{color:"accent",onClick:t.resetGamesPlayed,icon:"refresh",label:"Reset Games Played",class:"full-width"})]),m("div",null,[a(U,{color:"negative",onClick:t.resetAllData,icon:"delete_forever",label:"Reset All Data",class:"full-width"})])])]),_:1})]),_:1}),a(Ct,{class:"bg-grey-1"},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le),m("div",ci,[a(U,{flat:"",label:"Close",color:"grey",onClick:l[20]||(l[20]=n=>t.showSettingsDialog=!1)})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ft,{modelValue:t.showManualSelectionDialog,"onUpdate:modelValue":l[26]||(l[26]=n=>t.showManualSelectionDialog=n),maximized:t.$q.screen.lt.md,"transition-show":"slide-up","transition-hide":"slide-down"},{default:o(()=>[a(St,{view:"Lhh lpR fff",container:"",class:"bg-white",style:{"max-width":"700px",width:"95vw"}},{default:o(()=>[a(_t,{class:"players-header text-white",reveal:""},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le,null,{default:o(()=>[a(N,{name:"touch_app",class:"q-mr-sm"}),x(" "+w(t.matchType==="singles"?"Singles":"Doubles")+" Match Selection ",1)]),_:1}),wt(a(U,{icon:"close",flat:"",round:"",dense:""},null,512),[[kt]])]),_:1})]),_:1}),a(xt,null,{default:o(()=>[a(mt,{padding:""},{default:o(()=>[m("div",di,[t.manualSelectionStep===1?(_(),ee("div",mi,[m("div",fi,"Step 1: Select "+w(t.matchType==="singles"?"2":"4")+" Players",1),m("div",vi," Click on players to select them for the match ("+w(t.selectedPlayers.length)+"/"+w(t.matchType==="singles"?2:4)+" selected) ",1),a(Ne,{separator:"",bordered:"",class:"rounded-borders"},{default:o(()=>[(_(!0),ee(Te,null,We(t.queue,n=>(_(),$(xe,{key:n.name,clickable:"",onClick:f=>t.togglePlayerSelection(n),class:Ue([{"selected-player":t.isPlayerSelected(n)},"player-selection-item"])},{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(cn,{"model-value":t.isPlayerSelected(n),color:"accent",onClick:dn(f=>t.togglePlayerSelection(n),["stop"])},null,8,["model-value","onClick"])]),_:2},1024),a(Y,null,{default:o(()=>[a(ye,{class:"text-weight-medium"},{default:o(()=>[x(w(n.name),1)]),_:2},1024),a(ye,{caption:"",class:"q-pl-xs"},{default:o(()=>[a(ve,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),m("span",gi,"Games: "+w(n.gamesPlayed),1),m("span",hi,"W: "+w(n.wins),1),m("span",yi,"L: "+w(n.losses),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})])):we("",!0),t.manualSelectionStep===2?(_(),ee("div",bi,[l[67]||(l[67]=m("div",{class:"text-h6 q-mb-md"},"Step 2: Arrange Teams",-1)),a(t.TeamArrangement,{team1:t.manualTeam1,"onUpdate:team1":l[22]||(l[22]=n=>t.manualTeam1=n),team2:t.manualTeam2,"onUpdate:team2":l[23]||(l[23]=n=>t.manualTeam2=n),"create-balanced-match":t.createBalancedMatch},null,8,["team1","team2"])])):we("",!0),t.manualSelectionStep===3?(_(),ee("div",pi,[l[70]||(l[70]=m("div",{class:"text-h6 q-mb-md"},"Step 3: Select Court",-1)),l[71]||(l[71]=m("div",{class:"text-caption text-grey-7 q-mb-md"}," Choose how to assign a court for this match ",-1)),a(je,{flat:"",bordered:"",class:Ue(["cursor-pointer q-mb-md primary-court-option",{selected:t.selectedCourt===null}]),onClick:t.selectAutoCourt},{default:o(()=>[a(Ce,{class:"row items-center"},{default:o(()=>[a(N,{name:"auto_awesome",color:"accent",size:"md",class:"q-mr-md"}),m("div",wi,[l[68]||(l[68]=m("div",{class:"text-weight-medium"},"Auto-Assign Court",-1)),m("div",Si,w(t.getAutoAssignDescription()),1)]),t.selectedCourt===null?(_(),$(N,{key:0,name:"check_circle",color:"accent"})):(_(),$(N,{key:1,name:"radio_button_unchecked",color:"grey-6"}))]),_:1})]),_:1},8,["class"]),a(U,{flat:"",color:"primary",icon:"sports_tennis",onClick:t.toggleManualSelection,class:"q-mb-md"},{default:o(()=>[a(N,{name:"sports_tennis",class:"q-mr-xs"}),x(" "+w(t.showManualSelection?"Hide":"Choose")+" Specific Court ",1)]),_:1}),a(qn,null,{default:o(()=>[t.showManualSelection?(_(),ee("div",_i,[a(Bt,{class:"q-mb-md"}),l[69]||(l[69]=m("div",{class:"text-subtitle2 q-mb-sm"},"Select Court",-1)),a(Ne,{separator:""},{default:o(()=>[(_(!0),ee(Te,null,We(t.courtSelectionOptions,n=>(_(),$(xe,{key:n.value,clickable:"",onClick:f=>t.selectSpecificCourt(n.value),class:Ue({"selected-court":t.selectedCourt===n.value})},{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(Kt,{color:t.selectedCourt===n.value?"accent":"blue-6","text-color":"white"},{default:o(()=>[x(w(n.value),1)]),_:2},1032,["color"])]),_:2},1024),a(Y,null,{default:o(()=>[a(ye,null,{default:o(()=>[x("Court "+w(n.value),1)]),_:2},1024),a(ye,{caption:""},{default:o(()=>[x(w(t.getCourtMatchCount(n.value))+" matches ",1)]),_:2},1024)]),_:2},1024),t.selectedCourt===n.value?(_(),$(Y,{key:0,side:""},{default:o(()=>[a(N,{name:"check_circle",color:"accent"})]),_:1})):(_(),$(Y,{key:1,side:""},{default:o(()=>[a(N,{name:"radio_button_unchecked",color:"grey-6"})]),_:1}))]),_:2},1032,["onClick","class"]))),128))]),_:1})])):we("",!0)]),_:1})])):we("",!0)])]),_:1})]),_:1}),a(Ct,{class:"bg-grey-1"},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le),m("div",xi,[t.manualSelectionStep===1?(_(),ee(Te,{key:0},[a(U,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),t.matchType==="doubles"?(_(),$(U,{key:0,color:"accent",label:"Next: Arrange Teams","icon-right":"arrow_forward",onClick:t.proceedToTeamArrangement,disable:t.selectedPlayers.length!==4},null,8,["disable"])):(_(),$(U,{key:1,color:"accent",label:"Next: Select Court",icon:"sports_tennis",onClick:t.proceedToCourtSelection,disable:t.selectedPlayers.length!==2},null,8,["disable"]))],64)):t.manualSelectionStep===2?(_(),ee(Te,{key:1},[a(U,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[24]||(l[24]=()=>{t.manualSelectionStep=1,t.selectedForSwap=null,t.selectedForSwapTeam=null})}),a(U,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),a(U,{color:"accent",label:"Next: Select Court",icon:"sports_tennis",onClick:t.proceedToCourtSelectionFromTeams,disable:t.manualTeam1.length!==2||t.manualTeam2.length!==2},null,8,["disable"])],64)):t.manualSelectionStep===3?(_(),ee(Te,{key:2},[a(U,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[25]||(l[25]=()=>{t.manualSelectionStep=t.matchType==="doubles"?2:1})}),a(U,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),a(U,{color:"accent",label:"Create Match",icon:"check",onClick:t.createManualMatchWithCourt})],64)):we("",!0)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ft,{modelValue:t.showMatchEditDialog,"onUpdate:modelValue":l[31]||(l[31]=n=>t.showMatchEditDialog=n),maximized:t.$q.screen.lt.md},{default:o(()=>[a(St,{view:"Lhh lpR fff",container:"",class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh"}},{default:o(()=>[a(_t,{class:"matches-header text-white",reveal:""},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le,null,{default:o(()=>[a(N,{name:"edit",class:"q-mr-sm"}),l[72]||(l[72]=x(" Edit Match "))]),_:1}),wt(a(U,{icon:"close",flat:"",round:"",dense:""},null,512),[[kt]])]),_:1})]),_:1}),a(xt,null,{default:o(()=>[a(mt,{padding:""},{default:o(()=>[t.manualSelectionStep===1?(_(),ee("div",Ci,[m("div",ki,[l[73]||(l[73]=x(" Step 1: Manage Players ")),a(ve,{label:t.currentMatchType==="singles"?"Singles Match":"Doubles Match",color:t.currentMatchType==="singles"?"blue":"green","text-color":"white",size:"sm",class:"q-ml-sm"},null,8,["label","color"])]),m("div",qi,[m("div",Pi,[x(" Current Players ("+w(t.selectedPlayers.length)+") ",1),t.selectedPlayers.length<2?(_(),$(ve,{key:0,color:"orange","text-color":"white",size:"sm",class:"q-ml-sm"},{default:o(()=>l[74]||(l[74]=[x(" Need at least 2 players ")])),_:1})):we("",!0)]),a(Ne,{bordered:"",separator:""},{default:o(()=>[(_(!0),ee(Te,null,We(t.selectedPlayers,n=>(_(),$(xe,{key:n.name,class:"player-edit-item"},{default:o(()=>[a(Y,null,{default:o(()=>[a(ye,{class:"text-weight-medium"},{default:o(()=>[x(w(n.name),1)]),_:2},1024),a(ye,{caption:"",class:"q-pl-xs"},{default:o(()=>[a(ve,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),m("span",Mi,"Games: "+w(n.gamesPlayed),1)]),_:2},1024)]),_:2},1024),a(Y,{side:""},{default:o(()=>[m("div",Ti,[a(U,{flat:"",round:"",color:"negative",icon:"remove_circle",size:"sm",onClick:f=>t.removePlayerFromEdit(n),disable:t.selectedPlayers.length<=1},{default:o(()=>[a(ge,null,{default:o(()=>l[75]||(l[75]=[x("Remove from match")])),_:1})]),_:2},1032,["onClick","disable"]),a(U,{flat:"",round:"",color:"accent",icon:"swap_horiz",size:"sm",onClick:f=>t.replacePlayerInEdit(n),disable:t.availableQueuePlayers.length===0},{default:o(()=>[a(ge,null,{default:o(()=>l[76]||(l[76]=[x("Replace with another player")])),_:1})]),_:2},1032,["onClick","disable"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),t.availableQueuePlayers.length>0?(_(),ee("div",Ai,[m("div",Vi,[l[77]||(l[77]=x(" Add Players from Queue ")),a(ve,{label:`${t.availableQueuePlayers.length} available`,color:"grey-5","text-color":"white",size:"sm",class:"q-ml-sm"},null,8,["label"])]),a(Ne,{bordered:"",separator:""},{default:o(()=>[(_(!0),ee(Te,null,We(t.availableQueuePlayers,n=>(_(),$(xe,{key:n.name,clickable:"",class:"player-edit-item",onClick:f=>t.addPlayerToEdit(n),disable:t.selectedPlayers.length>=4},{default:o(()=>[a(Y,null,{default:o(()=>[a(ye,{class:"text-weight-medium"},{default:o(()=>[x(w(n.name),1)]),_:2},1024),a(ye,{caption:"",class:"q-pl-xs"},{default:o(()=>[a(ve,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),m("span",zi,"Games: "+w(n.gamesPlayed),1),n.priority==="returned"?(_(),ee("span",Li,"(Returned)")):we("",!0)]),_:2},1024)]),_:2},1024),a(Y,{side:""},{default:o(()=>[a(U,{flat:"",round:"",color:"accent",icon:"add_circle",size:"sm",disable:t.selectedPlayers.length>=4},{default:o(()=>[a(ge,null,{default:o(()=>l[78]||(l[78]=[x("Add to match")])),_:1})]),_:1},8,["disable"])]),_:1})]),_:2},1032,["onClick","disable"]))),128))]),_:1})])):(_(),ee("div",Bi,[a(N,{name:"people_outline",size:"48px",color:"grey-4"}),l[79]||(l[79]=m("p",{class:"q-mt-sm"},"No players available in queue",-1)),l[80]||(l[80]=m("p",{class:"text-caption"},"All players are already in matches",-1))]))])):we("",!0),t.manualSelectionStep===2&&t.currentMatchType==="doubles"?(_(),ee("div",Ei,[l[81]||(l[81]=m("div",{class:"text-h6 q-mb-md"},"Step 2: Arrange Teams",-1)),a(t.TeamArrangement,{team1:t.manualTeam1,"onUpdate:team1":l[27]||(l[27]=n=>t.manualTeam1=n),team2:t.manualTeam2,"onUpdate:team2":l[28]||(l[28]=n=>t.manualTeam2=n),"create-balanced-match":t.createBalancedMatch},null,8,["team1","team2"])])):we("",!0)]),_:1})]),_:1}),a(Ct,{class:"bg-grey-1"},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le),m("div",Fi,[t.manualSelectionStep===1?(_(),ee(Te,{key:0},[t.selectedPlayers.length===4?(_(),$(U,{key:0,color:"accent",label:"Next: Arrange Teams","icon-right":"arrow_forward",onClick:t.proceedToTeamArrangement},{default:o(()=>[a(ge,null,{default:o(()=>l[82]||(l[82]=[x("Proceed to team arrangement")])),_:1})]),_:1})):(_(),$(U,{key:1,color:"accent",label:"Save Changes",icon:"save",onClick:t.saveMatchEdit,disable:t.selectedPlayers.length<2},{default:o(()=>[t.selectedPlayers.length<2?(_(),$(ge,{key:0},{default:o(()=>l[83]||(l[83]=[x(" Need at least 2 players to save match ")])),_:1})):(_(),$(ge,{key:1},{default:o(()=>l[84]||(l[84]=[x(" Save match changes ")])),_:1}))]),_:1},8,["disable"]))],64)):t.manualSelectionStep===2?(_(),ee(Te,{key:1},[a(U,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[29]||(l[29]=()=>{t.manualSelectionStep=1,t.selectedForSwap=null,t.selectedForSwapTeam=null})}),a(U,{flat:"",label:"Cancel",color:"grey",onClick:l[30]||(l[30]=n=>t.showMatchEditDialog=!1)}),a(U,{color:"accent",label:"Save Changes",icon:"check",onClick:t.saveMatchEdit,disable:t.selectedPlayers.length<2||t.selectedPlayers.length>4},{default:o(()=>[t.selectedPlayers.length<2?(_(),$(ge,{key:0},{default:o(()=>l[85]||(l[85]=[x(" Need at least 2 players to save match ")])),_:1})):t.selectedPlayers.length>4?(_(),$(ge,{key:1},{default:o(()=>l[86]||(l[86]=[x(" Maximum 4 players allowed for tennis matches ")])),_:1})):(_(),$(ge,{key:2},{default:o(()=>l[87]||(l[87]=[x(" Save match changes ")])),_:1}))]),_:1},8,["disable"])],64)):we("",!0)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ft,{modelValue:t.showReplacePlayerDialog,"onUpdate:modelValue":l[33]||(l[33]=n=>t.showReplacePlayerDialog=n),maximized:t.$q.screen.lt.md},{default:o(()=>[a(St,{view:"Lhh lpR fff",container:"",class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh"}},{default:o(()=>[a(_t,{class:"players-header text-white",reveal:""},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le,null,{default:o(()=>[a(N,{name:"swap_horiz",class:"q-mr-sm"}),l[88]||(l[88]=x(" Replace Player "))]),_:1}),wt(a(U,{icon:"close",flat:"",round:"",dense:""},null,512),[[kt]])]),_:1})]),_:1}),a(xt,null,{default:o(()=>[a(mt,{padding:""},{default:o(()=>[m("div",Ri,[l[89]||(l[89]=x(" Choose a player to replace ")),m("strong",null,w(t.playerToReplaceInEdit?.name),1),l[90]||(l[90]=x(" with: "))]),a(Ne,{bordered:"",separator:""},{default:o(()=>[(_(!0),ee(Te,null,We(t.availableQueuePlayers,n=>(_(),$(xe,{key:n.name,clickable:"",class:"player-edit-item",onClick:f=>t.selectReplacementPlayer(n)},{default:o(()=>[a(Y,null,{default:o(()=>[a(ye,{class:"text-weight-medium"},{default:o(()=>[x(w(n.name),1)]),_:2},1024),a(ye,{caption:"",class:"q-pl-xs"},{default:o(()=>[a(ve,{label:`Level ${n.level}`,color:t.getLevelColor(n.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),m("span",Di,"Games: "+w(n.gamesPlayed),1),n.priority==="returned"?(_(),ee("span",Ii,"(Returned)")):we("",!0)]),_:2},1024)]),_:2},1024),a(Y,{side:""},{default:o(()=>[a(U,{flat:"",round:"",color:"accent",icon:"swap_horiz",size:"sm"},{default:o(()=>[a(ge,null,{default:o(()=>[x("Click to replace "+w(t.playerToReplaceInEdit?.name)+" with "+w(n.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),a(Ct,{class:"bg-grey-1"},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le),m("div",Oi,[a(U,{flat:"",label:"Cancel",color:"grey",onClick:l[32]||(l[32]=n=>t.showReplacePlayerDialog=!1)},{default:o(()=>[a(ge,null,{default:o(()=>l[91]||(l[91]=[x("Cancel player replacement")])),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ft,{modelValue:t.showCourtSelectionDialog,"onUpdate:modelValue":l[35]||(l[35]=n=>t.showCourtSelectionDialog=n),maximized:t.$q.screen.lt.md},{default:o(()=>[a(St,{view:"Lhh lpR fff",container:"",class:"bg-white",style:{"max-width":"500px",width:"95vw","max-height":"90vh"}},{default:o(()=>[a(_t,{class:"queue-header text-white",reveal:""},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le,null,{default:o(()=>[a(N,{name:"sports_tennis",class:"q-mr-sm"}),l[92]||(l[92]=x(" Assign Court "))]),_:1}),wt(a(U,{icon:"close",flat:"",round:"",dense:""},null,512),[[kt]])]),_:1})]),_:1}),a(xt,null,{default:o(()=>[a(mt,{padding:""},{default:o(()=>[m("div",Hi,[l[94]||(l[94]=m("div",{class:"text-subtitle2 q-mb-sm"},"Select Court",-1)),a(je,{flat:"",bordered:"",class:"cursor-pointer",onClick:t.assignCourtAutomatically},{default:o(()=>[a(Ce,{class:"row items-center"},{default:o(()=>[a(N,{name:"auto_awesome",color:"accent",size:"md",class:"q-mr-md"}),l[93]||(l[93]=m("div",{class:"col"},[m("div",{class:"text-weight-medium"},"Auto-Assign"),m("div",{class:"text-caption text-grey-6"},"Automatically assign next available court")],-1)),a(N,{name:"arrow_forward",color:"grey-6"})]),_:1})]),_:1}),a(Bt),l[95]||(l[95]=m("div",{class:"text-subtitle2 q-mb-sm"},"Manual Selection",-1)),a(Ne,{separator:""},{default:o(()=>[(_(!0),ee(Te,null,We(t.courtSelectionOptions,n=>(_(),$(xe,{key:n.value,clickable:"",onClick:f=>t.assignSpecificCourt(n.value)},{default:o(()=>[a(Y,{avatar:""},{default:o(()=>[a(Kt,{color:"accent","text-color":"white"},{default:o(()=>[x(w(n.value),1)]),_:2},1024)]),_:2},1024),a(Y,null,{default:o(()=>[a(ye,null,{default:o(()=>[x("Court "+w(n.value),1)]),_:2},1024),a(ye,{caption:""},{default:o(()=>[x(w(t.getCourtMatchCount(n.value))+" matches ",1)]),_:2},1024)]),_:2},1024),a(Y,{side:""},{default:o(()=>[a(N,{name:"check_circle",color:"green-6"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1})]),_:1}),a(Ct,{class:"bg-grey-1"},{default:o(()=>[a(Be,null,{default:o(()=>[a(Le),m("div",Qi,[a(U,{flat:"",label:"Cancel",color:"grey",onClick:l[34]||(l[34]=n=>t.showCourtSelectionDialog=!1)},{default:o(()=>[a(ge,null,{default:o(()=>l[96]||(l[96]=[x("Cancel court assignment")])),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])]),_:1})}const Ki=ga(Un,[["render",Ni],["__file","IndexPage.vue"]]);export{Ki as default};
