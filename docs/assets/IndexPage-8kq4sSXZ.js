import{c as Be,a4 as pt,a5 as nl,a6 as ol,a7 as il,C as Ct,a8 as ql,E as _t,a9 as kl,a as q,J as Pl,g as Ie,h as z,aa as X,ab as Vl,ac as Ml,A as _e,ad as zl,ae as Al,r as E,af as qt,k as Ll,b as kt,v as Ze,e as Ce,t as Dt,w as ge,o as El,d as et,z as Tl,l as bt,ag as Nt,q as Bl,R as Il,B as Fl,ah as Rl,N as Ol,D as Hl,ai as Dl,F as Nl,aj as Wl,G as Ql,ak as Kl,al as jl,y as Ul,am as Gl,an as Wt,O as $l,ao as Xl,ap as Jl,aq as Yl,ar as Zl,as as ea,n as ta,at as la,au as aa,av as na,aw as oa,ax as ia,ay as ua,az as Qt,aA as Xe,aB as sa,aC as ra,aD as ca,x as je,aE as da,aF as nt,U as fa,f as wt,j as Ue,m as va,M as ma,aG as ga,V as ha,_ as ya,X as se,Y as Ae,Z as w,a2 as k,$ as d,a0 as re,aH as ne,a1 as me,a3 as ce,aI as Le,aJ as ft,aK as vt,aL as Pe,aM as Sa,aN as ba,aO as wa,aP as xa,aQ as pa,aR as Ca,aS as mt,aT as Kt,aU as jt}from"./index-r5AKQPjs.js";import{c as _a,n as Ut,a as Ee,Q as gt}from"./format-phDtKEWF.js";const qa=Be({name:"QField",inheritAttrs:!1,props:{...pt,tag:{type:String,default:"label"}},emits:nl,setup(){return ol(il({tagProp:!0}))}}),ka={xs:8,sm:10,md:14,lg:20,xl:24},de=Be({name:"QChip",props:{...Ct,...ql,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:a,emit:n}){const{proxy:{$q:t}}=Ie(),c=_t(e,t),r=kl(e,ka),o=q(()=>e.selected===!0||e.icon!==void 0),v=q(()=>e.selected===!0?e.iconSelected||t.iconSet.chip.selected:e.icon),b=q(()=>e.iconRemove||t.iconSet.chip.remove),_=q(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),m=q(()=>{const P=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(P?` text-${P} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(_.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(c.value===!0?" q-chip--dark q-dark":"")}),x=q(()=>{const P=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},j={...P,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||t.lang.label.remove};return{chip:P,remove:j}});function C(P){P.keyCode===13&&f(P)}function f(P){e.disable||(n("update:selected",!e.selected),n("click",P))}function p(P){(P.keyCode===void 0||P.keyCode===13)&&(_e(P),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function K(){const P=[];_.value===!0&&P.push(z("div",{class:"q-focus-helper"})),o.value===!0&&P.push(z(X,{class:"q-chip__icon q-chip__icon--left",name:v.value}));const j=e.label!==void 0?[z("div",{class:"ellipsis"},[e.label])]:void 0;return P.push(z("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Vl(a.default,j))),e.iconRight&&P.push(z(X,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&P.push(z(X,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:b.value,...x.value.remove,onClick:p,onKeyup:p})),P}return()=>{if(e.modelValue===!1)return;const P={class:m.value,style:r.value};return _.value===!0&&Object.assign(P,x.value.chip,{onClick:f,onKeyup:C}),Pl("div",P,K(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Ml,e.ripple]])}}}),Ye=Be({name:"QItem",props:{...Ct,...zl,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:a,emit:n}){const{proxy:{$q:t}}=Ie(),c=_t(e,t),{hasLink:r,linkAttrs:o,linkClass:v,linkTag:b,navigateOnClick:_}=Al(),m=E(null),x=E(null),C=q(()=>e.clickable===!0||r.value===!0||e.tag==="label"),f=q(()=>e.disable!==!0&&C.value===!0),p=q(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(c.value===!0?" q-item--dark":"")+(r.value===!0&&e.active===null?v.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(f.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),K=q(()=>e.insetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function P(V){f.value===!0&&(x.value!==null&&(V.qKeyEvent!==!0&&document.activeElement===m.value?x.value.focus():document.activeElement===x.value&&m.value.focus()),_(V))}function j(V){if(f.value===!0&&qt(V,[13,32])===!0){_e(V),V.qKeyEvent=!0;const T=new MouseEvent("click",V);T.qKeyEvent=!0,m.value.dispatchEvent(T)}n("keyup",V)}function te(){const V=Ll(a.default,[]);return f.value===!0&&V.unshift(z("div",{class:"q-focus-helper",tabindex:-1,ref:x})),V}return()=>{const V={ref:m,class:p.value,style:K.value,role:"listitem",onClick:P,onKeyup:j};return f.value===!0?(V.tabindex=e.tabindex||"0",Object.assign(V,o.value)):C.value===!0&&(V["aria-disabled"]="true"),z(b.value,V,te())}}}),Se=Be({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:a}){const n=q(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>z("div",{class:n.value},kt(a.default))}}),Pa={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Va={...Pa,contextMenu:Boolean};function Ma({showing:e,avoidEmit:a,configureAnchorEl:n}){const{props:t,proxy:c,emit:r}=Ie(),o=E(null);let v=null;function b(f){return o.value===null?!1:f===void 0||f.touches===void 0||f.touches.length<=1}const _={};n===void 0&&(Object.assign(_,{hide(f){c.hide(f)},toggle(f){c.toggle(f),f.qAnchorHandled=!0},toggleKey(f){qt(f,13)===!0&&_.toggle(f)},contextClick(f){c.hide(f),Ze(f),Ce(()=>{c.show(f),f.qAnchorHandled=!0})},prevent:Ze,mobileTouch(f){if(_.mobileCleanup(f),b(f)!==!0)return;c.hide(f),o.value.classList.add("non-selectable");const p=f.target;Dt(_,"anchor",[[p,"touchmove","mobileCleanup","passive"],[p,"touchend","mobileCleanup","passive"],[p,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),v=setTimeout(()=>{v=null,c.show(f),f.qAnchorHandled=!0},300)},mobileCleanup(f){o.value.classList.remove("non-selectable"),v!==null&&(clearTimeout(v),v=null),e.value===!0&&f!==void 0&&_a()}}),n=function(f=t.contextMenu){if(t.noParentEvent===!0||o.value===null)return;let p;f===!0?c.$q.platform.is.mobile===!0?p=[[o.value,"touchstart","mobileTouch","passive"]]:p=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:p=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],Dt(_,"anchor",p)});function m(){Tl(_,"anchor")}function x(f){for(o.value=f;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;n()}function C(){if(t.target===!1||t.target===""||c.$el.parentNode===null)o.value=null;else if(t.target===!0)x(c.$el.parentNode);else{let f=t.target;if(typeof t.target=="string")try{f=document.querySelector(t.target)}catch{f=void 0}f!=null?(o.value=f.$el||f,n()):(o.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return ge(()=>t.contextMenu,f=>{o.value!==null&&(m(),n(f))}),ge(()=>t.target,()=>{o.value!==null&&m(),C()}),ge(()=>t.noParentEvent,f=>{o.value!==null&&(f===!0?m():n())}),El(()=>{C(),a!==!0&&t.modelValue===!0&&o.value===null&&r("update:modelValue",!1)}),et(()=>{v!==null&&clearTimeout(v),m()}),{anchorEl:o,canShow:b,anchorEvents:_}}function za(e,a){const n=E(null);let t;function c(v,b){const _=`${b!==void 0?"add":"remove"}EventListener`,m=b!==void 0?b:t;v!==window&&v[_]("scroll",m,bt.passive),window[_]("scroll",m,bt.passive),t=b}function r(){n.value!==null&&(c(n.value),n.value=null)}const o=ge(()=>e.noParentEvent,()=>{n.value!==null&&(r(),a())});return et(o),{localScrollTarget:n,unconfigureScrollTarget:r,changeScrollEvent:c}}const{notPassiveCapture:ot}=bt,Te=[];function it(e){const a=e.target;if(a===void 0||a.nodeType===8||a.classList.contains("no-pointer-events")===!0)return;let n=Nt.length-1;for(;n>=0;){const t=Nt[n].$;if(t.type.name==="QTooltip"){n--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;n--}for(let t=Te.length-1;t>=0;t--){const c=Te[t];if((c.anchorEl.value===null||c.anchorEl.value.contains(a)===!1)&&(a===document.body||c.innerRef.value!==null&&c.innerRef.value.contains(a)===!1))e.qClickOutside=!0,c.onClickOutside(e);else return}}function Aa(e){Te.push(e),Te.length===1&&(document.addEventListener("mousedown",it,ot),document.addEventListener("touchstart",it,ot))}function Gt(e){const a=Te.findIndex(n=>n===e);a!==-1&&(Te.splice(a,1),Te.length===0&&(document.removeEventListener("mousedown",it,ot),document.removeEventListener("touchstart",it,ot)))}let $t,Xt;function Jt(e){const a=e.split(" ");return a.length!==2?!1:["top","center","bottom"].includes(a[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(a[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function La(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const xt={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{xt[`${e}#ltr`]=e,xt[`${e}#rtl`]=e});function Yt(e,a){const n=e.split(" ");return{vertical:n[0],horizontal:xt[`${n[1]}#${a===!0?"rtl":"ltr"}`]}}function Ea(e,a){let{top:n,left:t,right:c,bottom:r,width:o,height:v}=e.getBoundingClientRect();return a!==void 0&&(n-=a[1],t-=a[0],r+=a[1],c+=a[0],o+=a[0],v+=a[1]),{top:n,bottom:r,height:v,left:t,right:c,width:o,middle:t+(c-t)/2,center:n+(r-n)/2}}function Ta(e,a,n){let{top:t,left:c}=e.getBoundingClientRect();return t+=a.top,c+=a.left,n!==void 0&&(t+=n[1],c+=n[0]),{top:t,bottom:t+1,height:1,left:c,right:c+1,width:1,middle:c,center:t}}function Ba(e,a){return{top:0,center:a/2,bottom:a,left:0,middle:e/2,right:e}}function Zt(e,a,n,t){return{top:e[n.vertical]-a[t.vertical],left:e[n.horizontal]-a[t.horizontal]}}function ul(e,a=0){if(e.targetEl===null||e.anchorEl===null||a>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{ul(e,a+1)},10);return}const{targetEl:n,offset:t,anchorEl:c,anchorOrigin:r,selfOrigin:o,absoluteOffset:v,fit:b,cover:_,maxHeight:m,maxWidth:x}=e;if(Bl.is.ios===!0&&window.visualViewport!==void 0){const F=document.body.style,{offsetLeft:U,offsetTop:$}=window.visualViewport;U!==$t&&(F.setProperty("--q-pe-left",U+"px"),$t=U),$!==Xt&&(F.setProperty("--q-pe-top",$+"px"),Xt=$)}const{scrollLeft:C,scrollTop:f}=n,p=v===void 0?Ea(c,_===!0?[0,0]:t):Ta(c,v,t);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:x,maxHeight:m,visibility:"visible"});const{offsetWidth:K,offsetHeight:P}=n,{elWidth:j,elHeight:te}=b===!0||_===!0?{elWidth:Math.max(p.width,K),elHeight:_===!0?Math.max(p.height,P):P}:{elWidth:K,elHeight:P};let V={maxWidth:x,maxHeight:m};(b===!0||_===!0)&&(V.minWidth=p.width+"px",_===!0&&(V.minHeight=p.height+"px")),Object.assign(n.style,V);const T=Ba(j,te);let D=Zt(p,T,r,o);if(v===void 0||t===void 0)ht(D,p,T,r,o);else{const{top:F,left:U}=D;ht(D,p,T,r,o);let $=!1;if(D.top!==F){$=!0;const Y=2*t[1];p.center=p.top-=Y,p.bottom-=Y+2}if(D.left!==U){$=!0;const Y=2*t[0];p.middle=p.left-=Y,p.right-=Y+2}$===!0&&(D=Zt(p,T,r,o),ht(D,p,T,r,o))}V={top:D.top+"px",left:D.left+"px"},D.maxHeight!==void 0&&(V.maxHeight=D.maxHeight+"px",p.height>D.maxHeight&&(V.minHeight=V.maxHeight)),D.maxWidth!==void 0&&(V.maxWidth=D.maxWidth+"px",p.width>D.maxWidth&&(V.minWidth=V.maxWidth)),Object.assign(n.style,V),n.scrollTop!==f&&(n.scrollTop=f),n.scrollLeft!==C&&(n.scrollLeft=C)}function ht(e,a,n,t,c){const r=n.bottom,o=n.right,v=Il(),b=window.innerHeight-v,_=document.body.clientWidth;if(e.top<0||e.top+r>b)if(c.vertical==="center")e.top=a[t.vertical]>b/2?Math.max(0,b-r):0,e.maxHeight=Math.min(r,b);else if(a[t.vertical]>b/2){const m=Math.min(b,t.vertical==="center"?a.center:t.vertical===c.vertical?a.bottom:a.top);e.maxHeight=Math.min(r,m),e.top=Math.max(0,m-r)}else e.top=Math.max(0,t.vertical==="center"?a.center:t.vertical===c.vertical?a.top:a.bottom),e.maxHeight=Math.min(r,b-e.top);if(e.left<0||e.left+o>_)if(e.maxWidth=Math.min(o,_),c.horizontal==="middle")e.left=a[t.horizontal]>_/2?Math.max(0,_-o):0;else if(a[t.horizontal]>_/2){const m=Math.min(_,t.horizontal==="middle"?a.middle:t.horizontal===c.horizontal?a.right:a.left);e.maxWidth=Math.min(o,m),e.left=Math.max(0,m-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?a.middle:t.horizontal===c.horizontal?a.left:a.right),e.maxWidth=Math.min(o,_-e.left)}const Ia=Be({name:"QMenu",inheritAttrs:!1,props:{...Va,...Fl,...Ct,...Rl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Jt},self:{type:String,validator:Jt},offset:{type:Array,validator:La},scrollTarget:Ol,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Hl,"click","escapeKey"],setup(e,{slots:a,emit:n,attrs:t}){let c=null,r,o,v;const b=Ie(),{proxy:_}=b,{$q:m}=_,x=E(null),C=E(!1),f=q(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),p=_t(e,m),{registerTick:K,removeTick:P}=Dl(),{registerTimeout:j}=Nl(),{transitionProps:te,transitionStyle:V}=Wl(e),{localScrollTarget:T,changeScrollEvent:D,unconfigureScrollTarget:F}=za(e,M),{anchorEl:U,canShow:$}=Ma({showing:C}),{hide:Y}=Ql({showing:C,canShow:$,handleShow:qe,handleHide:s,hideOnRouteChange:f,processOnMount:!0}),{showPortal:fe,hidePortal:oe,renderPortal:N}=Kl(b,x,g,"menu"),ie={anchorEl:U,innerRef:x,onClickOutside(u){if(e.persistent!==!0&&C.value===!0)return Y(u),(u.type==="touchstart"||u.target.classList.contains("q-dialog__backdrop"))&&_e(u),!0}},we=q(()=>Yt(e.anchor||(e.cover===!0?"center middle":"bottom start"),m.lang.rtl)),he=q(()=>e.cover===!0?we.value:Yt(e.self||"top start",m.lang.rtl)),ae=q(()=>(e.square===!0?" q-menu--square":"")+(p.value===!0?" q-menu--dark q-dark":"")),Fe=q(()=>e.autoClose===!0?{onClick:R}:{}),xe=q(()=>C.value===!0&&e.persistent!==!0);ge(xe,u=>{u===!0?(Yl(A),Aa(ie)):(Wt(A),Gt(ie))});function ye(){Zl(()=>{let u=x.value;u&&u.contains(document.activeElement)!==!0&&(u=u.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||u.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||u.querySelector("[autofocus], [data-autofocus]")||u,u.focus({preventScroll:!0}))})}function qe(u){if(c=e.noRefocus===!1?document.activeElement:null,jl(W),fe(),M(),r=void 0,u!==void 0&&(e.touchPosition||e.contextMenu)){const B=Ul(u);if(B.left!==void 0){const{top:I,left:le}=U.value.getBoundingClientRect();r={left:B.left-le,top:B.top-I}}}o===void 0&&(o=ge(()=>m.screen.width+"|"+m.screen.height+"|"+e.self+"|"+e.anchor+"|"+m.lang.rtl,i)),e.noFocus!==!0&&document.activeElement.blur(),K(()=>{i(),e.noFocus!==!0&&ye()}),j(()=>{m.platform.is.ios===!0&&(v=e.autoClose,x.value.click()),i(),fe(!0),n("show",u)},e.transitionDuration)}function s(u){P(),oe(),h(!0),c!==null&&(u===void 0||u.qClickOutside!==!0)&&(((u&&u.type.indexOf("key")===0?c.closest('[tabindex]:not([tabindex^="-"])'):void 0)||c).focus(),c=null),j(()=>{oe(!0),n("hide",u)},e.transitionDuration)}function h(u){r=void 0,o!==void 0&&(o(),o=void 0),(u===!0||C.value===!0)&&(Gl(W),F(),Gt(ie),Wt(A)),u!==!0&&(c=null)}function M(){(U.value!==null||e.scrollTarget!==void 0)&&(T.value=$l(U.value,e.scrollTarget),D(T.value,i))}function R(u){v!==!0?(Xl(_,u),n("click",u)):v=!1}function W(u){xe.value===!0&&e.noFocus!==!0&&ea(x.value,u.target)!==!0&&ye()}function A(u){n("escapeKey"),Y(u)}function i(){ul({targetEl:x.value,offset:e.offset,anchorEl:U.value,anchorOrigin:we.value,selfOrigin:he.value,absoluteOffset:r,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function g(){return z(Jl,te.value,()=>C.value===!0?z("div",{role:"menu",...t,ref:x,tabindex:-1,class:["q-menu q-position-engine scroll"+ae.value,t.class],style:[t.style,V.value],...Fe.value},kt(a.default)):null)}return et(h),Object.assign(_,{focus:ye,updatePosition:i}),N}});let ut=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const a=document.createElement("div");Object.assign(a.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(a),e.scrollLeft=-1e3,ut=e.scrollLeft>=0,e.remove()}const be=1e3,Fa=["start","center","end","start-force","center-force","end-force"],sl=Array.prototype.filter,Ra=window.getComputedStyle(document.body).overflowAnchor===void 0?ta:function(e,a){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];sl.call(n,c=>c.dataset&&c.dataset.qVsAnchor!==void 0).forEach(c=>{delete c.dataset.qVsAnchor});const t=n[a];t&&t.dataset&&(t.dataset.qVsAnchor="")}))};function Ge(e,a){return e+a}function yt(e,a,n,t,c,r,o,v){const b=e===window?document.scrollingElement||document.documentElement:e,_=c===!0?"offsetWidth":"offsetHeight",m={scrollStart:0,scrollViewSize:-o-v,scrollMaxSize:0,offsetStart:-o,offsetEnd:-v};if(c===!0?(e===window?(m.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,m.scrollViewSize+=document.documentElement.clientWidth):(m.scrollStart=b.scrollLeft,m.scrollViewSize+=b.clientWidth),m.scrollMaxSize=b.scrollWidth,r===!0&&(m.scrollStart=(ut===!0?m.scrollMaxSize-m.scrollViewSize:0)-m.scrollStart)):(e===window?(m.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,m.scrollViewSize+=document.documentElement.clientHeight):(m.scrollStart=b.scrollTop,m.scrollViewSize+=b.clientHeight),m.scrollMaxSize=b.scrollHeight),n!==null)for(let x=n.previousElementSibling;x!==null;x=x.previousElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(m.offsetStart+=x[_]);if(t!==null)for(let x=t.nextElementSibling;x!==null;x=x.nextElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(m.offsetEnd+=x[_]);if(a!==e){const x=b.getBoundingClientRect(),C=a.getBoundingClientRect();c===!0?(m.offsetStart+=C.left-x.left,m.offsetEnd-=C.width):(m.offsetStart+=C.top-x.top,m.offsetEnd-=C.height),e!==window&&(m.offsetStart+=m.scrollStart),m.offsetEnd+=m.scrollMaxSize-m.offsetStart}return m}function el(e,a,n,t){a==="end"&&(a=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(t===!0&&(a=(ut===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-a),window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a):n===!0?(t===!0&&(a=(ut===!0?e.scrollWidth-e.offsetWidth:0)-a),e.scrollLeft=a):e.scrollTop=a}function Je(e,a,n,t){if(n>=t)return 0;const c=a.length,r=Math.floor(n/be),o=Math.floor((t-1)/be)+1;let v=e.slice(r,o).reduce(Ge,0);return n%be!==0&&(v-=a.slice(r*be,n).reduce(Ge,0)),t%be!==0&&t!==c&&(v-=a.slice(t,o*be).reduce(Ge,0)),v}const Oa={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},tl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Oa};function Ha({virtualScrollLength:e,getVirtualScrollTarget:a,getVirtualScrollEl:n,virtualScrollItemSizeComputed:t}){const c=Ie(),{props:r,emit:o,proxy:v}=c,{$q:b}=v;let _,m,x,C=[],f;const p=E(0),K=E(0),P=E({}),j=E(null),te=E(null),V=E(null),T=E({from:0,to:0}),D=q(()=>r.tableColspan!==void 0?r.tableColspan:100);t===void 0&&(t=q(()=>r.virtualScrollItemSize));const F=q(()=>t.value+";"+r.virtualScrollHorizontal),U=q(()=>F.value+";"+r.virtualScrollSliceRatioBefore+";"+r.virtualScrollSliceRatioAfter);ge(U,()=>{ae()}),ge(F,$);function $(){he(m,!0)}function Y(s){he(s===void 0?m:s)}function fe(s,h){const M=a();if(M==null||M.nodeType===8)return;const R=yt(M,n(),j.value,te.value,r.virtualScrollHorizontal,b.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd);x!==R.scrollViewSize&&ae(R.scrollViewSize),N(M,R,Math.min(e.value-1,Math.max(0,parseInt(s,10)||0)),0,Fa.indexOf(h)!==-1?h:m!==-1&&s>m?"end":"start")}function oe(){const s=a();if(s==null||s.nodeType===8)return;const h=yt(s,n(),j.value,te.value,r.virtualScrollHorizontal,b.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd),M=e.value-1,R=h.scrollMaxSize-h.offsetStart-h.offsetEnd-K.value;if(_===h.scrollStart)return;if(h.scrollMaxSize<=0){N(s,h,0,0);return}x!==h.scrollViewSize&&ae(h.scrollViewSize),ie(T.value.from);const W=Math.floor(h.scrollMaxSize-Math.max(h.scrollViewSize,h.offsetEnd)-Math.min(f[M],h.scrollViewSize/2));if(W>0&&Math.ceil(h.scrollStart)>=W){N(s,h,M,h.scrollMaxSize-h.offsetEnd-C.reduce(Ge,0));return}let A=0,i=h.scrollStart-h.offsetStart,g=i;if(i<=R&&i+h.scrollViewSize>=p.value)i-=p.value,A=T.value.from,g=i;else for(let u=0;i>=C[u]&&A<M;u++)i-=C[u],A+=be;for(;i>0&&A<M;)i-=f[A],i>-h.scrollViewSize?(A++,g=i):g=f[A]+i;N(s,h,A,g)}function N(s,h,M,R,W){const A=typeof W=="string"&&W.indexOf("-force")!==-1,i=A===!0?W.replace("-force",""):W,g=i!==void 0?i:"start";let u=Math.max(0,M-P.value[g]),B=u+P.value.total;B>e.value&&(B=e.value,u=Math.max(0,B-P.value.total)),_=h.scrollStart;const I=u!==T.value.from||B!==T.value.to;if(I===!1&&i===void 0){xe(M);return}const{activeElement:le}=document,J=V.value;I===!0&&J!==null&&J!==le&&J.contains(le)===!0&&(J.addEventListener("focusout",we),setTimeout(()=>{J!==null&&J.removeEventListener("focusout",we)})),Ra(J,M-u);const pe=i!==void 0?f.slice(u,M).reduce(Ge,0):0;if(I===!0){const Q=B>=T.value.from&&u<=T.value.to?T.value.to:B;T.value={from:u,to:Q},p.value=Je(C,f,0,u),K.value=Je(C,f,B,e.value),requestAnimationFrame(()=>{T.value.to!==B&&_===h.scrollStart&&(T.value={from:T.value.from,to:B},K.value=Je(C,f,B,e.value))})}requestAnimationFrame(()=>{if(_!==h.scrollStart)return;I===!0&&ie(u);const Q=f.slice(u,M).reduce(Ge,0),ve=Q+h.offsetStart+p.value,Re=ve+f[M];let ke=ve+R;if(i!==void 0){const Oe=Q-pe,Ve=h.scrollStart+Oe;ke=A!==!0&&Ve<ve&&Re<Ve+h.scrollViewSize?Ve:i==="end"?Re-h.scrollViewSize:ve-(i==="start"?0:Math.round((h.scrollViewSize-f[M])/2))}_=ke,el(s,ke,r.virtualScrollHorizontal,b.lang.rtl),xe(M)})}function ie(s){const h=V.value;if(h){const M=sl.call(h.children,u=>u.classList&&u.classList.contains("q-virtual-scroll--skip")===!1),R=M.length,W=r.virtualScrollHorizontal===!0?u=>u.getBoundingClientRect().width:u=>u.offsetHeight;let A=s,i,g;for(let u=0;u<R;){for(i=W(M[u]),u++;u<R&&M[u].classList.contains("q-virtual-scroll--with-prev")===!0;)i+=W(M[u]),u++;g=i-f[A],g!==0&&(f[A]+=g,C[Math.floor(A/be)]+=g),A++}}}function we(){V.value!==null&&V.value!==void 0&&V.value.focus()}function he(s,h){const M=1*t.value;(h===!0||Array.isArray(f)===!1)&&(f=[]);const R=f.length;f.length=e.value;for(let A=e.value-1;A>=R;A--)f[A]=M;const W=Math.floor((e.value-1)/be);C=[];for(let A=0;A<=W;A++){let i=0;const g=Math.min((A+1)*be,e.value);for(let u=A*be;u<g;u++)i+=f[u];C.push(i)}m=-1,_=void 0,p.value=Je(C,f,0,T.value.from),K.value=Je(C,f,T.value.to,e.value),s>=0?(ie(T.value.from),Ce(()=>{fe(s)})):ye()}function ae(s){if(s===void 0&&typeof window<"u"){const i=a();i!=null&&i.nodeType!==8&&(s=yt(i,n(),j.value,te.value,r.virtualScrollHorizontal,b.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd).scrollViewSize)}x=s;const h=parseFloat(r.virtualScrollSliceRatioBefore)||0,M=parseFloat(r.virtualScrollSliceRatioAfter)||0,R=1+h+M,W=s===void 0||s<=0?1:Math.ceil(s/t.value),A=Math.max(1,W,Math.ceil((r.virtualScrollSliceSize>0?r.virtualScrollSliceSize:10)/R));P.value={total:Math.ceil(A*R),start:Math.ceil(A*h),center:Math.ceil(A*(.5+h)),end:Math.ceil(A*(1+h)),view:W}}function Fe(s,h){const M=r.virtualScrollHorizontal===!0?"width":"height",R={["--q-virtual-scroll-item-"+M]:t.value+"px"};return[s==="tbody"?z(s,{class:"q-virtual-scroll__padding",key:"before",ref:j},[z("tr",[z("td",{style:{[M]:`${p.value}px`,...R},colspan:D.value})])]):z(s,{class:"q-virtual-scroll__padding",key:"before",ref:j,style:{[M]:`${p.value}px`,...R}}),z(s,{class:"q-virtual-scroll__content",key:"content",ref:V,tabindex:-1},h.flat()),s==="tbody"?z(s,{class:"q-virtual-scroll__padding",key:"after",ref:te},[z("tr",[z("td",{style:{[M]:`${K.value}px`,...R},colspan:D.value})])]):z(s,{class:"q-virtual-scroll__padding",key:"after",ref:te,style:{[M]:`${K.value}px`,...R}})]}function xe(s){m!==s&&(r.onVirtualScroll!==void 0&&o("virtualScroll",{index:s,from:T.value.from,to:T.value.to-1,direction:s<m?"decrease":"increase",ref:v}),m=s)}ae();const ye=la(oe,b.platform.is.ios===!0?120:35);aa(()=>{ae()});let qe=!1;return na(()=>{qe=!0}),oa(()=>{if(qe!==!0)return;const s=a();_!==void 0&&s!==void 0&&s!==null&&s.nodeType!==8?el(s,_,r.virtualScrollHorizontal,b.lang.rtl):fe(m)}),et(()=>{ye.cancel()}),Object.assign(v,{scrollTo:fe,reset:$,refresh:Y}),{virtualScrollSliceRange:T,virtualScrollSliceSizeComputed:P,setVirtualScrollSize:ae,onVirtualScrollEvt:ye,localResetVirtualScroll:he,padVirtualScroll:Fe,scrollTo:fe,reset:$,refresh:Y}}const ll=e=>["add","add-unique","toggle"].includes(e),Da=".*+?^${}()|[]\\",Na=Object.keys(pt);function St(e,a){if(typeof e=="function")return e;const n=e!==void 0?e:a;return t=>t!==null&&typeof t=="object"&&n in t?t[n]:t}const al=Be({name:"QSelect",inheritAttrs:!1,props:{...tl,...ia,...pt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:ll},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:tl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...nl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:a,emit:n}){const{proxy:t}=Ie(),{$q:c}=t,r=E(!1),o=E(!1),v=E(-1),b=E(""),_=E(!1),m=E(!1);let x=null,C=null,f,p,K,P=null,j,te,V,T;const D=E(null),F=E(null),U=E(null),$=E(null),Y=E(null),fe=ua(e),oe=ca(It),N=q(()=>e.options.length),ie=q(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:we,virtualScrollSliceSizeComputed:he,localResetVirtualScroll:ae,padVirtualScroll:Fe,onVirtualScrollEvt:xe,scrollTo:ye,setVirtualScrollSize:qe}=Ha({virtualScrollLength:N,getVirtualScrollTarget:fl,getVirtualScrollEl:Tt,virtualScrollItemSizeComputed:ie}),s=il(),h=q(()=>{const l=e.mapOptions===!0&&e.multiple!==!0,y=e.modelValue!==void 0&&(e.modelValue!==null||l===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0){const S=e.mapOptions===!0&&f!==void 0?f:[],L=y.map(H=>dl(H,S));return e.modelValue===null&&l===!0?L.filter(H=>H!==null):L}return y}),M=q(()=>{const l={};return Na.forEach(y=>{const S=e[y];S!==void 0&&(l[y]=S)}),l}),R=q(()=>e.optionsDark===null?s.isDark.value:e.optionsDark),W=q(()=>Qt(h.value)),A=q(()=>{let l="q-field__input q-placeholder col";return e.hideSelected===!0||h.value.length===0?[l,e.inputClass]:(l+=" q-field__input--padding",e.inputClass===void 0?l:[l,e.inputClass])}),i=q(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),g=q(()=>N.value===0),u=q(()=>h.value.map(l=>Z.value(l)).join(", ")),B=q(()=>e.displayValue!==void 0?e.displayValue:u.value),I=q(()=>e.optionsHtml===!0?()=>!0:l=>l!=null&&l.html===!0),le=q(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||h.value.some(I.value))),J=q(()=>s.focused.value===!0?e.tabindex:-1),pe=q(()=>{const l={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":r.value===!0?"true":"false","aria-controls":`${s.targetUid.value}_lb`};return v.value>=0&&(l["aria-activedescendant"]=`${s.targetUid.value}_${v.value}`),l}),Q=q(()=>({id:`${s.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ve=q(()=>h.value.map((l,y)=>({index:y,opt:l,html:I.value(l),selected:!0,removeAtIndex:cl,toggleOption:Me,tabindex:J.value}))),Re=q(()=>{if(N.value===0)return[];const{from:l,to:y}=we.value;return e.options.slice(l,y).map((S,L)=>{const H=He.value(S)===!0,O=rt(S)===!0,ee=l+L,G={clickable:!0,active:O,activeClass:Ve.value,manualFocus:!0,focused:!1,disable:H,tabindex:-1,dense:e.optionsDense,dark:R.value,role:"option","aria-selected":O===!0?"true":"false",id:`${s.targetUid.value}_${ee}`,onClick:()=>{Me(S)}};return H!==!0&&(v.value===ee&&(G.focused=!0),c.platform.is.desktop===!0&&(G.onMousemove=()=>{r.value===!0&&De(ee)})),{index:ee,opt:S,html:I.value(S),label:Z.value(S),selected:G.active,focused:G.focused,toggleOption:Me,setOptionIndex:De,itemProps:G}})}),ke=q(()=>e.dropdownIcon!==void 0?e.dropdownIcon:c.iconSet.arrow.dropdown),Oe=q(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ve=q(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ue=q(()=>St(e.optionValue,"value")),Z=q(()=>St(e.optionLabel,"label")),He=q(()=>St(e.optionDisable,"disable")),tt=q(()=>h.value.map(ue.value)),rl=q(()=>{const l={onInput:It,onChange:oe,onKeydown:Et,onKeyup:At,onKeypress:Lt,onFocus:Mt,onClick(y){p===!0&&je(y)}};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=oe,l});ge(h,l=>{f=l,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&s.innerLoading.value!==!0&&(o.value!==!0&&r.value!==!0||W.value!==!0)&&(K!==!0&&Ke(),(o.value===!0||r.value===!0)&&Ne(""))},{immediate:!0}),ge(()=>e.fillInput,Ke),ge(r,ct),ge(N,_l);function Pt(l){return e.emitValue===!0?ue.value(l):l}function st(l){if(l!==-1&&l<h.value.length)if(e.multiple===!0){const y=e.modelValue.slice();n("remove",{index:l,value:y.splice(l,1)[0]}),n("update:modelValue",y)}else n("update:modelValue",null)}function cl(l){st(l),s.focus()}function Vt(l,y){const S=Pt(l);if(e.multiple!==!0){e.fillInput===!0&&$e(Z.value(l),!0,!0),n("update:modelValue",S);return}if(h.value.length===0){n("add",{index:0,value:S}),n("update:modelValue",e.multiple===!0?[S]:S);return}if(y===!0&&rt(l)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const L=e.modelValue.slice();n("add",{index:L.length,value:S}),L.push(S),n("update:modelValue",L)}function Me(l,y){if(s.editable.value!==!0||l===void 0||He.value(l)===!0)return;const S=ue.value(l);if(e.multiple!==!0){y!==!0&&($e(e.fillInput===!0?Z.value(l):"",!0,!0),ze()),F.value!==null&&F.value.focus(),(h.value.length===0||Xe(ue.value(h.value[0]),S)!==!0)&&n("update:modelValue",e.emitValue===!0?S:l);return}if((p!==!0||_.value===!0)&&s.focus(),Mt(),h.value.length===0){const O=e.emitValue===!0?S:l;n("add",{index:0,value:O}),n("update:modelValue",e.multiple===!0?[O]:O);return}const L=e.modelValue.slice(),H=tt.value.findIndex(O=>Xe(O,S));if(H!==-1)n("remove",{index:H,value:L.splice(H,1)[0]});else{if(e.maxValues!==void 0&&L.length>=e.maxValues)return;const O=e.emitValue===!0?S:l;n("add",{index:L.length,value:O}),L.push(O)}n("update:modelValue",L)}function De(l){if(c.platform.is.desktop!==!0)return;const y=l!==-1&&l<N.value?l:-1;v.value!==y&&(v.value=y)}function lt(l=1,y){if(r.value===!0){let S=v.value;do S=Ut(S+l,-1,N.value-1);while(S!==-1&&S!==v.value&&He.value(e.options[S])===!0);v.value!==S&&(De(S),ye(S),y!==!0&&e.useInput===!0&&e.fillInput===!0&&at(S>=0?Z.value(e.options[S]):j,!0))}}function dl(l,y){const S=L=>Xe(ue.value(L),l);return e.options.find(S)||y.find(S)||l}function rt(l){const y=ue.value(l);return tt.value.find(S=>Xe(S,y))!==void 0}function Mt(l){e.useInput===!0&&F.value!==null&&(l===void 0||F.value===l.target&&l.target.value===u.value)&&F.value.select()}function zt(l){qt(l,27)===!0&&r.value===!0&&(je(l),ze(),Ke()),n("keyup",l)}function At(l){const{value:y}=l.target;if(l.keyCode!==void 0){zt(l);return}if(l.target.value="",x!==null&&(clearTimeout(x),x=null),C!==null&&(clearTimeout(C),C=null),Ke(),typeof y=="string"&&y.length!==0){const S=y.toLocaleLowerCase(),L=O=>{const ee=e.options.find(G=>O.value(G).toLocaleLowerCase()===S);return ee===void 0?!1:(h.value.indexOf(ee)===-1?Me(ee):ze(),!0)},H=O=>{L(ue)!==!0&&(L(Z)===!0||O===!0||Ne(y,!0,()=>H(!0)))};H()}else s.clearValue(l)}function Lt(l){n("keypress",l)}function Et(l){if(n("keydown",l),da(l)===!0)return;const y=b.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),S=l.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(v.value!==-1||y===!0);if(l.keyCode===27){Ze(l);return}if(l.keyCode===9&&S===!1){We();return}if(l.target===void 0||l.target.id!==s.targetUid.value||s.editable.value!==!0)return;if(l.keyCode===40&&s.innerLoading.value!==!0&&r.value===!1){_e(l),Qe();return}if(l.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&b.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?st(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(l.keyCode===35||l.keyCode===36)&&(typeof b.value!="string"||b.value.length===0)&&(_e(l),v.value=-1,lt(l.keyCode===36?1:-1,e.multiple)),(l.keyCode===33||l.keyCode===34)&&he.value!==void 0&&(_e(l),v.value=Math.max(-1,Math.min(N.value,v.value+(l.keyCode===33?-1:1)*he.value.view)),lt(l.keyCode===33?1:-1,e.multiple)),(l.keyCode===38||l.keyCode===40)&&(_e(l),lt(l.keyCode===38?-1:1,e.multiple));const L=N.value;if((V===void 0||T<Date.now())&&(V=""),L>0&&e.useInput!==!0&&l.key!==void 0&&l.key.length===1&&l.altKey===!1&&l.ctrlKey===!1&&l.metaKey===!1&&(l.keyCode!==32||V.length!==0)){r.value!==!0&&Qe(l);const H=l.key.toLocaleLowerCase(),O=V.length===1&&V[0]===H;T=Date.now()+1500,O===!1&&(_e(l),V+=H);const ee=new RegExp("^"+V.split("").map(dt=>Da.indexOf(dt)!==-1?"\\"+dt:dt).join(".*"),"i");let G=v.value;if(O===!0||G<0||ee.test(Z.value(e.options[G]))!==!0)do G=Ut(G+1,-1,L-1);while(G!==v.value&&(He.value(e.options[G])===!0||ee.test(Z.value(e.options[G]))!==!0));v.value!==G&&Ce(()=>{De(G),ye(G),G>=0&&e.useInput===!0&&e.fillInput===!0&&at(Z.value(e.options[G]),!0)});return}if(!(l.keyCode!==13&&(l.keyCode!==32||e.useInput===!0||V!=="")&&(l.keyCode!==9||S===!1))){if(l.keyCode!==9&&_e(l),v.value!==-1&&v.value<L){Me(e.options[v.value]);return}if(y===!0){const H=(O,ee)=>{if(ee){if(ll(ee)!==!0)return}else ee=e.newValueMode;if($e("",e.multiple!==!0,!0),O==null)return;(ee==="toggle"?Me:Vt)(O,ee==="add-unique"),e.multiple!==!0&&(F.value!==null&&F.value.focus(),ze())};if(e.onNewValue!==void 0?n("newValue",b.value,H):H(b.value),e.multiple!==!0)return}r.value===!0?We():s.innerLoading.value!==!0&&Qe()}}function Tt(){return p===!0?Y.value:U.value!==null&&U.value.contentEl!==null?U.value.contentEl:void 0}function fl(){return Tt()}function vl(){return e.hideSelected===!0?[]:a["selected-item"]!==void 0?ve.value.map(l=>a["selected-item"](l)).slice():a.selected!==void 0?[].concat(a.selected()):e.useChips===!0?ve.value.map((l,y)=>z(de,{key:"option-"+y,removable:s.editable.value===!0&&He.value(l.opt)!==!0,dense:!0,textColor:e.color,tabindex:J.value,onRemove(){l.removeAtIndex(y)}},()=>z("span",{class:"ellipsis",[l.html===!0?"innerHTML":"textContent"]:Z.value(l.opt)}))):[z("span",{[le.value===!0?"innerHTML":"textContent"]:B.value})]}function Bt(){if(g.value===!0)return a["no-option"]!==void 0?a["no-option"]({inputValue:b.value}):void 0;const l=a.option!==void 0?a.option:S=>z(Ye,{key:S.index,...S.itemProps},()=>z(Se,()=>z(Ee,()=>z("span",{[S.html===!0?"innerHTML":"textContent"]:S.label}))));let y=Fe("div",Re.value.map(l));return a["before-options"]!==void 0&&(y=a["before-options"]().concat(y)),fa(a["after-options"],y)}function ml(l,y){const S=y===!0?{...pe.value,...s.splitAttrs.attributes.value}:void 0,L={ref:y===!0?F:void 0,key:"i_t",class:A.value,style:e.inputStyle,value:b.value!==void 0?b.value:"",type:"search",...S,id:y===!0?s.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":l===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...rl.value};return l!==!0&&p===!0&&(Array.isArray(L.class)===!0?L.class=[...L.class,"no-pointer-events"]:L.class+=" no-pointer-events"),z("input",L)}function It(l){x!==null&&(clearTimeout(x),x=null),C!==null&&(clearTimeout(C),C=null),!(l&&l.target&&l.target.qComposing===!0)&&(at(l.target.value||""),K=!0,j=b.value,s.focused.value!==!0&&(p!==!0||_.value===!0)&&s.focus(),e.onFilter!==void 0&&(x=setTimeout(()=>{x=null,Ne(b.value)},e.inputDebounce)))}function at(l,y){b.value!==l&&(b.value=l,y===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",l):C=setTimeout(()=>{C=null,n("inputValue",l)},e.inputDebounce))}function $e(l,y,S){K=S!==!0,e.useInput===!0&&(at(l,!0),(y===!0||S!==!0)&&(j=l),y!==!0&&Ne(l))}function Ne(l,y,S){if(e.onFilter===void 0||y!==!0&&s.focused.value!==!0)return;s.innerLoading.value===!0?n("filterAbort"):(s.innerLoading.value=!0,m.value=!0),l!==""&&e.multiple!==!0&&h.value.length!==0&&K!==!0&&l===Z.value(h.value[0])&&(l="");const L=setTimeout(()=>{r.value===!0&&(r.value=!1)},10);P!==null&&clearTimeout(P),P=L,n("filter",l,(H,O)=>{(y===!0||s.focused.value===!0)&&P===L&&(clearTimeout(P),typeof H=="function"&&H(),m.value=!1,Ce(()=>{s.innerLoading.value=!1,s.editable.value===!0&&(y===!0?r.value===!0&&ze():r.value===!0?ct(!0):r.value=!0),typeof O=="function"&&Ce(()=>{O(t)}),typeof S=="function"&&Ce(()=>{S(t)})}))},()=>{s.focused.value===!0&&P===L&&(clearTimeout(P),s.innerLoading.value=!1,m.value=!1),r.value===!0&&(r.value=!1)})}function gl(){return z(Ia,{ref:U,class:i.value,style:e.popupContentStyle,modelValue:r.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&g.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:R.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Oe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Q.value,onScrollPassive:xe,onBeforeShow:Rt,onBeforeHide:hl,onShow:yl},Bt)}function hl(l){Ot(l),We()}function yl(){qe()}function Sl(l){je(l),F.value!==null&&F.value.focus(),_.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function bl(l){je(l),Ce(()=>{_.value=!1})}function wl(){const l=[z(qa,{class:`col-auto ${s.fieldClass.value}`,...M.value,for:s.targetUid.value,dark:R.value,square:!0,loading:m.value,itemAligned:!1,filled:!0,stackLabel:b.value.length!==0,...s.splitAttrs.listeners.value,onFocus:Sl,onBlur:bl},{...a,rawControl:()=>s.getControl(!0),before:void 0,after:void 0})];return r.value===!0&&l.push(z("div",{ref:Y,class:i.value+" scroll",style:e.popupContentStyle,...Q.value,onClick:Ze,onScrollPassive:xe},Bt())),z(nt,{ref:$,modelValue:o.value,position:e.useInput===!0?"top":void 0,transitionShow:te,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Rt,onBeforeHide:xl,onHide:pl,onShow:Cl},()=>z("div",{class:"q-select__dialog"+(R.value===!0?" q-select__dialog--dark q-dark":"")+(_.value===!0?" q-select__dialog--focused":"")},l))}function xl(l){Ot(l),$.value!==null&&$.value.__updateRefocusTarget(s.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),s.focused.value=!1}function pl(l){ze(),s.focused.value===!1&&n("blur",l),Ke()}function Cl(){const l=document.activeElement;(l===null||l.id!==s.targetUid.value)&&F.value!==null&&F.value!==l&&F.value.focus(),qe()}function We(){o.value!==!0&&(v.value=-1,r.value===!0&&(r.value=!1),s.focused.value===!1&&(P!==null&&(clearTimeout(P),P=null),s.innerLoading.value===!0&&(n("filterAbort"),s.innerLoading.value=!1,m.value=!1)))}function Qe(l){s.editable.value===!0&&(p===!0?(s.onControlFocusin(l),o.value=!0,Ce(()=>{s.focus()})):s.focus(),e.onFilter!==void 0?Ne(b.value):(g.value!==!0||a["no-option"]!==void 0)&&(r.value=!0))}function ze(){o.value=!1,We()}function Ke(){e.useInput===!0&&$e(e.multiple!==!0&&e.fillInput===!0&&h.value.length!==0&&Z.value(h.value[0])||"",!0,!0)}function ct(l){let y=-1;if(l===!0){if(h.value.length!==0){const S=ue.value(h.value[0]);y=e.options.findIndex(L=>Xe(ue.value(L),S))}ae(y)}De(y)}function _l(l,y){r.value===!0&&s.innerLoading.value===!1&&(ae(-1,!0),Ce(()=>{r.value===!0&&s.innerLoading.value===!1&&(l>y?ae():ct(!0))}))}function Ft(){o.value===!1&&U.value!==null&&U.value.updatePosition()}function Rt(l){l!==void 0&&je(l),n("popupShow",l),s.hasPopupOpen=!0,s.onControlFocusin(l)}function Ot(l){l!==void 0&&je(l),n("popupHide",l),s.hasPopupOpen=!1,s.onControlFocusout(l)}function Ht(){p=c.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?a["no-option"]!==void 0||e.onFilter!==void 0||g.value===!1:!0),te=c.platform.is.ios===!0&&p===!0&&e.useInput===!0?"fade":e.transitionShow}return sa(Ht),ra(Ft),Ht(),et(()=>{x!==null&&clearTimeout(x),C!==null&&clearTimeout(C)}),Object.assign(t,{showPopup:Qe,hidePopup:ze,removeAtIndex:st,add:Vt,toggleOption:Me,getOptionIndex:()=>v.value,setOptionIndex:De,moveOptionSelection:lt,filter:Ne,updateMenuPosition:Ft,updateInputValue:$e,isOptionSelected:rt,getEmittingOptionValue:Pt,isOptionDisabled:(...l)=>He.value.apply(null,l)===!0,getOptionValue:(...l)=>ue.value.apply(null,l),getOptionLabel:(...l)=>Z.value.apply(null,l)}),Object.assign(s,{innerValue:h,fieldClass:q(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:D,targetRef:F,hasValue:W,showPopup:Qe,floatingLabel:q(()=>e.hideSelected!==!0&&W.value===!0||typeof b.value=="number"||b.value.length!==0||Qt(e.displayValue)),getControlChild:()=>{if(s.editable.value!==!1&&(o.value===!0||g.value!==!0||a["no-option"]!==void 0))return p===!0?wl():gl();s.hasPopupOpen===!0&&(s.hasPopupOpen=!1)},controlEvents:{onFocusin(l){s.onControlFocusin(l)},onFocusout(l){s.onControlFocusout(l,()=>{Ke(),We()})},onClick(l){if(Ze(l),p!==!0&&r.value===!0){We(),F.value!==null&&F.value.focus();return}Qe(l)}},getControl:l=>{const y=vl(),S=l===!0||o.value!==!0||p!==!0;if(e.useInput===!0)y.push(ml(l,S));else if(s.editable.value===!0){const H=S===!0?pe.value:void 0;y.push(z("input",{ref:S===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:S===!0?s.targetUid.value:void 0,value:B.value,readonly:!0,"data-autofocus":l===!0||e.autofocus===!0||void 0,...H,onKeydown:Et,onKeyup:zt,onKeypress:Lt})),S===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&y.push(z("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:At}))}if(fe.value!==void 0&&e.disable!==!0&&tt.value.length!==0){const H=tt.value.map(O=>z("option",{value:O,selected:!0}));y.push(z("select",{class:"hidden",name:fe.value,multiple:e.multiple},H))}const L=e.useInput===!0||S!==!0?void 0:s.splitAttrs.attributes.value;return z("div",{class:"q-field__native row items-center",...L,...s.splitAttrs.listeners.value},y)},getInnerAppend:()=>e.loading!==!0&&m.value!==!0&&e.hideDropdownIcon!==!0?[z(X,{class:"q-select__dropdown-icon"+(r.value===!0?" rotate-180":""),name:ke.value})]:null}),ol(s)}}),Wa=Be({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:a}){const{proxy:{$q:n}}=Ie(),t=wt(va,Ue);if(t===Ue)return console.error("QPage needs to be a deep child of QLayout"),Ue;if(wt(ma,Ue)===Ue)return console.error("QPage needs to be child of QPageContainer"),Ue;const r=q(()=>{const v=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const b=t.isContainer.value===!0?t.containerHeight.value:n.screen.height;return e.styleFn(v,b)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-v+"px":n.screen.height===0?v!==0?`calc(100vh - ${v}px)`:"100vh":n.screen.height-v+"px"}}),o=q(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>z("main",{class:o.value,style:r.value},kt(a.default))}});function Qa(){return wt(ga)}const Ka=ha({__name:"IndexPage",setup(e,{expose:a}){a();const n=Qa(),t=E($()),c=E(Y()),r=E(fe()),o=E(null),v=E(null),b=E(!1),_=E(!1),m=E(!1),x=E(null),C=E(-1),f=E("gamesPlayed"),p=[{label:"Beginner",value:1,description:"New to the game"},{label:"Intermediate",value:2,description:"Some experience"},{label:"Advanced",value:3,description:"Experienced player"}],K=[{label:"Games Played",value:"gamesPlayed"},{label:"Wins",value:"wins"},{label:"Losses",value:"losses"},{label:"Name",value:"name"}],P=q(()=>{const i=c.value.length,g=c.value.filter(I=>I.level===1).length,u=c.value.filter(I=>I.level===2).length,B=c.value.filter(I=>I.level===3).length;return{total:i,level1:g,level2:u,level3:B}}),j=q(()=>[...t.value].sort((i,g)=>{if(f.value==="gamesPlayed"){if(i.gamesPlayed!==g.gamesPlayed)return g.gamesPlayed-i.gamesPlayed}else if(f.value==="wins"){if(i.wins!==g.wins)return g.wins-i.wins}else if(f.value==="losses"){if(i.losses!==g.losses)return g.losses-i.losses}else if(f.value==="name")return i.name.localeCompare(g.name);return i.name.localeCompare(g.name)})),te=q(()=>C.value>=0&&C.value<r.value.length?r.value[C.value]:[]),V=i=>{switch(i){case 1:return"green";case 2:return"orange";case 3:return"red";default:return"grey"}},T=i=>{switch(i){case 1:return"star_border";case 2:return"star_half";case 3:return"star";default:return"star_outline"}},D=()=>c.value.length>=4,F=()=>{const i=c.value.length;if(i<4)return`Need ${4-i} more players to generate matches`;const g=Math.floor(i/4),u=i%4;return u===0?`Can generate ${g} match${g>1?"es":""}`:u===1?`Can generate ${g} match${g>1?"es":""} (1 player will wait)`:u===2?`Can generate ${g} match${g>1?"es":""} (2 players will wait)`:`Can generate ${g} match${g>1?"es":""} (3 players will wait)`},U=()=>{const g=c.value.length%4;if(g===0)return"";const u={1:"Practice serves or warm up",2:"Practice doubles positioning",3:"Practice singles or wait for 1 more player"};return`${g} player${g>1?"s":""} waiting - ${u[g]}`};function $(){const i=localStorage.getItem("playerList");return(i?JSON.parse(i):[]).map(u=>({...u,wins:u.wins||0,losses:u.losses||0}))}function Y(){const i=localStorage.getItem("playerQueue");return(i?JSON.parse(i):[]).map(u=>({...u,wins:u.wins||0,losses:u.losses||0}))}function fe(){const i=localStorage.getItem("matches");return(i?JSON.parse(i):[]).map(u=>u.map(B=>({...B,wins:B.wins||0,losses:B.losses||0})))}function oe(i){localStorage.setItem("playerList",JSON.stringify(i))}function N(i){localStorage.setItem("playerQueue",JSON.stringify(i))}function ie(i){localStorage.setItem("matches",JSON.stringify(i))}const we=()=>{const i=[],g=[...c.value].sort((I,le)=>I.gamesPlayed-le.gamesPlayed),u=Math.floor(g.length/4);for(let I=0;I<u;I++){const le=g.splice(0,4),J=he(le);i.push(J)}const B=i.flat().map(I=>I.name);return c.value=c.value.filter(I=>!B.includes(I.name)),i},he=i=>{const g=[...i].sort((Q,ve)=>Q.level-ve.level),B=ae(g).map(Q=>{const ve=Q.team1,Re=Q.team2,ke=ve.reduce((ue,Z)=>ue+Z.level,0),Oe=Re.reduce((ue,Z)=>ue+Z.level,0),Ve=Math.abs(ke-Oe);return{...Q,difference:Ve,team1Skill:ke,team2Skill:Oe}});B.sort((Q,ve)=>Q.difference-ve.difference);const I=B[0].difference,le=B.filter(Q=>Q.difference<=I+1),J=Math.floor(Math.random()*le.length),pe=le[J];return[...pe.team1,...pe.team2]},ae=i=>{const g=[],u=[0,1,2,3],B=[[0,1],[0,2],[0,3],[1,2],[1,3],[2,3]];for(const I of B){const le=u.filter(Q=>!I.includes(Q)),J=I.map(Q=>i[Q]),pe=le.map(Q=>i[Q]);g.push({team1:J,team2:pe})}return g},A={$q:n,players:t,queue:c,matches:r,newPlayerName:o,newPlayerLevel:v,showAddPlayerDialog:b,showSettingsDialog:_,showMatchResultDialog:m,selectedWinner:x,currentMatchIndex:C,sortBy:f,levelOptions:p,sortOptions:K,queueStats:P,sortedPlayers:j,currentMatch:te,getLevelColor:V,getLevelIcon:T,canGenerateMatches:D,getMatchGenerationHint:F,getWaitingPlayersInfo:U,getPlayersFromStorage:$,getQueueFromStorage:Y,getMatchesFromStorage:fe,savePlayersToStorage:oe,saveQueueToStorage:N,saveMatchesToStorage:ie,generateMatches:we,createBalancedMatch:he,generateTeamCombinations:ae,addNewPlayer:()=>{if(!o.value?.trim()){n.notify({type:"negative",message:"Please enter a player name",position:"top"});return}if(v.value===null){n.notify({type:"negative",message:"Please select a player level",position:"top"});return}const i=o.value.trim();if(t.value.some(u=>u.name.toLowerCase()===i.toLowerCase())){n.notify({type:"negative",message:`Player "${i}" already exists`,position:"top"});return}const g={name:i,level:v.value,gamesPlayed:0,wins:0,losses:0};t.value.push(g),c.value.push(g),oe(t.value),N(c.value),n.notify({type:"positive",message:`Player "${i}" added successfully`,position:"top"}),o.value=null,v.value=null,b.value=!1},generateNewMatches:()=>{const i=we();if(r.value=[...r.value,...i],N(c.value),ie(r.value),i.length>0){const g=c.value.length;let u=`Generated ${i.length} new match(es)`;g>0&&(u+=`. ${g} player${g>1?"s":""} waiting for more players`,g===1?u+=" (suggest: practice serves or warm up)":g===2?u+=" (suggest: practice doubles positioning)":g===3&&(u+=" (suggest: practice singles or wait for 1 more player)")),n.notify({type:"positive",message:u,position:"top",timeout:5e3})}else n.notify({type:"warning",message:"Not enough players in queue to generate matches",position:"top"})},openMatchResultDialog:i=>{C.value=i,x.value=null,m.value=!0},completeMatch:()=>{if(x.value===null||C.value===-1)return;const i=r.value[C.value];i.forEach(g=>{const u=t.value.find(B=>B.name===g.name);if(u){u.gamesPlayed++;const I=i.findIndex(J=>J.name===g.name)<2;x.value==="team1"&&I||x.value==="team2"&&!I?u.wins++:u.losses++}}),r.value.splice(C.value,1),ie(r.value),oe(t.value),m.value=!1,x.value=null,C.value=-1,n.notify({type:"positive",message:"Match completed! Stats updated.",position:"top"})},removePlayer:i=>{n.dialog({title:"Confirm Removal",message:`Are you sure you want to remove "${i}" from all lists?`,cancel:!0,persistent:!0}).onOk(()=>{t.value=t.value.filter(g=>g.name!==i),c.value=c.value.filter(g=>g.name!==i),oe(t.value),N(c.value),n.notify({type:"positive",message:`Player "${i}" removed successfully`,position:"top"})})},removeFromQueue:i=>{c.value=c.value.filter(g=>g.name!==i),N(c.value),n.notify({type:"info",message:`Player "${i}" removed from queue`,position:"top"})},resetGamesPlayed:()=>{n.dialog({title:"Confirm Reset",message:"Are you sure you want to reset all games played counters to zero?",ok:{label:"Reset",color:"negative"},cancel:{label:"Cancel",color:"grey"},persistent:!0}).onOk(()=>{t.value.forEach(i=>{i.gamesPlayed=0,i.wins=0,i.losses=0}),oe(t.value),n.notify({type:"positive",message:"All games played counters have been reset",position:"top"})})},requeuePlayer:i=>{const g=t.value.find(u=>u.name===i);if(g){if(c.value.some(u=>u.name===i)){n.notify({type:"warning",message:`Player "${i}" is already in the queue`,position:"top"});return}c.value.push(g),N(c.value),n.notify({type:"positive",message:`Player "${i}" added to queue`,position:"top"})}},resetAllData:()=>{n.dialog({title:"Confirm Reset All",message:"This will clear all players, queue, and matches. Are you sure?",ok:{label:"Reset All",color:"negative"},cancel:{label:"Cancel",color:"grey"},persistent:!0}).onOk(()=>{t.value=[],c.value=[],r.value=[],oe(t.value),N(c.value),ie(r.value),n.notify({type:"positive",message:"All data has been reset",position:"top"})})}};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),ja={class:"header-section"},Ua={class:"container"},Ga={class:"row items-center justify-between"},$a={class:"col-auto"},Xa={class:"container q-pa-md"},Ja={class:"row q-col-gutter-lg"},Ya={class:"col-12 col-md-4"},Za={class:"row items-center justify-between"},en={class:"text-h6"},tn={class:"row items-center q-gutter-xs"},ln={class:"card-content"},an={class:"q-ml-sm text-positive"},nn={class:"q-ml-sm text-negative"},on={class:"row items-center q-gutter-xs"},un={key:1,class:"empty-state"},sn={class:"col-12 col-md-4"},rn={class:"row items-center justify-between"},cn={class:"text-h6"},dn={class:"queue-stats"},fn={class:"card-content"},vn={class:"q-ml-sm"},mn={key:1,class:"empty-state"},gn={class:"text-caption text-grey-6 q-mt-sm text-center"},hn={key:0,class:"q-mt-md"},yn={class:"text-caption text-orange q-mt-sm"},Sn={class:"col-12 col-md-4"},bn={class:"text-h6"},wn={class:"card-content"},xn={class:"match-teams"},pn={class:"team team-1"},Cn={class:"vs-divider"},_n={class:"team team-2"},qn={key:1,class:"empty-state"},kn={class:"text-h6"},Pn={class:"q-gutter-y-md"},Vn={class:"text-h6"},Mn={class:"q-gutter-y-md"},zn={class:"row q-col-gutter-md"},An={class:"col-6"},Ln={class:"col-6"},En={class:"text-h6"},Tn={class:"q-gutter-y-md"};function Bn(e,a,n,t,c,r){return se(),Ae(Wa,{class:"doubles-queue-page"},{default:w(()=>[k("div",ja,[k("div",Ua,[k("div",Ga,[a[13]||(a[13]=k("div",{class:"col"},[k("h1",{class:"text-h4 text-weight-bold text-white q-mb-xs"},"  Doubles Queue Master "),k("p",{class:"text-subtitle1 text-grey-1 q-ma-none"}," Smart matchmaking system ")],-1)),k("div",$a,[d(re,{color:"white",icon:"settings",label:"Settings",onClick:a[0]||(a[0]=o=>t.showSettingsDialog=!0),flat:""})])])])]),k("div",Xa,[k("div",Ja,[k("div",Ya,[d(Pe,{class:"players-card",flat:"",bordered:""},{default:w(()=>[d(ne,{class:"bg-secondary text-white"},{default:w(()=>[k("div",Za,[k("div",en,[d(X,{name:"people",class:"q-mr-sm"}),me(" Players ("+ce(t.players.length)+") ",1)]),k("div",tn,[d(al,{modelValue:t.sortBy,"onUpdate:modelValue":a[1]||(a[1]=o=>t.sortBy=o),options:t.sortOptions,dense:"",outlined:"",dark:"",color:"white",class:"sort-select",style:{"min-width":"120px"},"emit-value":"","map-options":""},{prepend:w(()=>[d(X,{name:"sort"})]),_:1},8,["modelValue"]),d(re,{color:"white",onClick:a[2]||(a[2]=o=>t.showAddPlayerDialog=!0),icon:"person_add",flat:"",round:"",dense:""})])])]),_:1}),d(ne,{class:"q-pa-none"},{default:w(()=>[k("div",ln,[t.players.length>0?(se(),Ae(gt,{key:0,separator:""},{default:w(()=>[(se(!0),Le(vt,null,ft(t.sortedPlayers,o=>(se(),Ae(Ye,{key:o.name,class:"player-item"},{default:w(()=>[d(Se,{avatar:""},{default:w(()=>[d(jt,{color:t.getLevelColor(o.level),"text-color":"white",size:"md"},{default:w(()=>[me(ce(o.gamesPlayed),1)]),_:2},1032,["color"])]),_:2},1024),d(Se,null,{default:w(()=>[d(Ee,{class:"text-weight-medium"},{default:w(()=>[me(ce(o.name),1)]),_:2},1024),d(Ee,{caption:""},{default:w(()=>[d(de,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),k("span",an,"W: "+ce(o.wins),1),k("span",nn,"L: "+ce(o.losses),1)]),_:2},1024)]),_:2},1024),d(Se,{side:""},{default:w(()=>[k("div",on,[d(re,{flat:"",round:"",color:"negative",onClick:v=>t.removePlayer(o.name),icon:"delete",size:"sm"},null,8,["onClick"]),d(re,{flat:"",color:"secondary",onClick:v=>t.requeuePlayer(o.name),icon:"add_to_queue",size:"sm",disable:t.queue.some(v=>v.name===o.name)},null,8,["onClick","disable"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(se(),Le("div",un,[d(X,{name:"people",size:"48px",color:"grey-4"}),a[14]||(a[14]=k("p",{class:"text-grey-6 q-mt-sm"},"No players added yet",-1)),a[15]||(a[15]=k("p",{class:"text-caption text-grey-5"},"Click the + button to add your first player",-1))]))])]),_:1})]),_:1})]),k("div",sn,[d(Pe,{class:"queue-card",flat:"",bordered:""},{default:w(()=>[d(ne,{class:"bg-accent text-white"},{default:w(()=>[k("div",rn,[k("div",cn,[d(X,{name:"queue",class:"q-mr-sm"}),me(" Players Queue ("+ce(t.queue.length)+") ",1)]),k("div",dn,[d(de,{label:`L1: ${t.queueStats.level1}`,color:"green","text-color":"white",size:"sm"},null,8,["label"]),d(de,{label:`L2: ${t.queueStats.level2}`,color:"orange","text-color":"white",size:"sm"},null,8,["label"]),d(de,{label:`L3: ${t.queueStats.level3}`,color:"red","text-color":"white",size:"sm"},null,8,["label"])])])]),_:1}),d(ne,{class:"q-pa-none"},{default:w(()=>[k("div",fn,[t.queue.length>0?(se(),Ae(gt,{key:0,separator:""},{default:w(()=>[(se(!0),Le(vt,null,ft(t.queue,(o,v)=>(se(),Ae(Ye,{key:o.name,class:"queue-item"},{default:w(()=>[d(Se,{avatar:""},{default:w(()=>[d(jt,{color:t.getLevelColor(o.level),"text-color":"white",size:"sm"},{default:w(()=>[me(ce(v+1),1)]),_:2},1032,["color"])]),_:2},1024),d(Se,null,{default:w(()=>[d(Ee,{class:"text-weight-medium"},{default:w(()=>[me(ce(o.name),1)]),_:2},1024),d(Ee,{caption:""},{default:w(()=>[d(de,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),k("span",vn,ce(o.gamesPlayed)+" games",1)]),_:2},1024)]),_:2},1024),d(Se,{side:""},{default:w(()=>[d(re,{flat:"",round:"",color:"negative",onClick:b=>t.removeFromQueue(o.name),icon:"remove_circle",size:"sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(se(),Le("div",mn,[d(X,{name:"queue",size:"48px",color:"grey-4"}),a[16]||(a[16]=k("p",{class:"text-grey-6 q-mt-sm"},"Queue is empty",-1)),a[17]||(a[17]=k("p",{class:"text-caption text-grey-5"},"Add players to start generating matches",-1))]))])]),_:1}),d(ne,null,{default:w(()=>[d(re,{class:"full-width",color:"primary",onClick:t.generateNewMatches,label:"Generate Matches",size:"lg",icon:"shuffle",disable:!t.canGenerateMatches()},null,8,["disable"]),k("div",gn,ce(t.getMatchGenerationHint()),1),t.queue.length>0&&t.queue.length%4!==0?(se(),Le("div",hn,[d(Sa),k("div",yn,[d(X,{name:"schedule",size:"xs",class:"q-mr-xs"}),me(" "+ce(t.getWaitingPlayersInfo()),1)])])):ba("",!0)]),_:1})]),_:1})]),k("div",Sn,[d(Pe,{class:"matches-card",flat:"",bordered:""},{default:w(()=>[d(ne,{class:"bg-positive text-white"},{default:w(()=>[k("div",bn,[d(X,{name:"sports_tennis",class:"q-mr-sm"}),me(" Matches ("+ce(t.matches.length)+") ",1)])]),_:1}),d(ne,{class:"q-pa-none"},{default:w(()=>[k("div",wn,[t.matches.length>0?(se(),Ae(gt,{key:0,separator:""},{default:w(()=>[(se(!0),Le(vt,null,ft(t.matches,(o,v)=>(se(),Ae(Ye,{key:v,class:"match-item"},{default:w(()=>[d(Se,null,{default:w(()=>[k("div",xn,[k("div",pn,[d(de,{label:o[0].name,color:t.getLevelColor(o[0].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),d(de,{label:o[1].name,color:t.getLevelColor(o[1].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),k("div",Cn,[d(X,{name:"sports_tennis",color:"grey-6",size:"sm"})]),k("div",_n,[d(de,{label:o[2].name,color:t.getLevelColor(o[2].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),d(de,{label:o[3].name,color:t.getLevelColor(o[3].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])])])]),_:2},1024),d(Se,{side:""},{default:w(()=>[d(re,{flat:"",color:"positive",onClick:b=>t.openMatchResultDialog(v),icon:"emoji_events",size:"sm",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(se(),Le("div",qn,[d(X,{name:"sports_tennis",size:"48px",color:"grey-4"}),a[18]||(a[18]=k("p",{class:"text-grey-6 q-mt-sm"},"No active matches",-1)),a[19]||(a[19]=k("p",{class:"text-caption text-grey-5"},"Generate matches from the queue to get started",-1))]))])]),_:1})]),_:1})])])]),d(nt,{modelValue:t.showAddPlayerDialog,"onUpdate:modelValue":a[6]||(a[6]=o=>t.showAddPlayerDialog=o)},{default:w(()=>[d(Pe,{style:{"min-width":"400px"}},{default:w(()=>[d(ne,{class:"bg-primary text-white"},{default:w(()=>[k("div",kn,[d(X,{name:"person_add",class:"q-mr-sm"}),a[20]||(a[20]=me(" Add New Player "))])]),_:1}),d(ne,null,{default:w(()=>[k("div",Pn,[d(wa,{modelValue:t.newPlayerName,"onUpdate:modelValue":a[3]||(a[3]=o=>t.newPlayerName=o),label:"Player Name",type:"text",onKeyup:xa(t.addNewPlayer,["enter"]),rules:[o=>!!o?.trim()||"Player name is required"],outlined:"",dense:"",autofocus:""},{prepend:w(()=>[d(X,{name:"person"})]),_:1},8,["modelValue","rules"]),d(al,{modelValue:t.newPlayerLevel,"onUpdate:modelValue":a[4]||(a[4]=o=>t.newPlayerLevel=o),options:t.levelOptions,label:"Player Level",rules:[o=>o!==null||"Player level is required"],outlined:"",dense:"","emit-value":"","map-options":""},{prepend:w(()=>[d(X,{name:"star"})]),option:w(o=>[d(Ye,pa(Ca(o.itemProps)),{default:w(()=>[d(Se,{avatar:""},{default:w(()=>[d(X,{name:t.getLevelIcon(o.opt.value),color:t.getLevelColor(o.opt.value)},null,8,["name","color"])]),_:2},1024),d(Se,null,{default:w(()=>[d(Ee,null,{default:w(()=>[me(ce(o.opt.label),1)]),_:2},1024),d(Ee,{caption:""},{default:w(()=>[me(ce(o.opt.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","rules"])])]),_:1}),d(mt,{align:"right"},{default:w(()=>[d(re,{flat:"",label:"Cancel",onClick:a[5]||(a[5]=o=>t.showAddPlayerDialog=!1)}),d(re,{color:"primary",onClick:t.addNewPlayer,label:"Add Player",disable:!t.newPlayerName?.trim()||t.newPlayerLevel===null,icon:"add"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),d(nt,{modelValue:t.showMatchResultDialog,"onUpdate:modelValue":a[10]||(a[10]=o=>t.showMatchResultDialog=o)},{default:w(()=>[d(Pe,{style:{"min-width":"500px"}},{default:w(()=>[d(ne,{class:"bg-positive text-white"},{default:w(()=>[k("div",Vn,[d(X,{name:"emoji_events",class:"q-mr-sm"}),a[21]||(a[21]=me(" Match Result "))])]),_:1}),d(ne,null,{default:w(()=>[k("div",Mn,[a[24]||(a[24]=k("div",{class:"text-subtitle1 text-center q-mb-md"},"Who won this match?",-1)),k("div",zn,[k("div",An,[d(Pe,{class:Kt([t.selectedWinner==="team1"?"winner-selected":"","team-card cursor-pointer"]),onClick:a[7]||(a[7]=o=>t.selectedWinner="team1"),flat:"",bordered:""},{default:w(()=>[d(ne,{class:"text-center"},{default:w(()=>[a[22]||(a[22]=k("div",{class:"text-weight-medium q-mb-sm"},"Team 1",-1)),d(de,{label:t.currentMatch[0].name,color:t.getLevelColor(t.currentMatch[0].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),d(de,{label:t.currentMatch[1].name,color:t.getLevelColor(t.currentMatch[1].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])]),k("div",Ln,[d(Pe,{class:Kt([t.selectedWinner==="team2"?"winner-selected":"","team-card cursor-pointer"]),onClick:a[8]||(a[8]=o=>t.selectedWinner="team2"),flat:"",bordered:""},{default:w(()=>[d(ne,{class:"text-center"},{default:w(()=>[a[23]||(a[23]=k("div",{class:"text-weight-medium q-mb-sm"},"Team 2",-1)),d(de,{label:t.currentMatch[2].name,color:t.getLevelColor(t.currentMatch[2].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),d(de,{label:t.currentMatch[3].name,color:t.getLevelColor(t.currentMatch[3].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])])])])]),_:1}),d(mt,{align:"right"},{default:w(()=>[d(re,{flat:"",label:"Cancel",onClick:a[9]||(a[9]=o=>t.showMatchResultDialog=!1)}),d(re,{color:"positive",onClick:t.completeMatch,label:"Complete Match",disable:t.selectedWinner===null,icon:"check"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),d(nt,{modelValue:t.showSettingsDialog,"onUpdate:modelValue":a[12]||(a[12]=o=>t.showSettingsDialog=o)},{default:w(()=>[d(Pe,{style:{"min-width":"400px"}},{default:w(()=>[d(ne,{class:"bg-primary text-white"},{default:w(()=>[k("div",En,[d(X,{name:"settings",class:"q-mr-sm"}),a[25]||(a[25]=me(" Settings "))])]),_:1}),d(ne,null,{default:w(()=>[k("div",Tn,[k("div",null,[d(re,{color:"secondary",onClick:t.resetGamesPlayed,icon:"refresh",label:"Reset Games Played",class:"full-width"})]),k("div",null,[d(re,{color:"negative",onClick:t.resetAllData,icon:"delete_forever",label:"Reset All Data",class:"full-width"})])])]),_:1}),d(mt,{align:"right"},{default:w(()=>[d(re,{flat:"",label:"Close",onClick:a[11]||(a[11]=o=>t.showSettingsDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Rn=ya(Ka,[["render",Bn],["__file","IndexPage.vue"]]);export{Rn as default};
