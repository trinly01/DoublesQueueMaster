import{c as Ee,a0 as rl,a1 as Pl,a2 as Tl,a3 as Ml,B as Nt,a4 as Ul,D as Wt,a5 as Gl,f as C,I as Xl,g as Ne,h as E,a6 as U,a7 as Yl,a8 as Jl,z as Ae,a9 as Zl,aa as $l,r as z,ab as Qt,j as ea,J as ft,u as _t,b as Re,s as Et,w as we,o as ta,a as Je,y as nl,l as ol,ac as gl,p as la,R as aa,A as Vl,ad as At,N as Dl,C as zl,ae as Ll,E as Al,af as El,F as Bl,ag as Ol,ah as na,x as oa,ai as ia,aj as hl,O as Fl,ak as sa,al as Il,am as ua,an as ra,ao as ca,n as da,ap as va,aq as fa,ar as ma,as as ga,at as ha,au as ya,av as yl,aw as St,ax as ba,ay as Sa,az as wa,v as st,aA as pa,aB as xt,U as xa,d as il,e as ut,k as _a,M as Ca,m as ka,aC as qa,aD as Pa,aE as Ta,V as Ma,_ as Va,X as Q,Y as ce,Z as v,aF as b,$ as i,aG as te,aH as ne,aI as Y,aJ as X,aK as ge,aL as rt,aM as ct,aN as ze,aO as Da,aP as Ve,aQ as za,aR as La,aS as Aa,aT as Ea,aU as Zt,aV as He,H as Ba,aW as $t,aX as wt,aY as Oa}from"./index-THrXfGF7.js";import{c as sl,n as bl}from"./format-DeFJpl_i.js";const Fa=Ee({name:"QField",inheritAttrs:!1,props:{...rl,tag:{type:String,default:"label"}},emits:Pl,setup(){return Tl(Ml({tagProp:!0}))}}),Ia={xs:8,sm:10,md:14,lg:20,xl:24},de=Ee({name:"QChip",props:{...Nt,...Ul,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:o}){const{proxy:{$q:t}}=Ne(),u=Wt(e,t),r=Gl(e,Ia),a=C(()=>e.selected===!0||e.icon!==void 0),f=C(()=>e.selected===!0?e.iconSelected||t.iconSet.chip.selected:e.icon),g=C(()=>e.iconRemove||t.iconSet.chip.remove),P=C(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),y=C(()=>{const h=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(h?` text-${h} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(P.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(u.value===!0?" q-chip--dark q-dark":"")}),T=C(()=>{const h=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},D={...h,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||t.lang.label.remove};return{chip:h,remove:D}});function V(h){h.keyCode===13&&m(h)}function m(h){e.disable||(o("update:selected",!e.selected),o("click",h))}function k(h){(h.keyCode===void 0||h.keyCode===13)&&(Ae(h),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function R(){const h=[];P.value===!0&&h.push(E("div",{class:"q-focus-helper"})),a.value===!0&&h.push(E(U,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const D=e.label!==void 0?[E("div",{class:"ellipsis"},[e.label])]:void 0;return h.push(E("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Yl(l.default,D))),e.iconRight&&h.push(E(U,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&h.push(E(U,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,...T.value.remove,onClick:k,onKeyup:k})),h}return()=>{if(e.modelValue===!1)return;const h={class:y.value,style:r.value};return P.value===!0&&Object.assign(h,T.value.chip,{onClick:m,onKeyup:V}),Xl("div",h,R(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Jl,e.ripple]])}}}),je=Ee({name:"QItem",props:{...Nt,...Zl,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:o}){const{proxy:{$q:t}}=Ne(),u=Wt(e,t),{hasLink:r,linkAttrs:a,linkClass:f,linkTag:g,navigateOnClick:P}=$l(),y=z(null),T=z(null),V=C(()=>e.clickable===!0||r.value===!0||e.tag==="label"),m=C(()=>e.disable!==!0&&V.value===!0),k=C(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(u.value===!0?" q-item--dark":"")+(r.value===!0&&e.active===null?f.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(m.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),R=C(()=>e.insetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function h(M){m.value===!0&&(T.value!==null&&(M.qKeyEvent!==!0&&document.activeElement===y.value?T.value.focus():document.activeElement===T.value&&y.value.focus()),P(M))}function D(M){if(m.value===!0&&Qt(M,[13,32])===!0){Ae(M),M.qKeyEvent=!0;const O=new MouseEvent("click",M);O.qKeyEvent=!0,y.value.dispatchEvent(O)}o("keyup",M)}function I(){const M=ea(l.default,[]);return m.value===!0&&M.unshift(E("div",{class:"q-focus-helper",tabindex:-1,ref:T})),M}return()=>{const M={ref:y,class:k.value,style:R.value,role:"listitem",onClick:h,onKeyup:D};return m.value===!0?(M.tabindex=e.tabindex||"0",Object.assign(M,a.value)):V.value===!0&&(M["aria-disabled"]="true"),E(g.value,M,I())}}}),se=Ee({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const o=C(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>E("div",{class:o.value},ft(l.default))}}),Ce=Ee({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const o=C(()=>parseInt(e.lines,10)),t=C(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(o.value===1?" ellipsis":"")),u=C(()=>e.lines!==void 0&&o.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":o.value}:null);return()=>E("div",{style:u.value,class:t.value},ft(l.default))}}),Hl={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},Ha={...Hl,contextMenu:Boolean};function Rl({showing:e,avoidEmit:l,configureAnchorEl:o}){const{props:t,proxy:u,emit:r}=Ne(),a=z(null);let f=null;function g(m){return a.value===null?!1:m===void 0||m.touches===void 0||m.touches.length<=1}const P={};o===void 0&&(Object.assign(P,{hide(m){u.hide(m)},toggle(m){u.toggle(m),m.qAnchorHandled=!0},toggleKey(m){Qt(m,13)===!0&&P.toggle(m)},contextClick(m){u.hide(m),_t(m),Re(()=>{u.show(m),m.qAnchorHandled=!0})},prevent:_t,mobileTouch(m){if(P.mobileCleanup(m),g(m)!==!0)return;u.hide(m),a.value.classList.add("non-selectable");const k=m.target;Et(P,"anchor",[[k,"touchmove","mobileCleanup","passive"],[k,"touchend","mobileCleanup","passive"],[k,"touchcancel","mobileCleanup","passive"],[a.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,u.show(m),m.qAnchorHandled=!0},300)},mobileCleanup(m){a.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&m!==void 0&&sl()}}),o=function(m=t.contextMenu){if(t.noParentEvent===!0||a.value===null)return;let k;m===!0?u.$q.platform.is.mobile===!0?k=[[a.value,"touchstart","mobileTouch","passive"]]:k=[[a.value,"mousedown","hide","passive"],[a.value,"contextmenu","contextClick","notPassive"]]:k=[[a.value,"click","toggle","passive"],[a.value,"keyup","toggleKey","passive"]],Et(P,"anchor",k)});function y(){nl(P,"anchor")}function T(m){for(a.value=m;a.value.classList.contains("q-anchor--skip");)a.value=a.value.parentNode;o()}function V(){if(t.target===!1||t.target===""||u.$el.parentNode===null)a.value=null;else if(t.target===!0)T(u.$el.parentNode);else{let m=t.target;if(typeof t.target=="string")try{m=document.querySelector(t.target)}catch{m=void 0}m!=null?(a.value=m.$el||m,o()):(a.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return we(()=>t.contextMenu,m=>{a.value!==null&&(y(),o(m))}),we(()=>t.target,()=>{a.value!==null&&y(),V()}),we(()=>t.noParentEvent,m=>{a.value!==null&&(m===!0?y():o())}),ta(()=>{V(),l!==!0&&t.modelValue===!0&&a.value===null&&r("update:modelValue",!1)}),Je(()=>{f!==null&&clearTimeout(f),y()}),{anchorEl:a,canShow:g,anchorEvents:P}}function Nl(e,l){const o=z(null);let t;function u(f,g){const P=`${g!==void 0?"add":"remove"}EventListener`,y=g!==void 0?g:t;f!==window&&f[P]("scroll",y,ol.passive),window[P]("scroll",y,ol.passive),t=g}function r(){o.value!==null&&(u(o.value),o.value=null)}const a=we(()=>e.noParentEvent,()=>{o.value!==null&&(r(),l())});return Je(a),{localScrollTarget:o,unconfigureScrollTarget:r,changeScrollEvent:u}}const{notPassiveCapture:Bt}=ol,Ye=[];function Ot(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let o=gl.length-1;for(;o>=0;){const t=gl[o].$;if(t.type.name==="QTooltip"){o--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;o--}for(let t=Ye.length-1;t>=0;t--){const u=Ye[t];if((u.anchorEl.value===null||u.anchorEl.value.contains(l)===!1)&&(l===document.body||u.innerRef.value!==null&&u.innerRef.value.contains(l)===!1))e.qClickOutside=!0,u.onClickOutside(e);else return}}function Wl(e){Ye.push(e),Ye.length===1&&(document.addEventListener("mousedown",Ot,Bt),document.addEventListener("touchstart",Ot,Bt))}function Ft(e){const l=Ye.findIndex(o=>o===e);l!==-1&&(Ye.splice(l,1),Ye.length===0&&(document.removeEventListener("mousedown",Ot,Bt),document.removeEventListener("touchstart",Ot,Bt)))}let Sl,wl;function It(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Ql(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ul={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ul[`${e}#ltr`]=e,ul[`${e}#rtl`]=e});function Ht(e,l){const o=e.split(" ");return{vertical:o[0],horizontal:ul[`${o[1]}#${l===!0?"rtl":"ltr"}`]}}function Ra(e,l){let{top:o,left:t,right:u,bottom:r,width:a,height:f}=e.getBoundingClientRect();return l!==void 0&&(o-=l[1],t-=l[0],r+=l[1],u+=l[0],a+=l[0],f+=l[1]),{top:o,bottom:r,height:f,left:t,right:u,width:a,middle:t+(u-t)/2,center:o+(r-o)/2}}function Na(e,l,o){let{top:t,left:u}=e.getBoundingClientRect();return t+=l.top,u+=l.left,o!==void 0&&(t+=o[1],u+=o[0]),{top:t,bottom:t+1,height:1,left:u,right:u+1,width:1,middle:u,center:t}}function Wa(e,l){return{top:0,center:l/2,bottom:l,left:0,middle:e/2,right:e}}function pl(e,l,o,t){return{top:e[o.vertical]-l[t.vertical],left:e[o.horizontal]-l[t.horizontal]}}function cl(e,l=0){if(e.targetEl===null||e.anchorEl===null||l>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{cl(e,l+1)},10);return}const{targetEl:o,offset:t,anchorEl:u,anchorOrigin:r,selfOrigin:a,absoluteOffset:f,fit:g,cover:P,maxHeight:y,maxWidth:T}=e;if(la.is.ios===!0&&window.visualViewport!==void 0){const F=document.body.style,{offsetLeft:G,offsetTop:$}=window.visualViewport;G!==Sl&&(F.setProperty("--q-pe-left",G+"px"),Sl=G),$!==wl&&(F.setProperty("--q-pe-top",$+"px"),wl=$)}const{scrollLeft:V,scrollTop:m}=o,k=f===void 0?Ra(u,P===!0?[0,0]:t):Na(u,f,t);Object.assign(o.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:T,maxHeight:y,visibility:"visible"});const{offsetWidth:R,offsetHeight:h}=o,{elWidth:D,elHeight:I}=g===!0||P===!0?{elWidth:Math.max(k.width,R),elHeight:P===!0?Math.max(k.height,h):h}:{elWidth:R,elHeight:h};let M={maxWidth:T,maxHeight:y};(g===!0||P===!0)&&(M.minWidth=k.width+"px",P===!0&&(M.minHeight=k.height+"px")),Object.assign(o.style,M);const O=Wa(D,I);let H=pl(k,O,r,a);if(f===void 0||t===void 0)el(H,k,O,r,a);else{const{top:F,left:G}=H;el(H,k,O,r,a);let $=!1;if(H.top!==F){$=!0;const oe=2*t[1];k.center=k.top-=oe,k.bottom-=oe+2}if(H.left!==G){$=!0;const oe=2*t[0];k.middle=k.left-=oe,k.right-=oe+2}$===!0&&(H=pl(k,O,r,a),el(H,k,O,r,a))}M={top:H.top+"px",left:H.left+"px"},H.maxHeight!==void 0&&(M.maxHeight=H.maxHeight+"px",k.height>H.maxHeight&&(M.minHeight=M.maxHeight)),H.maxWidth!==void 0&&(M.maxWidth=H.maxWidth+"px",k.width>H.maxWidth&&(M.minWidth=M.maxWidth)),Object.assign(o.style,M),o.scrollTop!==m&&(o.scrollTop=m),o.scrollLeft!==V&&(o.scrollLeft=V)}function el(e,l,o,t,u){const r=o.bottom,a=o.right,f=aa(),g=window.innerHeight-f,P=document.body.clientWidth;if(e.top<0||e.top+r>g)if(u.vertical==="center")e.top=l[t.vertical]>g/2?Math.max(0,g-r):0,e.maxHeight=Math.min(r,g);else if(l[t.vertical]>g/2){const y=Math.min(g,t.vertical==="center"?l.center:t.vertical===u.vertical?l.bottom:l.top);e.maxHeight=Math.min(r,y),e.top=Math.max(0,y-r)}else e.top=Math.max(0,t.vertical==="center"?l.center:t.vertical===u.vertical?l.top:l.bottom),e.maxHeight=Math.min(r,g-e.top);if(e.left<0||e.left+a>P)if(e.maxWidth=Math.min(a,P),u.horizontal==="middle")e.left=l[t.horizontal]>P/2?Math.max(0,P-a):0;else if(l[t.horizontal]>P/2){const y=Math.min(P,t.horizontal==="middle"?l.middle:t.horizontal===u.horizontal?l.right:l.left);e.maxWidth=Math.min(a,y),e.left=Math.max(0,y-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?l.middle:t.horizontal===u.horizontal?l.left:l.right),e.maxWidth=Math.min(a,P-e.left)}const Qa=Ee({name:"QMenu",inheritAttrs:!1,props:{...Ha,...Vl,...Nt,...At,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:It},self:{type:String,validator:It},offset:{type:Array,validator:Ql},scrollTarget:Dl,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...zl,"click","escapeKey"],setup(e,{slots:l,emit:o,attrs:t}){let u=null,r,a,f;const g=Ne(),{proxy:P}=g,{$q:y}=P,T=z(null),V=z(!1),m=C(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),k=Wt(e,y),{registerTick:R,removeTick:h}=Ll(),{registerTimeout:D}=Al(),{transitionProps:I,transitionStyle:M}=El(e),{localScrollTarget:O,changeScrollEvent:H,unconfigureScrollTarget:F}=Nl(e,_),{anchorEl:G,canShow:$}=Rl({showing:V}),{hide:oe}=Bl({showing:V,canShow:$,handleShow:_e,handleHide:c,hideOnRouteChange:m,processOnMount:!0}),{showPortal:he,hidePortal:ke,renderPortal:ue}=Ol(g,T,ee,"menu"),pe={anchorEl:G,innerRef:T,onClickOutside(w){if(e.persistent!==!0&&V.value===!0)return oe(w),(w.type==="touchstart"||w.target.classList.contains("q-dialog__backdrop"))&&Ae(w),!0}},De=C(()=>Ht(e.anchor||(e.cover===!0?"center middle":"bottom start"),y.lang.rtl)),xe=C(()=>e.cover===!0?De.value:Ht(e.self||"top start",y.lang.rtl)),ie=C(()=>(e.square===!0?" q-menu--square":"")+(k.value===!0?" q-menu--dark q-dark":"")),Be=C(()=>e.autoClose===!0?{onClick:N}:{}),qe=C(()=>V.value===!0&&e.persistent!==!0);we(qe,w=>{w===!0?(ua(L),Wl(pe)):(hl(L),Ft(pe))});function ye(){ra(()=>{let w=T.value;w&&w.contains(document.activeElement)!==!0&&(w=w.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||w.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||w.querySelector("[autofocus], [data-autofocus]")||w,w.focus({preventScroll:!0}))})}function _e(w){if(u=e.noRefocus===!1?document.activeElement:null,na(j),he(),_(),r=void 0,w!==void 0&&(e.touchPosition||e.contextMenu)){const re=oa(w);if(re.left!==void 0){const{top:Pe,left:We}=G.value.getBoundingClientRect();r={left:re.left-We,top:re.top-Pe}}}a===void 0&&(a=we(()=>y.screen.width+"|"+y.screen.height+"|"+e.self+"|"+e.anchor+"|"+y.lang.rtl,A)),e.noFocus!==!0&&document.activeElement.blur(),R(()=>{A(),e.noFocus!==!0&&ye()}),D(()=>{y.platform.is.ios===!0&&(f=e.autoClose,T.value.click()),A(),he(!0),o("show",w)},e.transitionDuration)}function c(w){h(),ke(),S(!0),u!==null&&(w===void 0||w.qClickOutside!==!0)&&(((w&&w.type.indexOf("key")===0?u.closest('[tabindex]:not([tabindex^="-"])'):void 0)||u).focus(),u=null),D(()=>{ke(!0),o("hide",w)},e.transitionDuration)}function S(w){r=void 0,a!==void 0&&(a(),a=void 0),(w===!0||V.value===!0)&&(ia(j),F(),Ft(pe),hl(L)),w!==!0&&(u=null)}function _(){(G.value!==null||e.scrollTarget!==void 0)&&(O.value=Fl(G.value,e.scrollTarget),H(O.value,A))}function N(w){f!==!0?(sa(P,w),o("click",w)):f=!1}function j(w){qe.value===!0&&e.noFocus!==!0&&ca(T.value,w.target)!==!0&&ye()}function L(w){o("escapeKey"),oe(w)}function A(){cl({targetEl:T.value,offset:e.offset,anchorEl:G.value,anchorOrigin:De.value,selfOrigin:xe.value,absoluteOffset:r,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ee(){return E(Il,I.value,()=>V.value===!0?E("div",{role:"menu",...t,ref:T,tabindex:-1,class:["q-menu q-position-engine scroll"+ie.value,t.class],style:[t.style,M.value],...Be.value},ft(l.default)):null)}return Je(S),Object.assign(P,{focus:ye,updatePosition:A}),ue}});let Rt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,Rt=e.scrollLeft>=0,e.remove()}const Le=1e3,ja=["start","center","end","start-force","center-force","end-force"],jl=Array.prototype.filter,Ka=window.getComputedStyle(document.body).overflowAnchor===void 0?da:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];jl.call(o,u=>u.dataset&&u.dataset.qVsAnchor!==void 0).forEach(u=>{delete u.dataset.qVsAnchor});const t=o[l];t&&t.dataset&&(t.dataset.qVsAnchor="")}))};function vt(e,l){return e+l}function tl(e,l,o,t,u,r,a,f){const g=e===window?document.scrollingElement||document.documentElement:e,P=u===!0?"offsetWidth":"offsetHeight",y={scrollStart:0,scrollViewSize:-a-f,scrollMaxSize:0,offsetStart:-a,offsetEnd:-f};if(u===!0?(e===window?(y.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,y.scrollViewSize+=document.documentElement.clientWidth):(y.scrollStart=g.scrollLeft,y.scrollViewSize+=g.clientWidth),y.scrollMaxSize=g.scrollWidth,r===!0&&(y.scrollStart=(Rt===!0?y.scrollMaxSize-y.scrollViewSize:0)-y.scrollStart)):(e===window?(y.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,y.scrollViewSize+=document.documentElement.clientHeight):(y.scrollStart=g.scrollTop,y.scrollViewSize+=g.clientHeight),y.scrollMaxSize=g.scrollHeight),o!==null)for(let T=o.previousElementSibling;T!==null;T=T.previousElementSibling)T.classList.contains("q-virtual-scroll--skip")===!1&&(y.offsetStart+=T[P]);if(t!==null)for(let T=t.nextElementSibling;T!==null;T=T.nextElementSibling)T.classList.contains("q-virtual-scroll--skip")===!1&&(y.offsetEnd+=T[P]);if(l!==e){const T=g.getBoundingClientRect(),V=l.getBoundingClientRect();u===!0?(y.offsetStart+=V.left-T.left,y.offsetEnd-=V.width):(y.offsetStart+=V.top-T.top,y.offsetEnd-=V.height),e!==window&&(y.offsetStart+=y.scrollStart),y.offsetEnd+=y.scrollMaxSize-y.offsetStart}return y}function xl(e,l,o,t){l==="end"&&(l=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(t===!0&&(l=(Rt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):o===!0?(t===!0&&(l=(Rt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function pt(e,l,o,t){if(o>=t)return 0;const u=l.length,r=Math.floor(o/Le),a=Math.floor((t-1)/Le)+1;let f=e.slice(r,a).reduce(vt,0);return o%Le!==0&&(f-=l.slice(r*Le,o).reduce(vt,0)),t%Le!==0&&t!==u&&(f-=l.slice(t,a*Le).reduce(vt,0)),f}const Ua={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},_l={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Ua};function Ga({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:o,virtualScrollItemSizeComputed:t}){const u=Ne(),{props:r,emit:a,proxy:f}=u,{$q:g}=f;let P,y,T,V=[],m;const k=z(0),R=z(0),h=z({}),D=z(null),I=z(null),M=z(null),O=z({from:0,to:0}),H=C(()=>r.tableColspan!==void 0?r.tableColspan:100);t===void 0&&(t=C(()=>r.virtualScrollItemSize));const F=C(()=>t.value+";"+r.virtualScrollHorizontal),G=C(()=>F.value+";"+r.virtualScrollSliceRatioBefore+";"+r.virtualScrollSliceRatioAfter);we(G,()=>{ie()}),we(F,$);function $(){xe(y,!0)}function oe(c){xe(c===void 0?y:c)}function he(c,S){const _=l();if(_==null||_.nodeType===8)return;const N=tl(_,o(),D.value,I.value,r.virtualScrollHorizontal,g.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd);T!==N.scrollViewSize&&ie(N.scrollViewSize),ue(_,N,Math.min(e.value-1,Math.max(0,parseInt(c,10)||0)),0,ja.indexOf(S)!==-1?S:y!==-1&&c>y?"end":"start")}function ke(){const c=l();if(c==null||c.nodeType===8)return;const S=tl(c,o(),D.value,I.value,r.virtualScrollHorizontal,g.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd),_=e.value-1,N=S.scrollMaxSize-S.offsetStart-S.offsetEnd-R.value;if(P===S.scrollStart)return;if(S.scrollMaxSize<=0){ue(c,S,0,0);return}T!==S.scrollViewSize&&ie(S.scrollViewSize),pe(O.value.from);const j=Math.floor(S.scrollMaxSize-Math.max(S.scrollViewSize,S.offsetEnd)-Math.min(m[_],S.scrollViewSize/2));if(j>0&&Math.ceil(S.scrollStart)>=j){ue(c,S,_,S.scrollMaxSize-S.offsetEnd-V.reduce(vt,0));return}let L=0,A=S.scrollStart-S.offsetStart,ee=A;if(A<=N&&A+S.scrollViewSize>=k.value)A-=k.value,L=O.value.from,ee=A;else for(let w=0;A>=V[w]&&L<_;w++)A-=V[w],L+=Le;for(;A>0&&L<_;)A-=m[L],A>-S.scrollViewSize?(L++,ee=A):ee=m[L]+A;ue(c,S,L,ee)}function ue(c,S,_,N,j){const L=typeof j=="string"&&j.indexOf("-force")!==-1,A=L===!0?j.replace("-force",""):j,ee=A!==void 0?A:"start";let w=Math.max(0,_-h.value[ee]),re=w+h.value.total;re>e.value&&(re=e.value,w=Math.max(0,re-h.value.total)),P=S.scrollStart;const Pe=w!==O.value.from||re!==O.value.to;if(Pe===!1&&A===void 0){qe(_);return}const{activeElement:We}=document,Te=M.value;Pe===!0&&Te!==null&&Te!==We&&Te.contains(We)===!0&&(Te.addEventListener("focusout",De),setTimeout(()=>{Te!==null&&Te.removeEventListener("focusout",De)})),Ka(Te,_-w);const Ze=A!==void 0?m.slice(w,_).reduce(vt,0):0;if(Pe===!0){const Oe=re>=O.value.from&&w<=O.value.to?O.value.to:re;O.value={from:w,to:Oe},k.value=pt(V,m,0,w),R.value=pt(V,m,re,e.value),requestAnimationFrame(()=>{O.value.to!==re&&P===S.scrollStart&&(O.value={from:O.value.from,to:re},R.value=pt(V,m,re,e.value))})}requestAnimationFrame(()=>{if(P!==S.scrollStart)return;Pe===!0&&pe(w);const Oe=m.slice(w,_).reduce(vt,0),Fe=Oe+S.offsetStart+k.value,$e=Fe+m[_];let Ke=Fe+N;if(A!==void 0){const mt=Oe-Ze,Ue=S.scrollStart+mt;Ke=L!==!0&&Ue<Fe&&$e<Ue+S.scrollViewSize?Ue:A==="end"?$e-S.scrollViewSize:Fe-(A==="start"?0:Math.round((S.scrollViewSize-m[_])/2))}P=Ke,xl(c,Ke,r.virtualScrollHorizontal,g.lang.rtl),qe(_)})}function pe(c){const S=M.value;if(S){const _=jl.call(S.children,w=>w.classList&&w.classList.contains("q-virtual-scroll--skip")===!1),N=_.length,j=r.virtualScrollHorizontal===!0?w=>w.getBoundingClientRect().width:w=>w.offsetHeight;let L=c,A,ee;for(let w=0;w<N;){for(A=j(_[w]),w++;w<N&&_[w].classList.contains("q-virtual-scroll--with-prev")===!0;)A+=j(_[w]),w++;ee=A-m[L],ee!==0&&(m[L]+=ee,V[Math.floor(L/Le)]+=ee),L++}}}function De(){M.value!==null&&M.value!==void 0&&M.value.focus()}function xe(c,S){const _=1*t.value;(S===!0||Array.isArray(m)===!1)&&(m=[]);const N=m.length;m.length=e.value;for(let L=e.value-1;L>=N;L--)m[L]=_;const j=Math.floor((e.value-1)/Le);V=[];for(let L=0;L<=j;L++){let A=0;const ee=Math.min((L+1)*Le,e.value);for(let w=L*Le;w<ee;w++)A+=m[w];V.push(A)}y=-1,P=void 0,k.value=pt(V,m,0,O.value.from),R.value=pt(V,m,O.value.to,e.value),c>=0?(pe(O.value.from),Re(()=>{he(c)})):ye()}function ie(c){if(c===void 0&&typeof window<"u"){const A=l();A!=null&&A.nodeType!==8&&(c=tl(A,o(),D.value,I.value,r.virtualScrollHorizontal,g.lang.rtl,r.virtualScrollStickySizeStart,r.virtualScrollStickySizeEnd).scrollViewSize)}T=c;const S=parseFloat(r.virtualScrollSliceRatioBefore)||0,_=parseFloat(r.virtualScrollSliceRatioAfter)||0,N=1+S+_,j=c===void 0||c<=0?1:Math.ceil(c/t.value),L=Math.max(1,j,Math.ceil((r.virtualScrollSliceSize>0?r.virtualScrollSliceSize:10)/N));h.value={total:Math.ceil(L*N),start:Math.ceil(L*S),center:Math.ceil(L*(.5+S)),end:Math.ceil(L*(1+S)),view:j}}function Be(c,S){const _=r.virtualScrollHorizontal===!0?"width":"height",N={["--q-virtual-scroll-item-"+_]:t.value+"px"};return[c==="tbody"?E(c,{class:"q-virtual-scroll__padding",key:"before",ref:D},[E("tr",[E("td",{style:{[_]:`${k.value}px`,...N},colspan:H.value})])]):E(c,{class:"q-virtual-scroll__padding",key:"before",ref:D,style:{[_]:`${k.value}px`,...N}}),E(c,{class:"q-virtual-scroll__content",key:"content",ref:M,tabindex:-1},S.flat()),c==="tbody"?E(c,{class:"q-virtual-scroll__padding",key:"after",ref:I},[E("tr",[E("td",{style:{[_]:`${R.value}px`,...N},colspan:H.value})])]):E(c,{class:"q-virtual-scroll__padding",key:"after",ref:I,style:{[_]:`${R.value}px`,...N}})]}function qe(c){y!==c&&(r.onVirtualScroll!==void 0&&a("virtualScroll",{index:c,from:O.value.from,to:O.value.to-1,direction:c<y?"decrease":"increase",ref:f}),y=c)}ie();const ye=va(ke,g.platform.is.ios===!0?120:35);fa(()=>{ie()});let _e=!1;return ma(()=>{_e=!0}),ga(()=>{if(_e!==!0)return;const c=l();P!==void 0&&c!==void 0&&c!==null&&c.nodeType!==8?xl(c,P,r.virtualScrollHorizontal,g.lang.rtl):he(y)}),Je(()=>{ye.cancel()}),Object.assign(f,{scrollTo:he,reset:$,refresh:oe}),{virtualScrollSliceRange:O,virtualScrollSliceSizeComputed:h,setVirtualScrollSize:ie,onVirtualScrollEvt:ye,localResetVirtualScroll:xe,padVirtualScroll:Be,scrollTo:he,reset:$,refresh:oe}}const Cl=e=>["add","add-unique","toggle"].includes(e),Xa=".*+?^${}()|[]\\",Ya=Object.keys(rl);function ll(e,l){if(typeof e=="function")return e;const o=e!==void 0?e:l;return t=>t!==null&&typeof t=="object"&&o in t?t[o]:t}const kl=Ee({name:"QSelect",inheritAttrs:!1,props:{..._l,...ha,...rl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Cl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:_l.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Pl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:o}){const{proxy:t}=Ne(),{$q:u}=t,r=z(!1),a=z(!1),f=z(-1),g=z(""),P=z(!1),y=z(!1);let T=null,V=null,m,k,R,h=null,D,I,M,O;const H=z(null),F=z(null),G=z(null),$=z(null),oe=z(null),he=ya(e),ke=wa(K),ue=C(()=>e.options.length),pe=C(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:De,virtualScrollSliceSizeComputed:xe,localResetVirtualScroll:ie,padVirtualScroll:Be,onVirtualScrollEvt:qe,scrollTo:ye,setVirtualScrollSize:_e}=Ga({virtualScrollLength:ue,getVirtualScrollTarget:Dt,getVirtualScrollEl:lt,virtualScrollItemSizeComputed:pe}),c=Ml(),S=C(()=>{const n=e.mapOptions===!0&&e.multiple!==!0,p=e.modelValue!==void 0&&(e.modelValue!==null||n===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0){const x=e.mapOptions===!0&&m!==void 0?m:[],W=p.map(Z=>Ut(Z,x));return e.modelValue===null&&n===!0?W.filter(Z=>Z!==null):W}return p}),_=C(()=>{const n={};return Ya.forEach(p=>{const x=e[p];x!==void 0&&(n[p]=x)}),n}),N=C(()=>e.optionsDark===null?c.isDark.value:e.optionsDark),j=C(()=>yl(S.value)),L=C(()=>{let n="q-field__input q-placeholder col";return e.hideSelected===!0||S.value.length===0?[n,e.inputClass]:(n+=" q-field__input--padding",e.inputClass===void 0?n:[n,e.inputClass])}),A=C(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),ee=C(()=>ue.value===0),w=C(()=>S.value.map(n=>ve.value(n)).join(", ")),re=C(()=>e.displayValue!==void 0?e.displayValue:w.value),Pe=C(()=>e.optionsHtml===!0?()=>!0:n=>n!=null&&n.html===!0),We=C(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||S.value.some(Pe.value))),Te=C(()=>c.focused.value===!0?e.tabindex:-1),Ze=C(()=>{const n={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":r.value===!0?"true":"false","aria-controls":`${c.targetUid.value}_lb`};return f.value>=0&&(n["aria-activedescendant"]=`${c.targetUid.value}_${f.value}`),n}),Oe=C(()=>({id:`${c.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Fe=C(()=>S.value.map((n,p)=>({index:p,opt:n,html:Pe.value(n),selected:!0,removeAtIndex:Kt,toggleOption:Ie,tabindex:Te.value}))),$e=C(()=>{if(ue.value===0)return[];const{from:n,to:p}=De.value;return e.options.slice(n,p).map((x,W)=>{const Z=be.value(x)===!0,J=ht(x)===!0,me=n+W,ae={clickable:!0,active:J,activeClass:Ue.value,manualFocus:!0,focused:!1,disable:Z,tabindex:-1,dense:e.optionsDense,dark:N.value,role:"option","aria-selected":J===!0?"true":"false",id:`${c.targetUid.value}_${me}`,onClick:()=>{Ie(x)}};return Z!==!0&&(f.value===me&&(ae.focused=!0),u.platform.is.desktop===!0&&(ae.onMousemove=()=>{r.value===!0&&Qe(me)})),{index:me,opt:x,html:Pe.value(x),label:ve.value(x),selected:ae.active,focused:ae.focused,toggleOption:Ie,setOptionIndex:Qe,itemProps:ae}})}),Ke=C(()=>e.dropdownIcon!==void 0?e.dropdownIcon:u.iconSet.arrow.dropdown),mt=C(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ue=C(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Me=C(()=>ll(e.optionValue,"value")),ve=C(()=>ll(e.optionLabel,"label")),be=C(()=>ll(e.optionDisable,"disable")),et=C(()=>S.value.map(Me.value)),jt=C(()=>{const n={onInput:K,onChange:ke,onKeydown:Vt,onKeyup:Tt,onKeypress:Mt,onFocus:qt,onClick(p){k===!0&&st(p)}};return n.onCompositionstart=n.onCompositionupdate=n.onCompositionend=ke,n});we(S,n=>{m=n,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&c.innerLoading.value!==!0&&(a.value!==!0&&r.value!==!0||j.value!==!0)&&(R!==!0&&it(),(a.value===!0||r.value===!0)&&Se(""))},{immediate:!0}),we(()=>e.fillInput,it),we(r,Yt),we(ue,Kl);function Ct(n){return e.emitValue===!0?Me.value(n):n}function gt(n){if(n!==-1&&n<S.value.length)if(e.multiple===!0){const p=e.modelValue.slice();o("remove",{index:n,value:p.splice(n,1)[0]}),o("update:modelValue",p)}else o("update:modelValue",null)}function Kt(n){gt(n),c.focus()}function kt(n,p){const x=Ct(n);if(e.multiple!==!0){e.fillInput===!0&&le(ve.value(n),!0,!0),o("update:modelValue",x);return}if(S.value.length===0){o("add",{index:0,value:x}),o("update:modelValue",e.multiple===!0?[x]:x);return}if(p===!0&&ht(n)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const W=e.modelValue.slice();o("add",{index:W.length,value:x}),W.push(x),o("update:modelValue",W)}function Ie(n,p){if(c.editable.value!==!0||n===void 0||be.value(n)===!0)return;const x=Me.value(n);if(e.multiple!==!0){p!==!0&&(le(e.fillInput===!0?ve.value(n):"",!0,!0),Xe()),F.value!==null&&F.value.focus(),(S.value.length===0||St(Me.value(S.value[0]),x)!==!0)&&o("update:modelValue",e.emitValue===!0?x:n);return}if((k!==!0||P.value===!0)&&c.focus(),qt(),S.value.length===0){const J=e.emitValue===!0?x:n;o("add",{index:0,value:J}),o("update:modelValue",e.multiple===!0?[J]:J);return}const W=e.modelValue.slice(),Z=et.value.findIndex(J=>St(J,x));if(Z!==-1)o("remove",{index:Z,value:W.splice(Z,1)[0]});else{if(e.maxValues!==void 0&&W.length>=e.maxValues)return;const J=e.emitValue===!0?x:n;o("add",{index:W.length,value:J}),W.push(J)}o("update:modelValue",W)}function Qe(n){if(u.platform.is.desktop!==!0)return;const p=n!==-1&&n<ue.value?n:-1;f.value!==p&&(f.value=p)}function tt(n=1,p){if(r.value===!0){let x=f.value;do x=bl(x+n,-1,ue.value-1);while(x!==-1&&x!==f.value&&be.value(e.options[x])===!0);f.value!==x&&(Qe(x),ye(x),p!==!0&&e.useInput===!0&&e.fillInput===!0&&B(x>=0?ve.value(e.options[x]):D,!0))}}function Ut(n,p){const x=W=>St(Me.value(W),n);return e.options.find(x)||p.find(x)||n}function ht(n){const p=Me.value(n);return et.value.find(x=>St(x,p))!==void 0}function qt(n){e.useInput===!0&&F.value!==null&&(n===void 0||F.value===n.target&&n.target.value===w.value)&&F.value.select()}function Pt(n){Qt(n,27)===!0&&r.value===!0&&(st(n),Xe(),it()),o("keyup",n)}function Tt(n){const{value:p}=n.target;if(n.keyCode!==void 0){Pt(n);return}if(n.target.value="",T!==null&&(clearTimeout(T),T=null),V!==null&&(clearTimeout(V),V=null),it(),typeof p=="string"&&p.length!==0){const x=p.toLocaleLowerCase(),W=J=>{const me=e.options.find(ae=>J.value(ae).toLocaleLowerCase()===x);return me===void 0?!1:(S.value.indexOf(me)===-1?Ie(me):Xe(),!0)},Z=J=>{W(Me)!==!0&&(W(ve)===!0||J===!0||Se(p,!0,()=>Z(!0)))};Z()}else c.clearValue(n)}function Mt(n){o("keypress",n)}function Vt(n){if(o("keydown",n),pa(n)===!0)return;const p=g.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),x=n.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||p===!0);if(n.keyCode===27){_t(n);return}if(n.keyCode===9&&x===!1){nt();return}if(n.target===void 0||n.target.id!==c.targetUid.value||c.editable.value!==!0)return;if(n.keyCode===40&&c.innerLoading.value!==!0&&r.value===!1){Ae(n),ot();return}if(n.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&g.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?gt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(n.keyCode===35||n.keyCode===36)&&(typeof g.value!="string"||g.value.length===0)&&(Ae(n),f.value=-1,tt(n.keyCode===36?1:-1,e.multiple)),(n.keyCode===33||n.keyCode===34)&&xe.value!==void 0&&(Ae(n),f.value=Math.max(-1,Math.min(ue.value,f.value+(n.keyCode===33?-1:1)*xe.value.view)),tt(n.keyCode===33?1:-1,e.multiple)),(n.keyCode===38||n.keyCode===40)&&(Ae(n),tt(n.keyCode===38?-1:1,e.multiple));const W=ue.value;if((M===void 0||O<Date.now())&&(M=""),W>0&&e.useInput!==!0&&n.key!==void 0&&n.key.length===1&&n.altKey===!1&&n.ctrlKey===!1&&n.metaKey===!1&&(n.keyCode!==32||M.length!==0)){r.value!==!0&&ot(n);const Z=n.key.toLocaleLowerCase(),J=M.length===1&&M[0]===Z;O=Date.now()+1500,J===!1&&(Ae(n),M+=Z);const me=new RegExp("^"+M.split("").map(Jt=>Xa.indexOf(Jt)!==-1?"\\"+Jt:Jt).join(".*"),"i");let ae=f.value;if(J===!0||ae<0||me.test(ve.value(e.options[ae]))!==!0)do ae=bl(ae+1,-1,W-1);while(ae!==f.value&&(be.value(e.options[ae])===!0||me.test(ve.value(e.options[ae]))!==!0));f.value!==ae&&Re(()=>{Qe(ae),ye(ae),ae>=0&&e.useInput===!0&&e.fillInput===!0&&B(ve.value(e.options[ae]),!0)});return}if(!(n.keyCode!==13&&(n.keyCode!==32||e.useInput===!0||M!=="")&&(n.keyCode!==9||x===!1))){if(n.keyCode!==9&&Ae(n),f.value!==-1&&f.value<W){Ie(e.options[f.value]);return}if(p===!0){const Z=(J,me)=>{if(me){if(Cl(me)!==!0)return}else me=e.newValueMode;if(le("",e.multiple!==!0,!0),J==null)return;(me==="toggle"?Ie:kt)(J,me==="add-unique"),e.multiple!==!0&&(F.value!==null&&F.value.focus(),Xe())};if(e.onNewValue!==void 0?o("newValue",g.value,Z):Z(g.value),e.multiple!==!0)return}r.value===!0?nt():c.innerLoading.value!==!0&&ot()}}function lt(){return k===!0?oe.value:G.value!==null&&G.value.contentEl!==null?G.value.contentEl:void 0}function Dt(){return lt()}function s(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Fe.value.map(n=>l["selected-item"](n)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Fe.value.map((n,p)=>E(de,{key:"option-"+p,removable:c.editable.value===!0&&be.value(n.opt)!==!0,dense:!0,textColor:e.color,tabindex:Te.value,onRemove(){n.removeAtIndex(p)}},()=>E("span",{class:"ellipsis",[n.html===!0?"innerHTML":"textContent"]:ve.value(n.opt)}))):[E("span",{[We.value===!0?"innerHTML":"textContent"]:re.value})]}function d(){if(ee.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:g.value}):void 0;const n=l.option!==void 0?l.option:x=>E(je,{key:x.index,...x.itemProps},()=>E(se,()=>E(Ce,()=>E("span",{[x.html===!0?"innerHTML":"textContent"]:x.label}))));let p=Be("div",$e.value.map(n));return l["before-options"]!==void 0&&(p=l["before-options"]().concat(p)),xa(l["after-options"],p)}function q(n,p){const x=p===!0?{...Ze.value,...c.splitAttrs.attributes.value}:void 0,W={ref:p===!0?F:void 0,key:"i_t",class:L.value,style:e.inputStyle,value:g.value!==void 0?g.value:"",type:"search",...x,id:p===!0?c.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":n===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...jt.value};return n!==!0&&k===!0&&(Array.isArray(W.class)===!0?W.class=[...W.class,"no-pointer-events"]:W.class+=" no-pointer-events"),E("input",W)}function K(n){T!==null&&(clearTimeout(T),T=null),V!==null&&(clearTimeout(V),V=null),!(n&&n.target&&n.target.qComposing===!0)&&(B(n.target.value||""),R=!0,D=g.value,c.focused.value!==!0&&(k!==!0||P.value===!0)&&c.focus(),e.onFilter!==void 0&&(T=setTimeout(()=>{T=null,Se(g.value)},e.inputDebounce)))}function B(n,p){g.value!==n&&(g.value=n,p===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",n):V=setTimeout(()=>{V=null,o("inputValue",n)},e.inputDebounce))}function le(n,p,x){R=x!==!0,e.useInput===!0&&(B(n,!0),(p===!0||x!==!0)&&(D=n),p!==!0&&Se(n))}function Se(n,p,x){if(e.onFilter===void 0||p!==!0&&c.focused.value!==!0)return;c.innerLoading.value===!0?o("filterAbort"):(c.innerLoading.value=!0,y.value=!0),n!==""&&e.multiple!==!0&&S.value.length!==0&&R!==!0&&n===ve.value(S.value[0])&&(n="");const W=setTimeout(()=>{r.value===!0&&(r.value=!1)},10);h!==null&&clearTimeout(h),h=W,o("filter",n,(Z,J)=>{(p===!0||c.focused.value===!0)&&h===W&&(clearTimeout(h),typeof Z=="function"&&Z(),y.value=!1,Re(()=>{c.innerLoading.value=!1,c.editable.value===!0&&(p===!0?r.value===!0&&Xe():r.value===!0?Yt(!0):r.value=!0),typeof J=="function"&&Re(()=>{J(t)}),typeof x=="function"&&Re(()=>{x(t)})}))},()=>{c.focused.value===!0&&h===W&&(clearTimeout(h),c.innerLoading.value=!1,y.value=!1),r.value===!0&&(r.value=!1)})}function at(){return E(Qa,{ref:G,class:A.value,style:e.popupContentStyle,modelValue:r.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&ee.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:N.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:mt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Oe.value,onScrollPassive:qe,onBeforeShow:vl,onBeforeHide:fe,onShow:Ge},d)}function fe(n){fl(n),nt()}function Ge(){_e()}function Gt(n){st(n),F.value!==null&&F.value.focus(),P.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function zt(n){st(n),Re(()=>{P.value=!1})}function Lt(){const n=[E(Fa,{class:`col-auto ${c.fieldClass.value}`,..._.value,for:c.targetUid.value,dark:N.value,square:!0,loading:y.value,itemAligned:!1,filled:!0,stackLabel:g.value.length!==0,...c.splitAttrs.listeners.value,onFocus:Gt,onBlur:zt},{...l,rawControl:()=>c.getControl(!0),before:void 0,after:void 0})];return r.value===!0&&n.push(E("div",{ref:oe,class:A.value+" scroll",style:e.popupContentStyle,...Oe.value,onClick:_t,onScrollPassive:qe},d())),E(xt,{ref:$,modelValue:a.value,position:e.useInput===!0?"top":void 0,transitionShow:I,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:vl,onBeforeHide:Xt,onHide:yt,onShow:bt},()=>E("div",{class:"q-select__dialog"+(N.value===!0?" q-select__dialog--dark q-dark":"")+(P.value===!0?" q-select__dialog--focused":"")},n))}function Xt(n){fl(n),$.value!==null&&$.value.__updateRefocusTarget(c.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),c.focused.value=!1}function yt(n){Xe(),c.focused.value===!1&&o("blur",n),it()}function bt(){const n=document.activeElement;(n===null||n.id!==c.targetUid.value)&&F.value!==null&&F.value!==n&&F.value.focus(),_e()}function nt(){a.value!==!0&&(f.value=-1,r.value===!0&&(r.value=!1),c.focused.value===!1&&(h!==null&&(clearTimeout(h),h=null),c.innerLoading.value===!0&&(o("filterAbort"),c.innerLoading.value=!1,y.value=!1)))}function ot(n){c.editable.value===!0&&(k===!0?(c.onControlFocusin(n),a.value=!0,Re(()=>{c.focus()})):c.focus(),e.onFilter!==void 0?Se(g.value):(ee.value!==!0||l["no-option"]!==void 0)&&(r.value=!0))}function Xe(){a.value=!1,nt()}function it(){e.useInput===!0&&le(e.multiple!==!0&&e.fillInput===!0&&S.value.length!==0&&ve.value(S.value[0])||"",!0,!0)}function Yt(n){let p=-1;if(n===!0){if(S.value.length!==0){const x=Me.value(S.value[0]);p=e.options.findIndex(W=>St(Me.value(W),x))}ie(p)}Qe(p)}function Kl(n,p){r.value===!0&&c.innerLoading.value===!1&&(ie(-1,!0),Re(()=>{r.value===!0&&c.innerLoading.value===!1&&(n>p?ie():Yt(!0))}))}function dl(){a.value===!1&&G.value!==null&&G.value.updatePosition()}function vl(n){n!==void 0&&st(n),o("popupShow",n),c.hasPopupOpen=!0,c.onControlFocusin(n)}function fl(n){n!==void 0&&st(n),o("popupHide",n),c.hasPopupOpen=!1,c.onControlFocusout(n)}function ml(){k=u.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||ee.value===!1:!0),I=u.platform.is.ios===!0&&k===!0&&e.useInput===!0?"fade":e.transitionShow}return ba(ml),Sa(dl),ml(),Je(()=>{T!==null&&clearTimeout(T),V!==null&&clearTimeout(V)}),Object.assign(t,{showPopup:ot,hidePopup:Xe,removeAtIndex:gt,add:kt,toggleOption:Ie,getOptionIndex:()=>f.value,setOptionIndex:Qe,moveOptionSelection:tt,filter:Se,updateMenuPosition:dl,updateInputValue:le,isOptionSelected:ht,getEmittingOptionValue:Ct,isOptionDisabled:(...n)=>be.value.apply(null,n)===!0,getOptionValue:(...n)=>Me.value.apply(null,n),getOptionLabel:(...n)=>ve.value.apply(null,n)}),Object.assign(c,{innerValue:S,fieldClass:C(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:H,targetRef:F,hasValue:j,showPopup:ot,floatingLabel:C(()=>e.hideSelected!==!0&&j.value===!0||typeof g.value=="number"||g.value.length!==0||yl(e.displayValue)),getControlChild:()=>{if(c.editable.value!==!1&&(a.value===!0||ee.value!==!0||l["no-option"]!==void 0))return k===!0?Lt():at();c.hasPopupOpen===!0&&(c.hasPopupOpen=!1)},controlEvents:{onFocusin(n){c.onControlFocusin(n)},onFocusout(n){c.onControlFocusout(n,()=>{it(),nt()})},onClick(n){if(_t(n),k!==!0&&r.value===!0){nt(),F.value!==null&&F.value.focus();return}ot(n)}},getControl:n=>{const p=s(),x=n===!0||a.value!==!0||k!==!0;if(e.useInput===!0)p.push(q(n,x));else if(c.editable.value===!0){const Z=x===!0?Ze.value:void 0;p.push(E("input",{ref:x===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:x===!0?c.targetUid.value:void 0,value:re.value,readonly:!0,"data-autofocus":n===!0||e.autofocus===!0||void 0,...Z,onKeydown:Vt,onKeyup:Pt,onKeypress:Mt})),x===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&p.push(E("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Tt}))}if(he.value!==void 0&&e.disable!==!0&&et.value.length!==0){const Z=et.value.map(J=>E("option",{value:J,selected:!0}));p.push(E("select",{class:"hidden",name:he.value,multiple:e.multiple},Z))}const W=e.useInput===!0||x!==!0?void 0:c.splitAttrs.attributes.value;return E("div",{class:"q-field__native row items-center",...W,...c.splitAttrs.listeners.value},p)},getInnerAppend:()=>e.loading!==!0&&y.value!==!0&&e.hideDropdownIcon!==!0?[E(U,{class:"q-select__dropdown-icon"+(r.value===!0?" rotate-180":""),name:Ke.value})]:null}),Tl(c)}}),Ja=["ul","ol"],dt=Ee({name:"QList",props:{...Nt,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:l}){const o=Ne(),t=Wt(e,o.proxy.$q),u=C(()=>Ja.includes(e.tag)?null:"list"),r=C(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(t.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>E(e.tag,{class:r.value,role:u.value},ft(l.default))}}),al=Ee({name:"QTooltip",inheritAttrs:!1,props:{...Hl,...Vl,...At,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...At.transitionShow,default:"jump-down"},transitionHide:{...At.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:It},self:{type:String,default:"top middle",validator:It},offset:{type:Array,default:()=>[14,14],validator:Ql},scrollTarget:Dl,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...zl],setup(e,{slots:l,emit:o,attrs:t}){let u,r;const a=Ne(),{proxy:{$q:f}}=a,g=z(null),P=z(!1),y=C(()=>Ht(e.anchor,f.lang.rtl)),T=C(()=>Ht(e.self,f.lang.rtl)),V=C(()=>e.persistent!==!0),{registerTick:m,removeTick:k}=Ll(),{registerTimeout:R}=Al(),{transitionProps:h,transitionStyle:D}=El(e),{localScrollTarget:I,changeScrollEvent:M,unconfigureScrollTarget:O}=Nl(e,_e),{anchorEl:H,canShow:F,anchorEvents:G}=Rl({showing:P,configureAnchorEl:ye}),{show:$,hide:oe}=Bl({showing:P,canShow:F,handleShow:pe,handleHide:De,hideOnRouteChange:V,processOnMount:!0});Object.assign(G,{delayShow:Be,delayHide:qe});const{showPortal:he,hidePortal:ke,renderPortal:ue}=Ol(a,g,S,"tooltip");if(f.platform.is.mobile===!0){const _={anchorEl:H,innerRef:g,onClickOutside(j){return oe(j),j.target.classList.contains("q-dialog__backdrop")&&Ae(j),!0}},N=C(()=>e.modelValue===null&&e.persistent!==!0&&P.value===!0);we(N,j=>{(j===!0?Wl:Ft)(_)}),Je(()=>{Ft(_)})}function pe(_){he(),m(()=>{r=new MutationObserver(()=>ie()),r.observe(g.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),ie(),_e()}),u===void 0&&(u=we(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,ie)),R(()=>{he(!0),o("show",_)},e.transitionDuration)}function De(_){k(),ke(),xe(),R(()=>{ke(!0),o("hide",_)},e.transitionDuration)}function xe(){r!==void 0&&(r.disconnect(),r=void 0),u!==void 0&&(u(),u=void 0),O(),nl(G,"tooltipTemp")}function ie(){cl({targetEl:g.value,offset:e.offset,anchorEl:H.value,anchorOrigin:y.value,selfOrigin:T.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Be(_){if(f.platform.is.mobile===!0){sl(),document.body.classList.add("non-selectable");const N=H.value,j=["touchmove","touchcancel","touchend","click"].map(L=>[N,L,"delayHide","passiveCapture"]);Et(G,"tooltipTemp",j)}R(()=>{$(_)},e.delay)}function qe(_){f.platform.is.mobile===!0&&(nl(G,"tooltipTemp"),sl(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),R(()=>{oe(_)},e.hideDelay)}function ye(){if(e.noParentEvent===!0||H.value===null)return;const _=f.platform.is.mobile===!0?[[H.value,"touchstart","delayShow","passive"]]:[[H.value,"mouseenter","delayShow","passive"],[H.value,"mouseleave","delayHide","passive"]];Et(G,"anchor",_)}function _e(){if(H.value!==null||e.scrollTarget!==void 0){I.value=Fl(H.value,e.scrollTarget);const _=e.noParentEvent===!0?ie:oe;M(I.value,_)}}function c(){return P.value===!0?E("div",{...t,ref:g,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,D.value],role:"tooltip"},ft(l.default)):null}function S(){return E(Il,h.value,c)}return Je(xe),Object.assign(a.proxy,{updatePosition:ie}),ue}}),Za=Ee({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:l}){const{proxy:{$q:o}}=Ne(),t=il(_a,ut);if(t===ut)return console.error("QPage needs to be a deep child of QLayout"),ut;if(il(Ca,ut)===ut)return console.error("QPage needs to be child of QPageContainer"),ut;const r=C(()=>{const f=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const g=t.isContainer.value===!0?t.containerHeight.value:o.screen.height;return e.styleFn(f,g)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-f+"px":o.screen.height===0?f!==0?`calc(100vh - ${f}px)`:"100vh":o.screen.height-f+"px"}}),a=C(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>E("main",{class:a.value,style:r.value},ft(l.default))}});function ql(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const l=parseInt(e,10);return isNaN(l)?0:l}const $a=ka({name:"close-popup",beforeMount(e,{value:l}){const o={depth:ql(l),handler(t){o.depth!==0&&setTimeout(()=>{const u=qa(e);u!==void 0&&Pa(u,t,o.depth)})},handlerKey(t){Qt(t,13)===!0&&o.handler(t)}};e.__qclosepopup=o,e.addEventListener("click",o.handler),e.addEventListener("keyup",o.handlerKey)},updated(e,{value:l,oldValue:o}){l!==o&&(e.__qclosepopup.depth=ql(l))},beforeUnmount(e){const l=e.__qclosepopup;e.removeEventListener("click",l.handler),e.removeEventListener("keyup",l.handlerKey),delete e.__qclosepopup}});function en(){return il(Ta)}const tn=Ma({__name:"IndexPage",setup(e,{expose:l}){l();const o=en(),t=z(ye()),u=z(_e()),r=z(c()),a=z(null),f=z(null),g=z(!1),P=z(!1),y=z(!1),T=z(null),V=z(-1),m=z(!1),k=z(1),R=z([]),h=z([]),D=z([]),I=z(null),M=z(null),O=z(null),H=z(null),F=z(null),G=z(null),$=z("gamesPlayed"),oe=[{label:"Beginner",value:1,description:"New to the game"},{label:"Intermediate",value:2,description:"Some experience"},{label:"Advanced",value:3,description:"Experienced player"}],he=[{label:"Games Played",value:"gamesPlayed"},{label:"Wins",value:"wins"},{label:"Losses",value:"losses"},{label:"Name",value:"name"}],ke=C(()=>{const s=u.value.length,d=u.value.filter(B=>B.level===1).length,q=u.value.filter(B=>B.level===2).length,K=u.value.filter(B=>B.level===3).length;return{total:s,level1:d,level2:q,level3:K}}),ue=C(()=>[...t.value].sort((s,d)=>{if($.value==="gamesPlayed"){if(s.gamesPlayed!==d.gamesPlayed)return d.gamesPlayed-s.gamesPlayed}else if($.value==="wins"){if(s.wins!==d.wins)return d.wins-s.wins}else if($.value==="losses"){if(s.losses!==d.losses)return d.losses-s.losses}else if($.value==="name")return s.name.localeCompare(d.name);return s.name.localeCompare(d.name)})),pe=C(()=>V.value>=0&&V.value<r.value.length?r.value[V.value]:[]),De=s=>{switch(s){case 1:return"green";case 2:return"orange";case 3:return"red";default:return"grey"}},xe=s=>{switch(s){case 1:return"star_border";case 2:return"star_half";case 3:return"star";default:return"star_outline"}},ie=()=>u.value.length>=4,Be=()=>{const s=u.value.length;if(s<4)return`Need ${4-s} more players to generate matches`;const d=Math.floor(s/4),q=s%4;return q===0?`Can generate ${d} match${d>1?"es":""}`:q===1?`Can generate ${d} match${d>1?"es":""} (1 player will wait)`:q===2?`Can generate ${d} match${d>1?"es":""} (2 players will wait)`:`Can generate ${d} match${d>1?"es":""} (3 players will wait)`},qe=()=>{const d=u.value.length%4;if(d===0)return"";const q={1:"Practice serves or warm up",2:"Practice doubles positioning",3:"Practice singles or wait for 1 more player"};return`${d} player${d>1?"s":""} waiting - ${q[d]}`};function ye(){const s=localStorage.getItem("playerList");return(s?JSON.parse(s):[]).map(q=>({...q,wins:q.wins||0,losses:q.losses||0}))}function _e(){const s=localStorage.getItem("playerQueue");return(s?JSON.parse(s):[]).map(q=>({...q,wins:q.wins||0,losses:q.losses||0}))}function c(){const s=localStorage.getItem("matches");return(s?JSON.parse(s):[]).map(q=>q.map(K=>({...K,wins:K.wins||0,losses:K.losses||0})))}function S(s){localStorage.setItem("playerList",JSON.stringify(s))}function _(s){localStorage.setItem("playerQueue",JSON.stringify(s))}function N(s){localStorage.setItem("matches",JSON.stringify(s))}const j=()=>{const s=[],d=[...u.value].sort((B,le)=>B.gamesPlayed-le.gamesPlayed),q=Math.floor(d.length/4);for(let B=0;B<q;B++){const le=d.splice(0,4),Se=L(le);s.push(Se)}const K=s.flat().map(B=>B.name);return u.value=u.value.filter(B=>!K.includes(B.name)),s},L=s=>{const d=[...s].sort((fe,Ge)=>fe.level-Ge.level),K=A(d).map(fe=>{const Ge=fe.team1,Gt=fe.team2,zt=Ge.reduce((yt,bt)=>yt+bt.level,0),Lt=Gt.reduce((yt,bt)=>yt+bt.level,0),Xt=Math.abs(zt-Lt);return{...fe,difference:Xt,team1Skill:zt,team2Skill:Lt}});K.sort((fe,Ge)=>fe.difference-Ge.difference);const B=K[0].difference,le=K.filter(fe=>fe.difference<=B+1),Se=Math.floor(Math.random()*le.length),at=le[Se];return[...at.team1,...at.team2]},A=s=>{const d=[],q=[0,1,2,3],K=[[0,1],[0,2],[0,3],[1,2],[1,3],[2,3]];for(const B of K){const le=q.filter(fe=>!B.includes(fe)),Se=B.map(fe=>s[fe]),at=le.map(fe=>s[fe]);d.push({team1:Se,team2:at})}return d},ee=()=>{if(!a.value?.trim()){o.notify({type:"negative",message:"Please enter a player name",position:"top"});return}if(f.value===null){o.notify({type:"negative",message:"Please select a player level",position:"top"});return}const s=a.value.trim();if(t.value.some(q=>q.name.toLowerCase()===s.toLowerCase())){o.notify({type:"negative",message:`Player "${s}" already exists`,position:"top"});return}const d={name:s,level:f.value,gamesPlayed:0,wins:0,losses:0};t.value.push(d),u.value.push(d),S(t.value),_(u.value),o.notify({type:"positive",message:`Player "${s}" added successfully`,position:"top"}),a.value=null,f.value=null,g.value=!1},w=()=>{const s=j();if(r.value=[...r.value,...s],_(u.value),N(r.value),s.length>0){const d=u.value.length;let q=`Generated ${s.length} new match(es)`;d>0&&(q+=`. ${d} player${d>1?"s":""} waiting for more players`,d===1?q+=" (suggest: practice serves or warm up)":d===2?q+=" (suggest: practice doubles positioning)":d===3&&(q+=" (suggest: practice singles or wait for 1 more player)")),o.notify({type:"positive",message:q,position:"top",timeout:5e3})}else o.notify({type:"warning",message:"Not enough players in queue to generate matches",position:"top"})},re=s=>{V.value=s,T.value=null,y.value=!0},Pe=()=>{if(T.value===null||V.value===-1)return;const s=r.value[V.value];s.forEach(d=>{const q=t.value.find(K=>K.name===d.name);if(q){q.gamesPlayed++;const B=s.findIndex(Se=>Se.name===d.name)<2;T.value==="team1"&&B||T.value==="team2"&&!B?q.wins++:q.losses++}}),r.value.splice(V.value,1),N(r.value),S(t.value),y.value=!1,T.value=null,V.value=-1,o.notify({type:"positive",message:"Match completed! Stats updated.",position:"top"})},We=s=>{o.dialog({title:"Confirm Removal",message:`Are you sure you want to remove "${s}" from all lists?`,cancel:!0,persistent:!0}).onOk(()=>{t.value=t.value.filter(d=>d.name!==s),u.value=u.value.filter(d=>d.name!==s),S(t.value),_(u.value),o.notify({type:"positive",message:`Player "${s}" removed successfully`,position:"top"})})},Te=s=>{u.value=u.value.filter(d=>d.name!==s),_(u.value),o.notify({type:"info",message:`Player "${s}" removed from queue`,position:"top"})},Ze=()=>{o.dialog({title:"Confirm Reset",message:"Are you sure you want to reset all games played counters to zero?",ok:{label:"Reset",color:"negative"},cancel:{label:"Cancel",color:"grey"},persistent:!0}).onOk(()=>{t.value.forEach(s=>{s.gamesPlayed=0,s.wins=0,s.losses=0}),S(t.value),o.notify({type:"positive",message:"All games played counters have been reset",position:"top"})})},Oe=s=>{const d=t.value.find(q=>q.name===s);if(d){if(u.value.some(q=>q.name===s)){o.notify({type:"warning",message:`Player "${s}" is already in the queue`,position:"top"});return}u.value.push(d),_(u.value),o.notify({type:"positive",message:`Player "${s}" added to queue`,position:"top"})}},Fe=()=>{o.dialog({title:"Confirm Reset All",message:"This will clear all players, queue, and matches. Are you sure?",ok:{label:"Reset All",color:"negative"},cancel:{label:"Cancel",color:"grey"},persistent:!0}).onOk(()=>{t.value=[],u.value=[],r.value=[],S(t.value),_(u.value),N(r.value),o.notify({type:"positive",message:"All data has been reset",position:"top"})})},$e=()=>{R.value=[],h.value=[],D.value=[],k.value=1,m.value=!0},Ke=()=>{R.value=[],h.value=[],D.value=[],k.value=1,m.value=!1},mt=s=>{const d=R.value.findIndex(q=>q.name===s.name);d>=0?R.value.splice(d,1):R.value.length<4?R.value.push(s):o.notify({type:"warning",message:"You can only select 4 players",position:"top"})},Ue=s=>R.value.some(d=>d.name===s.name),Me=()=>{if(R.value.length!==4){o.notify({type:"warning",message:"Please select exactly 4 players",position:"top"});return}const s=L([...R.value]);h.value=[s[0],s[1]],D.value=[s[2],s[3]],k.value=2},ve=s=>s.reduce((d,q)=>d+q.level,0),be=()=>Math.abs(ve(h.value)-ve(D.value)),et=()=>be()<=1,jt=()=>{const s=be();return s===0?"green":s===1?"light-green":s===2?"orange":"red"},Ct=()=>{const s=be();return s===0?"verified":s===1?"check_circle":s===2?"warning":"error"},gt=()=>{const s=be();return s===0?"Perfect Balance":s===1?"Well Balanced":s===2?"Slightly Unbalanced":"Very Unbalanced"},Kt=()=>{const s=[...h.value,...D.value],d=L(s);h.value=[d[0],d[1]],D.value=[d[2],d[3]],o.notify({type:"positive",message:"Teams have been balanced using smart algorithm",position:"top"})},kt=()=>{const s=[...h.value,...D.value];for(let d=s.length-1;d>0;d--){const q=Math.floor(Math.random()*(d+1));[s[d],s[q]]=[s[q],s[d]]}h.value=[s[0],s[1]],D.value=[s[2],s[3]],o.notify({type:"info",message:"Teams have been shuffled randomly",position:"top"})},Ie=(s,d,q)=>{I.value=d,M.value=q,s.dataTransfer&&(s.dataTransfer.effectAllowed="move",s.dataTransfer.setData("text/plain",d.name))},Qe=()=>{I.value=null,M.value=null,O.value=null,H.value=null},tt=(s,d)=>{s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="move"),O.value=d},Ut=()=>{O.value=null},ht=(s,d)=>{s.preventDefault(),s.stopPropagation(),I.value?.name!==d.name&&(s.dataTransfer&&(s.dataTransfer.dropEffect="move"),H.value=d)},qt=()=>{H.value=null},Pt=(s,d,q)=>{if(s.preventDefault(),s.stopPropagation(),!I.value||!M.value)return;if(I.value.name===d.name){H.value=null;return}const K=h.value,B=D.value;h.value=K.filter(le=>le.name!==I.value.name&&le.name!==d.name),D.value=B.filter(le=>le.name!==I.value.name&&le.name!==d.name),M.value==="team1"?D.value.push(I.value):h.value.push(I.value),q==="team1"?D.value.push(d):h.value.push(d),o.notify({type:"positive",message:`Swapped ${I.value.name} with ${d.name}`,position:"top"}),H.value=null,O.value=null},Tt=(s,d)=>{if(s.preventDefault(),!I.value||!M.value)return;if(M.value===d){O.value=null;return}const q=d==="team1"?h.value:D.value;if(q.length>=2){const K=q[0];d==="team1"?(h.value=h.value.filter(B=>B.name!==K.name),D.value=D.value.filter(B=>B.name!==I.value.name),h.value.push(I.value),D.value.push(K)):(D.value=D.value.filter(B=>B.name!==K.name),h.value=h.value.filter(B=>B.name!==I.value.name),D.value.push(I.value),h.value.push(K)),o.notify({type:"positive",message:`Swapped ${I.value.name} with ${K.name}`,position:"top"})}else M.value==="team1"?(h.value=h.value.filter(K=>K.name!==I.value.name),D.value.push(I.value)):(D.value=D.value.filter(K=>K.name!==I.value.name),h.value.push(I.value));O.value=null},Mt=(s,d)=>{if(!F.value){F.value=s,G.value=d;return}if(F.value.name===s.name){F.value=null,G.value=null;return}const q=h.value,K=D.value;h.value=q.filter(B=>B.name!==F.value.name&&B.name!==s.name),D.value=K.filter(B=>B.name!==F.value.name&&B.name!==s.name),G.value==="team1"?D.value.push(F.value):h.value.push(F.value),d==="team1"?D.value.push(s):h.value.push(s),o.notify({type:"positive",message:`Swapped ${F.value.name} with ${s.name}`,position:"top"}),F.value=null,G.value=null},Vt=()=>{if(h.value.length!==2||D.value.length!==2){o.notify({type:"warning",message:"Each team must have exactly 2 players",position:"top"});return}be()>=3?o.dialog({title:"Unbalanced Teams",message:`These teams are very unbalanced (skill difference: ${be()}). Are you sure you want to create this match?`,ok:{label:"Create Anyway",color:"negative"},cancel:{label:"Go Back",color:"grey"},persistent:!0}).onOk(()=>{lt()}):lt()},lt=()=>{const s=[...h.value,...D.value];r.value.push(s);const d=s.map(q=>q.name);u.value=u.value.filter(q=>!d.includes(q.name)),N(r.value),_(u.value),m.value=!1,R.value=[],h.value=[],D.value=[],k.value=1,o.notify({type:"positive",message:"Manual match created successfully!",position:"top"})},Dt={$q:o,players:t,queue:u,matches:r,newPlayerName:a,newPlayerLevel:f,showAddPlayerDialog:g,showSettingsDialog:P,showMatchResultDialog:y,selectedWinner:T,currentMatchIndex:V,showManualSelectionDialog:m,manualSelectionStep:k,selectedPlayers:R,manualTeam1:h,manualTeam2:D,draggedPlayer:I,dragSourceTeam:M,dragOverTeam:O,dragOverPlayer:H,selectedForSwap:F,selectedForSwapTeam:G,sortBy:$,levelOptions:oe,sortOptions:he,queueStats:ke,sortedPlayers:ue,currentMatch:pe,getLevelColor:De,getLevelIcon:xe,canGenerateMatches:ie,getMatchGenerationHint:Be,getWaitingPlayersInfo:qe,getPlayersFromStorage:ye,getQueueFromStorage:_e,getMatchesFromStorage:c,savePlayersToStorage:S,saveQueueToStorage:_,saveMatchesToStorage:N,generateMatches:j,createBalancedMatch:L,generateTeamCombinations:A,addNewPlayer:ee,generateNewMatches:w,openMatchResultDialog:re,completeMatch:Pe,removePlayer:We,removeFromQueue:Te,resetGamesPlayed:Ze,requeuePlayer:Oe,resetAllData:Fe,startManualSelection:$e,cancelManualSelection:Ke,togglePlayerSelection:mt,isPlayerSelected:Ue,proceedToTeamArrangement:Me,getTeamSkill:ve,getSkillDifference:be,isBalanced:et,getBalanceColor:jt,getBalanceIcon:Ct,getBalanceText:gt,balanceTeams:Kt,shuffleTeams:kt,onDragStart:Ie,onDragEnd:Qe,onDragOver:tt,onDragLeave:Ut,onDragOverPlayer:ht,onDragLeavePlayer:qt,onDropOnPlayer:Pt,onDrop:Tt,selectPlayerForSwap:Mt,createManualMatch:Vt,finalizeManualMatch:lt};return Object.defineProperty(Dt,"__isScriptSetup",{enumerable:!1,value:!0}),Dt}}),ln={class:"header-section"},an={class:"container"},nn={class:"row items-center justify-between"},on={class:"col-auto"},sn={class:"container q-pa-md"},un={class:"row q-col-gutter-lg"},rn={class:"col-12 col-md-4"},cn={class:"row items-center justify-between"},dn={class:"text-h6"},vn={class:"row items-center q-gutter-xs"},fn={class:"card-content"},mn={class:"q-ml-sm text-positive"},gn={class:"q-ml-sm text-negative"},hn={class:"row items-center q-gutter-xs"},yn={key:1,class:"empty-state"},bn={class:"col-12 col-md-4"},Sn={class:"row items-center justify-between"},wn={class:"text-h6"},pn={class:"queue-stats"},xn={class:"card-content"},_n={class:"q-ml-sm"},Cn={key:1,class:"empty-state"},kn={class:"q-gutter-y-sm"},qn={class:"text-caption text-grey-6 q-mt-sm text-center"},Pn={key:0,class:"q-mt-md"},Tn={class:"text-caption text-orange q-mt-sm"},Mn={class:"col-12 col-md-4"},Vn={class:"text-h6"},Dn={class:"card-content"},zn={class:"match-teams"},Ln={class:"team team-1"},An={class:"vs-divider"},En={class:"team team-2"},Bn={key:1,class:"empty-state"},On={class:"text-h6"},Fn={class:"q-gutter-y-md"},In={class:"text-h6"},Hn={class:"q-gutter-y-md"},Rn={class:"row q-col-gutter-md"},Nn={class:"col-6"},Wn={class:"col-6"},Qn={class:"text-h6"},jn={class:"q-gutter-y-md"},Kn={class:"row items-center justify-between"},Un={class:"text-h6"},Gn={class:"manual-selection-container"},Xn={key:0,class:"selection-step"},Yn={class:"text-caption text-grey-7 q-mb-md"},Jn={class:"q-ml-sm"},Zn={class:"q-ml-sm text-positive"},$n={class:"q-ml-sm text-negative"},eo={class:"q-mt-lg row justify-end q-gutter-sm"},to={key:1,class:"arrangement-step"},lo={class:"balance-indicator q-mb-lg"},ao={class:"row items-center justify-between"},no={class:"row items-center q-gutter-sm"},oo={class:"text-caption text-grey-7 q-mt-xs"},io={class:"row q-mb-lg q-gutter-sm"},so={class:"row q-col-gutter-lg"},uo={class:"col-12 col-md-6"},ro={class:"text-h6"},co={class:"text-caption text-grey-6 q-mb-sm mobile-hint"},vo={key:0,class:"text-orange text-weight-bold q-ml-sm"},fo={key:1,class:"text-center text-grey-6 q-pa-md empty-team-drop"},mo={class:"col-12 col-md-6"},go={class:"text-h6"},ho={class:"text-caption text-grey-6 q-mb-sm mobile-hint"},yo={key:0,class:"text-orange text-weight-bold q-ml-sm"},bo={key:1,class:"text-center text-grey-6 q-pa-md empty-team-drop"},So={class:"q-mt-lg row justify-between"},wo={class:"row q-gutter-sm"};function po(e,l,o,t,u,r){return Q(),ce(Za,{class:"doubles-queue-page"},{default:v(()=>[b("div",ln,[b("div",an,[b("div",nn,[l[21]||(l[21]=b("div",{class:"col"},[b("h1",{class:"text-h4 text-weight-bold text-white q-mb-xs"}," 🏓 Doubles Queue Master "),b("p",{class:"text-subtitle1 text-grey-1 q-ma-none"}," Smart matchmaking system ")],-1)),b("div",on,[i(te,{color:"white",icon:"settings",label:"Settings",onClick:l[0]||(l[0]=a=>t.showSettingsDialog=!0),flat:""})])])])]),b("div",sn,[b("div",un,[b("div",rn,[i(ze,{class:"players-card",flat:"",bordered:""},{default:v(()=>[i(ne,{class:"bg-secondary text-white"},{default:v(()=>[b("div",cn,[b("div",dn,[i(U,{name:"people",class:"q-mr-sm"}),Y(" Players ("+X(t.players.length)+") ",1)]),b("div",vn,[i(kl,{modelValue:t.sortBy,"onUpdate:modelValue":l[1]||(l[1]=a=>t.sortBy=a),options:t.sortOptions,dense:"",outlined:"",dark:"",color:"white",class:"sort-select",style:{"min-width":"120px"},"emit-value":"","map-options":""},{prepend:v(()=>[i(U,{name:"sort"})]),_:1},8,["modelValue"]),i(te,{color:"white",onClick:l[2]||(l[2]=a=>t.showAddPlayerDialog=!0),icon:"person_add",flat:"",round:"",dense:""})])])]),_:1}),i(ne,{class:"q-pa-none"},{default:v(()=>[b("div",fn,[t.players.length>0?(Q(),ce(dt,{key:0,separator:""},{default:v(()=>[(Q(!0),ge(ct,null,rt(t.sortedPlayers,a=>(Q(),ce(je,{key:a.name,class:"player-item"},{default:v(()=>[i(se,{avatar:""},{default:v(()=>[i(wt,{color:t.getLevelColor(a.level),"text-color":"white",size:"md"},{default:v(()=>[Y(X(a.gamesPlayed),1)]),_:2},1032,["color"])]),_:2},1024),i(se,null,{default:v(()=>[i(Ce,{class:"text-weight-medium"},{default:v(()=>[Y(X(a.name),1)]),_:2},1024),i(Ce,{caption:""},{default:v(()=>[i(de,{label:`Level ${a.level}`,color:t.getLevelColor(a.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),b("span",mn,"W: "+X(a.wins),1),b("span",gn,"L: "+X(a.losses),1)]),_:2},1024)]),_:2},1024),i(se,{side:""},{default:v(()=>[b("div",hn,[i(te,{flat:"",round:"",color:"negative",onClick:f=>t.removePlayer(a.name),icon:"delete",size:"sm"},null,8,["onClick"]),i(te,{flat:"",color:"secondary",onClick:f=>t.requeuePlayer(a.name),icon:"add_to_queue",size:"sm",disable:t.queue.some(f=>f.name===a.name)},null,8,["onClick","disable"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(Q(),ge("div",yn,[i(U,{name:"people",size:"48px",color:"grey-4"}),l[22]||(l[22]=b("p",{class:"text-grey-6 q-mt-sm"},"No players added yet",-1)),l[23]||(l[23]=b("p",{class:"text-caption text-grey-5"},"Click the + button to add your first player",-1))]))])]),_:1})]),_:1})]),b("div",bn,[i(ze,{class:"queue-card",flat:"",bordered:""},{default:v(()=>[i(ne,{class:"bg-accent text-white"},{default:v(()=>[b("div",Sn,[b("div",wn,[i(U,{name:"queue",class:"q-mr-sm"}),Y(" Players Queue ("+X(t.queue.length)+") ",1)]),b("div",pn,[i(de,{label:`L1: ${t.queueStats.level1}`,color:"green","text-color":"white",size:"sm"},null,8,["label"]),i(de,{label:`L2: ${t.queueStats.level2}`,color:"orange","text-color":"white",size:"sm"},null,8,["label"]),i(de,{label:`L3: ${t.queueStats.level3}`,color:"red","text-color":"white",size:"sm"},null,8,["label"])])])]),_:1}),i(ne,{class:"q-pa-none"},{default:v(()=>[b("div",xn,[t.queue.length>0?(Q(),ce(dt,{key:0,separator:""},{default:v(()=>[(Q(!0),ge(ct,null,rt(t.queue,(a,f)=>(Q(),ce(je,{key:a.name,class:"queue-item"},{default:v(()=>[i(se,{avatar:""},{default:v(()=>[i(wt,{color:t.getLevelColor(a.level),"text-color":"white",size:"sm"},{default:v(()=>[Y(X(f+1),1)]),_:2},1032,["color"])]),_:2},1024),i(se,null,{default:v(()=>[i(Ce,{class:"text-weight-medium"},{default:v(()=>[Y(X(a.name),1)]),_:2},1024),i(Ce,{caption:""},{default:v(()=>[i(de,{label:`Level ${a.level}`,color:t.getLevelColor(a.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),b("span",_n,X(a.gamesPlayed)+" games",1)]),_:2},1024)]),_:2},1024),i(se,{side:""},{default:v(()=>[i(te,{flat:"",round:"",color:"negative",onClick:g=>t.removeFromQueue(a.name),icon:"remove_circle",size:"sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(Q(),ge("div",Cn,[i(U,{name:"queue",size:"48px",color:"grey-4"}),l[24]||(l[24]=b("p",{class:"text-grey-6 q-mt-sm"},"Queue is empty",-1)),l[25]||(l[25]=b("p",{class:"text-caption text-grey-5"},"Add players to start generating matches",-1))]))])]),_:1}),i(ne,null,{default:v(()=>[b("div",kn,[i(te,{class:"full-width",color:"primary",onClick:t.generateNewMatches,label:"Auto Generate Matches",size:"lg",icon:"auto_awesome",disable:!t.canGenerateMatches()},null,8,["disable"]),i(te,{class:"full-width",color:"secondary",onClick:t.startManualSelection,label:"Manual Match Selection",size:"lg",icon:"touch_app",disable:t.queue.length<4,outline:""},null,8,["disable"])]),b("div",qn,X(t.getMatchGenerationHint()),1),t.queue.length>0&&t.queue.length%4!==0?(Q(),ge("div",Pn,[i(Da),b("div",Tn,[i(U,{name:"schedule",size:"xs",class:"q-mr-xs"}),Y(" "+X(t.getWaitingPlayersInfo()),1)])])):Ve("",!0)]),_:1})]),_:1})]),b("div",Mn,[i(ze,{class:"matches-card",flat:"",bordered:""},{default:v(()=>[i(ne,{class:"bg-positive text-white"},{default:v(()=>[b("div",Vn,[i(U,{name:"sports_tennis",class:"q-mr-sm"}),Y(" Matches ("+X(t.matches.length)+") ",1)])]),_:1}),i(ne,{class:"q-pa-none"},{default:v(()=>[b("div",Dn,[t.matches.length>0?(Q(),ce(dt,{key:0,separator:""},{default:v(()=>[(Q(!0),ge(ct,null,rt(t.matches,(a,f)=>(Q(),ce(je,{key:f,class:"match-item"},{default:v(()=>[i(se,null,{default:v(()=>[b("div",zn,[b("div",Ln,[i(de,{label:a[0].name,color:t.getLevelColor(a[0].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),i(de,{label:a[1].name,color:t.getLevelColor(a[1].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),b("div",An,[i(U,{name:"sports_tennis",color:"grey-6",size:"sm"})]),b("div",En,[i(de,{label:a[2].name,color:t.getLevelColor(a[2].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),i(de,{label:a[3].name,color:t.getLevelColor(a[3].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])])])]),_:2},1024),i(se,{side:""},{default:v(()=>[i(te,{flat:"",color:"positive",onClick:g=>t.openMatchResultDialog(f),icon:"emoji_events",size:"sm",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(Q(),ge("div",Bn,[i(U,{name:"sports_tennis",size:"48px",color:"grey-4"}),l[26]||(l[26]=b("p",{class:"text-grey-6 q-mt-sm"},"No active matches",-1)),l[27]||(l[27]=b("p",{class:"text-caption text-grey-5"},"Generate matches from the queue to get started",-1))]))])]),_:1})]),_:1})])])]),i(xt,{modelValue:t.showAddPlayerDialog,"onUpdate:modelValue":l[6]||(l[6]=a=>t.showAddPlayerDialog=a)},{default:v(()=>[i(ze,{style:{"min-width":"400px"}},{default:v(()=>[i(ne,{class:"bg-primary text-white"},{default:v(()=>[b("div",On,[i(U,{name:"person_add",class:"q-mr-sm"}),l[28]||(l[28]=Y(" Add New Player "))])]),_:1}),i(ne,null,{default:v(()=>[b("div",Fn,[i(za,{modelValue:t.newPlayerName,"onUpdate:modelValue":l[3]||(l[3]=a=>t.newPlayerName=a),label:"Player Name",type:"text",onKeyup:La(t.addNewPlayer,["enter"]),rules:[a=>!!a?.trim()||"Player name is required"],outlined:"",dense:"",autofocus:""},{prepend:v(()=>[i(U,{name:"person"})]),_:1},8,["modelValue","rules"]),i(kl,{modelValue:t.newPlayerLevel,"onUpdate:modelValue":l[4]||(l[4]=a=>t.newPlayerLevel=a),options:t.levelOptions,label:"Player Level",rules:[a=>a!==null||"Player level is required"],outlined:"",dense:"","emit-value":"","map-options":""},{prepend:v(()=>[i(U,{name:"star"})]),option:v(a=>[i(je,Aa(Ea(a.itemProps)),{default:v(()=>[i(se,{avatar:""},{default:v(()=>[i(U,{name:t.getLevelIcon(a.opt.value),color:t.getLevelColor(a.opt.value)},null,8,["name","color"])]),_:2},1024),i(se,null,{default:v(()=>[i(Ce,null,{default:v(()=>[Y(X(a.opt.label),1)]),_:2},1024),i(Ce,{caption:""},{default:v(()=>[Y(X(a.opt.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","rules"])])]),_:1}),i(Zt,{align:"right"},{default:v(()=>[i(te,{flat:"",label:"Cancel",onClick:l[5]||(l[5]=a=>t.showAddPlayerDialog=!1)}),i(te,{color:"primary",onClick:t.addNewPlayer,label:"Add Player",disable:!t.newPlayerName?.trim()||t.newPlayerLevel===null,icon:"add"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(xt,{modelValue:t.showMatchResultDialog,"onUpdate:modelValue":l[10]||(l[10]=a=>t.showMatchResultDialog=a)},{default:v(()=>[i(ze,{style:{"min-width":"500px"}},{default:v(()=>[i(ne,{class:"bg-positive text-white"},{default:v(()=>[b("div",In,[i(U,{name:"emoji_events",class:"q-mr-sm"}),l[29]||(l[29]=Y(" Match Result "))])]),_:1}),i(ne,null,{default:v(()=>[b("div",Hn,[l[32]||(l[32]=b("div",{class:"text-subtitle1 text-center q-mb-md"},"Who won this match?",-1)),b("div",Rn,[b("div",Nn,[i(ze,{class:He([t.selectedWinner==="team1"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[7]||(l[7]=a=>t.selectedWinner="team1"),flat:"",bordered:""},{default:v(()=>[i(ne,{class:"text-center"},{default:v(()=>[l[30]||(l[30]=b("div",{class:"text-weight-medium q-mb-sm"},"Team 1",-1)),i(de,{label:t.currentMatch[0].name,color:t.getLevelColor(t.currentMatch[0].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),i(de,{label:t.currentMatch[1].name,color:t.getLevelColor(t.currentMatch[1].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])]),b("div",Wn,[i(ze,{class:He([t.selectedWinner==="team2"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[8]||(l[8]=a=>t.selectedWinner="team2"),flat:"",bordered:""},{default:v(()=>[i(ne,{class:"text-center"},{default:v(()=>[l[31]||(l[31]=b("div",{class:"text-weight-medium q-mb-sm"},"Team 2",-1)),i(de,{label:t.currentMatch[2].name,color:t.getLevelColor(t.currentMatch[2].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),i(de,{label:t.currentMatch[3].name,color:t.getLevelColor(t.currentMatch[3].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])])])])]),_:1}),i(Zt,{align:"right"},{default:v(()=>[i(te,{flat:"",label:"Cancel",onClick:l[9]||(l[9]=a=>t.showMatchResultDialog=!1)}),i(te,{color:"positive",onClick:t.completeMatch,label:"Complete Match",disable:t.selectedWinner===null,icon:"check"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(xt,{modelValue:t.showSettingsDialog,"onUpdate:modelValue":l[12]||(l[12]=a=>t.showSettingsDialog=a)},{default:v(()=>[i(ze,{style:{"min-width":"400px"}},{default:v(()=>[i(ne,{class:"bg-primary text-white"},{default:v(()=>[b("div",Qn,[i(U,{name:"settings",class:"q-mr-sm"}),l[33]||(l[33]=Y(" Settings "))])]),_:1}),i(ne,null,{default:v(()=>[b("div",jn,[b("div",null,[i(te,{color:"secondary",onClick:t.resetGamesPlayed,icon:"refresh",label:"Reset Games Played",class:"full-width"})]),b("div",null,[i(te,{color:"negative",onClick:t.resetAllData,icon:"delete_forever",label:"Reset All Data",class:"full-width"})])])]),_:1}),i(Zt,{align:"right"},{default:v(()=>[i(te,{flat:"",label:"Close",onClick:l[11]||(l[11]=a=>t.showSettingsDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(xt,{modelValue:t.showManualSelectionDialog,"onUpdate:modelValue":l[20]||(l[20]=a=>t.showManualSelectionDialog=a),maximized:"","transition-show":"slide-up","transition-hide":"slide-down"},{default:v(()=>[i(ze,null,{default:v(()=>[i(ne,{class:"bg-secondary text-white"},{default:v(()=>[b("div",Kn,[b("div",Un,[i(U,{name:"touch_app",class:"q-mr-sm"}),l[34]||(l[34]=Y(" Manual Match Selection "))]),Ba(i(te,{icon:"close",flat:"",round:"",dense:""},null,512),[[$a]])])]),_:1}),i(ne,null,{default:v(()=>[b("div",Gn,[t.manualSelectionStep===1?(Q(),ge("div",Xn,[l[35]||(l[35]=b("div",{class:"text-h6 q-mb-md"},"Step 1: Select 4 Players",-1)),b("div",Yn," Click on players to select them for the match ("+X(t.selectedPlayers.length)+"/4 selected) ",1),i(dt,{separator:"",bordered:"",class:"rounded-borders"},{default:v(()=>[(Q(!0),ge(ct,null,rt(t.queue,a=>(Q(),ce(je,{key:a.name,clickable:"",onClick:f=>t.togglePlayerSelection(a),class:He([{"selected-player":t.isPlayerSelected(a)},"player-selection-item"])},{default:v(()=>[i(se,{avatar:""},{default:v(()=>[i(Oa,{"model-value":t.isPlayerSelected(a),color:"secondary",onClick:$t(f=>t.togglePlayerSelection(a),["stop"])},null,8,["model-value","onClick"])]),_:2},1024),i(se,{avatar:""},{default:v(()=>[i(wt,{color:t.getLevelColor(a.level),"text-color":"white",size:"md"},{default:v(()=>[Y(X(a.gamesPlayed),1)]),_:2},1032,["color"])]),_:2},1024),i(se,null,{default:v(()=>[i(Ce,{class:"text-weight-medium"},{default:v(()=>[Y(X(a.name),1)]),_:2},1024),i(Ce,{caption:""},{default:v(()=>[i(de,{label:`Level ${a.level}`,color:t.getLevelColor(a.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),b("span",Jn,X(a.gamesPlayed)+" games",1),b("span",Zn,"W: "+X(a.wins),1),b("span",$n,"L: "+X(a.losses),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1}),b("div",eo,[i(te,{flat:"",label:"Cancel",onClick:t.cancelManualSelection}),i(te,{color:"secondary",label:"Next: Arrange Teams","icon-right":"arrow_forward",onClick:t.proceedToTeamArrangement,disable:t.selectedPlayers.length!==4},null,8,["disable"])])])):Ve("",!0),t.manualSelectionStep===2?(Q(),ge("div",to,[l[46]||(l[46]=b("div",{class:"text-h6 q-mb-md"},"Step 2: Arrange Teams",-1)),b("div",lo,[b("div",ao,[l[37]||(l[37]=b("div",{class:"text-subtitle1"},"Team Balance",-1)),b("div",no,[i(de,{color:t.getBalanceColor(),"text-color":"white",icon:t.getBalanceIcon(),size:"md"},{default:v(()=>[Y(X(t.getBalanceText()),1)]),_:1},8,["color","icon"]),t.isBalanced()?Ve("",!0):(Q(),ce(U,{key:0,name:"warning",color:"orange",size:"sm"},{default:v(()=>[i(al,null,{default:v(()=>l[36]||(l[36]=[Y("Teams are unbalanced. Consider using Balance Teams button.")])),_:1})]),_:1}))])]),b("div",oo," Skill difference: "+X(t.getSkillDifference())+" point"+X(t.getSkillDifference()!==1?"s":"")+" (Team 1: "+X(t.getTeamSkill(t.manualTeam1))+" vs Team 2: "+X(t.getTeamSkill(t.manualTeam2))+") ",1)]),b("div",io,[i(te,{color:"primary",label:"Balance Teams",icon:"balance",onClick:t.balanceTeams,outline:""},{default:v(()=>[i(al,null,{default:v(()=>l[38]||(l[38]=[Y("Use smart algorithm to create balanced teams")])),_:1})]),_:1}),i(te,{color:"accent",label:"Shuffle",icon:"shuffle",onClick:t.shuffleTeams,outline:""},{default:v(()=>[i(al,null,{default:v(()=>l[39]||(l[39]=[Y("Randomly assign players to teams")])),_:1})]),_:1})]),b("div",so,[b("div",uo,[i(ze,{flat:"",bordered:"",class:He(["team-drop-zone",{"drag-over":t.dragOverTeam==="team1"}])},{default:v(()=>[i(ne,{class:"bg-blue-6 text-white"},{default:v(()=>[b("div",ro,[l[40]||(l[40]=Y(" Team 1 ")),i(de,{label:`Skill: ${t.getTeamSkill(t.manualTeam1)}`,color:"white","text-color":"blue-6",size:"sm",class:"q-ml-sm"},null,8,["label"])])]),_:1}),i(ne,{class:"team-drop-area",onDrop:l[13]||(l[13]=a=>t.onDrop(a,"team1")),onDragover:l[14]||(l[14]=a=>t.onDragOver(a,"team1")),onDragleave:t.onDragLeave,onDragenter:l[15]||(l[15]=$t(()=>{},["prevent"]))},{default:v(()=>[b("div",co,[i(U,{name:"touch_app",size:"xs"}),l[41]||(l[41]=Y(" Tap to select, tap another to swap "))]),t.manualTeam1.length>0?(Q(),ce(dt,{key:0},{default:v(()=>[(Q(!0),ge(ct,null,rt(t.manualTeam1,(a,f)=>(Q(),ce(je,{key:a.name,class:He(["team-player-item draggable-player drop-target-player",{"selected-for-swap":t.selectedForSwap?.name===a.name,"drag-source":t.draggedPlayer?.name===a.name,"drag-target":t.dragOverPlayer?.name===a.name,"can-swap-with":t.selectedForSwap&&t.selectedForSwap.name!==a.name}]),draggable:!0,onDragstart:g=>t.onDragStart(g,a,"team1"),onDragend:t.onDragEnd,onDragover:g=>t.onDragOverPlayer(g,a),onDragleave:t.onDragLeavePlayer,onDrop:g=>t.onDropOnPlayer(g,a,"team1"),onClick:g=>t.selectPlayerForSwap(a,"team1")},{default:v(()=>[i(se,{avatar:""},{default:v(()=>[i(wt,{color:t.getLevelColor(a.level),"text-color":"white",class:He({"swap-pulse":t.selectedForSwap?.name===a.name||t.draggedPlayer?.name===a.name||t.dragOverPlayer?.name===a.name})},{default:v(()=>[Y(X(f+1),1)]),_:2},1032,["color","class"])]),_:2},1024),i(se,null,{default:v(()=>[i(Ce,{class:"text-weight-medium"},{default:v(()=>[Y(X(a.name)+" ",1),t.selectedForSwap?.name===a.name?(Q(),ce(U,{key:0,name:"swap_horiz",color:"green",size:"sm",class:"q-ml-xs swap-icon-pulse"})):Ve("",!0),t.draggedPlayer?.name===a.name?(Q(),ce(U,{key:1,name:"open_with",color:"blue",size:"sm",class:"q-ml-xs swap-icon-pulse"})):Ve("",!0),t.dragOverPlayer?.name===a.name?(Q(),ce(U,{key:2,name:"swap_horiz",color:"orange",size:"sm",class:"q-ml-xs swap-icon-pulse"})):Ve("",!0)]),_:2},1024),i(Ce,{caption:""},{default:v(()=>[Y(" Level "+X(a.level)+" ",1),t.dragOverPlayer?.name===a.name?(Q(),ge("span",vo," ⇄ Swap target ")):Ve("",!0)]),_:2},1024)]),_:2},1024),i(se,{side:""},{default:v(()=>[i(U,{name:"drag_indicator",color:"grey-5",size:"sm",class:"drag-handle"})]),_:1})]),_:2},1032,["class","onDragstart","onDragover","onDrop","onClick"]))),128))]),_:1})):(Q(),ge("div",fo,[i(U,{name:"group_add",size:"lg",color:"grey-4"}),l[42]||(l[42]=b("p",{class:"q-mt-sm"},"Drag or tap to assign",-1))]))]),_:1})]),_:1},8,["class"])]),b("div",mo,[i(ze,{flat:"",bordered:"",class:He(["team-drop-zone",{"drag-over":t.dragOverTeam==="team2"}])},{default:v(()=>[i(ne,{class:"bg-orange-6 text-white"},{default:v(()=>[b("div",go,[l[43]||(l[43]=Y(" Team 2 ")),i(de,{label:`Skill: ${t.getTeamSkill(t.manualTeam2)}`,color:"white","text-color":"orange-6",size:"sm",class:"q-ml-sm"},null,8,["label"])])]),_:1}),i(ne,{class:"team-drop-area",onDrop:l[16]||(l[16]=a=>t.onDrop(a,"team2")),onDragover:l[17]||(l[17]=a=>t.onDragOver(a,"team2")),onDragleave:t.onDragLeave,onDragenter:l[18]||(l[18]=$t(()=>{},["prevent"]))},{default:v(()=>[b("div",ho,[i(U,{name:"touch_app",size:"xs"}),l[44]||(l[44]=Y(" Tap to select, tap another to swap "))]),t.manualTeam2.length>0?(Q(),ce(dt,{key:0},{default:v(()=>[(Q(!0),ge(ct,null,rt(t.manualTeam2,(a,f)=>(Q(),ce(je,{key:a.name,class:He(["team-player-item draggable-player drop-target-player",{"selected-for-swap":t.selectedForSwap?.name===a.name,"drag-source":t.draggedPlayer?.name===a.name,"drag-target":t.dragOverPlayer?.name===a.name,"can-swap-with":t.selectedForSwap&&t.selectedForSwap.name!==a.name}]),draggable:!0,onDragstart:g=>t.onDragStart(g,a,"team2"),onDragend:t.onDragEnd,onDragover:g=>t.onDragOverPlayer(g,a),onDragleave:t.onDragLeavePlayer,onDrop:g=>t.onDropOnPlayer(g,a,"team2"),onClick:g=>t.selectPlayerForSwap(a,"team2")},{default:v(()=>[i(se,{avatar:""},{default:v(()=>[i(wt,{color:t.getLevelColor(a.level),"text-color":"white",class:He({"swap-pulse":t.selectedForSwap?.name===a.name||t.draggedPlayer?.name===a.name||t.dragOverPlayer?.name===a.name})},{default:v(()=>[Y(X(f+1),1)]),_:2},1032,["color","class"])]),_:2},1024),i(se,null,{default:v(()=>[i(Ce,{class:"text-weight-medium"},{default:v(()=>[Y(X(a.name)+" ",1),t.selectedForSwap?.name===a.name?(Q(),ce(U,{key:0,name:"swap_horiz",color:"green",size:"sm",class:"q-ml-xs swap-icon-pulse"})):Ve("",!0),t.draggedPlayer?.name===a.name?(Q(),ce(U,{key:1,name:"open_with",color:"blue",size:"sm",class:"q-ml-xs swap-icon-pulse"})):Ve("",!0),t.dragOverPlayer?.name===a.name?(Q(),ce(U,{key:2,name:"swap_horiz",color:"orange",size:"sm",class:"q-ml-xs swap-icon-pulse"})):Ve("",!0)]),_:2},1024),i(Ce,{caption:""},{default:v(()=>[Y(" Level "+X(a.level)+" ",1),t.dragOverPlayer?.name===a.name?(Q(),ge("span",yo," ⇄ Swap target ")):Ve("",!0)]),_:2},1024)]),_:2},1024),i(se,{side:""},{default:v(()=>[i(U,{name:"drag_indicator",color:"grey-5",size:"sm",class:"drag-handle"})]),_:1})]),_:2},1032,["class","onDragstart","onDragover","onDrop","onClick"]))),128))]),_:1})):(Q(),ge("div",bo,[i(U,{name:"group_add",size:"lg",color:"grey-4"}),l[45]||(l[45]=b("p",{class:"q-mt-sm"},"Drag or tap to assign",-1))]))]),_:1})]),_:1},8,["class"])])]),b("div",So,[i(te,{flat:"",label:"Back",icon:"arrow_back",onClick:l[19]||(l[19]=a=>t.manualSelectionStep=1)}),b("div",wo,[i(te,{flat:"",label:"Cancel",onClick:t.cancelManualSelection}),i(te,{color:"positive",label:"Create Match",icon:"check",onClick:t.createManualMatch,disable:t.manualTeam1.length!==2||t.manualTeam2.length!==2},null,8,["disable"])])])])):Ve("",!0)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Co=Va(tn,[["render",po],["__file","IndexPage.vue"]]);export{Co as default};
