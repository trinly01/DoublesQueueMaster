import{r as E,a0 as fl,u as Yt,b as Ze,s as sl,w as we,o as Pa,a as dt,g as $e,y as Al,l as Vl,a1 as Hl,p as Ma,R as Ta,c as Ee,A as ea,a2 as nl,N as ta,C as la,f as k,a3 as aa,E as oa,a4 as na,F as sa,a5 as ia,O as ra,h as N,a6 as El,J as et,z as Je,a7 as Il,a8 as ua,a9 as ca,aa as da,B as vl,ab as Aa,D as gl,ac as Va,I as Ba,ad as Q,ae as za,af as La,ag as Ea,ah as Ia,j as Da,ai as Fa,x as Oa,aj as Ra,ak as Nl,al as Qa,am as Ha,an as Na,ao as Wa,n as ja,ap as Ua,aq as Ka,ar as Ga,as as Ja,at as ma,au as Ya,av as Wl,aw as Gt,ax as Xa,ay as Za,az as $a,v as Lt,aA as eo,aB as ct,U as fa,aC as to,aD as W,aE as lo,d as Bl,e as Et,k as ao,M as oo,m as no,aF as so,aG as io,aH as ro,V as va,_ as ga,X as S,aI as j,aJ as v,$ as a,Z as n,aK as C,aL as P,Y as G,aM as ve,aN as ne,aO as ke,aP as Fe,aQ as Ae,aR as je,aS as It,aT as Oe,H as bt,aU as jl,aV as uo,aW as co,aX as mo,aY as wt,aZ as ql,a_ as fo,a$ as vo}from"./index-Crhl6ooj.js";import{c as zl,n as Ul}from"./format-C7POhKfk.js";const ha={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},go={...ha,contextMenu:Boolean};function ya({showing:e,avoidEmit:l,configureAnchorEl:s}){const{props:t,proxy:m,emit:u}=$e(),o=E(null);let f=null;function h(p){return o.value===null?!1:p===void 0||p.touches===void 0||p.touches.length<=1}const A={};s===void 0&&(Object.assign(A,{hide(p){m.hide(p)},toggle(p){m.toggle(p),p.qAnchorHandled=!0},toggleKey(p){fl(p,13)===!0&&A.toggle(p)},contextClick(p){m.hide(p),Yt(p),Ze(()=>{m.show(p),p.qAnchorHandled=!0})},prevent:Yt,mobileTouch(p){if(A.mobileCleanup(p),h(p)!==!0)return;m.hide(p),o.value.classList.add("non-selectable");const L=p.target;sl(A,"anchor",[[L,"touchmove","mobileCleanup","passive"],[L,"touchend","mobileCleanup","passive"],[L,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,m.show(p),p.qAnchorHandled=!0},300)},mobileCleanup(p){o.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&p!==void 0&&zl()}}),s=function(p=t.contextMenu){if(t.noParentEvent===!0||o.value===null)return;let L;p===!0?m.$q.platform.is.mobile===!0?L=[[o.value,"touchstart","mobileTouch","passive"]]:L=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:L=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],sl(A,"anchor",L)});function y(){Al(A,"anchor")}function D(p){for(o.value=p;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;s()}function q(){if(t.target===!1||t.target===""||m.$el.parentNode===null)o.value=null;else if(t.target===!0)D(m.$el.parentNode);else{let p=t.target;if(typeof t.target=="string")try{p=document.querySelector(t.target)}catch{p=void 0}p!=null?(o.value=p.$el||p,s()):(o.value=null,console.error(`Anchor: target "${t.target}" not found`))}}return we(()=>t.contextMenu,p=>{o.value!==null&&(y(),s(p))}),we(()=>t.target,()=>{o.value!==null&&y(),q()}),we(()=>t.noParentEvent,p=>{o.value!==null&&(p===!0?y():s())}),Pa(()=>{q(),l!==!0&&t.modelValue===!0&&o.value===null&&u("update:modelValue",!1)}),dt(()=>{f!==null&&clearTimeout(f),y()}),{anchorEl:o,canShow:h,anchorEvents:A}}function pa(e,l){const s=E(null);let t;function m(f,h){const A=`${h!==void 0?"add":"remove"}EventListener`,y=h!==void 0?h:t;f!==window&&f[A]("scroll",y,Vl.passive),window[A]("scroll",y,Vl.passive),t=h}function u(){s.value!==null&&(m(s.value),s.value=null)}const o=we(()=>e.noParentEvent,()=>{s.value!==null&&(u(),l())});return dt(o),{localScrollTarget:s,unconfigureScrollTarget:u,changeScrollEvent:m}}const{notPassiveCapture:il}=Vl,xt=[];function rl(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let s=Hl.length-1;for(;s>=0;){const t=Hl[s].$;if(t.type.name==="QTooltip"){s--;continue}if(t.type.name!=="QDialog")break;if(t.props.seamless!==!0)return;s--}for(let t=xt.length-1;t>=0;t--){const m=xt[t];if((m.anchorEl.value===null||m.anchorEl.value.contains(l)===!1)&&(l===document.body||m.innerRef.value!==null&&m.innerRef.value.contains(l)===!1))e.qClickOutside=!0,m.onClickOutside(e);else return}}function ba(e){xt.push(e),xt.length===1&&(document.addEventListener("mousedown",rl,il),document.addEventListener("touchstart",rl,il))}function ul(e){const l=xt.findIndex(s=>s===e);l!==-1&&(xt.splice(l,1),xt.length===0&&(document.removeEventListener("mousedown",rl,il),document.removeEventListener("touchstart",rl,il)))}let Kl,Gl;function cl(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function wa(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Ll={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Ll[`${e}#ltr`]=e,Ll[`${e}#rtl`]=e});function dl(e,l){const s=e.split(" ");return{vertical:s[0],horizontal:Ll[`${s[1]}#${l===!0?"rtl":"ltr"}`]}}function ho(e,l){let{top:s,left:t,right:m,bottom:u,width:o,height:f}=e.getBoundingClientRect();return l!==void 0&&(s-=l[1],t-=l[0],u+=l[1],m+=l[0],o+=l[0],f+=l[1]),{top:s,bottom:u,height:f,left:t,right:m,width:o,middle:t+(m-t)/2,center:s+(u-s)/2}}function yo(e,l,s){let{top:t,left:m}=e.getBoundingClientRect();return t+=l.top,m+=l.left,s!==void 0&&(t+=s[1],m+=s[0]),{top:t,bottom:t+1,height:1,left:m,right:m+1,width:1,middle:m,center:t}}function po(e,l){return{top:0,center:l/2,bottom:l,left:0,middle:e/2,right:e}}function Jl(e,l,s,t){return{top:e[s.vertical]-l[t.vertical],left:e[s.horizontal]-l[t.horizontal]}}function Dl(e,l=0){if(e.targetEl===null||e.anchorEl===null||l>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Dl(e,l+1)},10);return}const{targetEl:s,offset:t,anchorEl:m,anchorOrigin:u,selfOrigin:o,absoluteOffset:f,fit:h,cover:A,maxHeight:y,maxWidth:D}=e;if(Ma.is.ios===!0&&window.visualViewport!==void 0){const X=document.body.style,{offsetLeft:ee,offsetTop:oe}=window.visualViewport;ee!==Kl&&(X.setProperty("--q-pe-left",ee+"px"),Kl=ee),oe!==Gl&&(X.setProperty("--q-pe-top",oe+"px"),Gl=oe)}const{scrollLeft:q,scrollTop:p}=s,L=f===void 0?ho(m,A===!0?[0,0]:t):yo(m,f,t);Object.assign(s.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:D,maxHeight:y,visibility:"visible"});const{offsetWidth:O,offsetHeight:T}=s,{elWidth:H,elHeight:I}=h===!0||A===!0?{elWidth:Math.max(L.width,O),elHeight:A===!0?Math.max(L.height,T):T}:{elWidth:O,elHeight:T};let V={maxWidth:D,maxHeight:y};(h===!0||A===!0)&&(V.minWidth=L.width+"px",A===!0&&(V.minHeight=L.height+"px")),Object.assign(s.style,V);const K=po(H,I);let $=Jl(L,K,u,o);if(f===void 0||t===void 0)Pl($,L,K,u,o);else{const{top:X,left:ee}=$;Pl($,L,K,u,o);let oe=!1;if($.top!==X){oe=!0;const ue=2*t[1];L.center=L.top-=ue,L.bottom-=ue+2}if($.left!==ee){oe=!0;const ue=2*t[0];L.middle=L.left-=ue,L.right-=ue+2}oe===!0&&($=Jl(L,K,u,o),Pl($,L,K,u,o))}V={top:$.top+"px",left:$.left+"px"},$.maxHeight!==void 0&&(V.maxHeight=$.maxHeight+"px",L.height>$.maxHeight&&(V.minHeight=V.maxHeight)),$.maxWidth!==void 0&&(V.maxWidth=$.maxWidth+"px",L.width>$.maxWidth&&(V.minWidth=V.maxWidth)),Object.assign(s.style,V),s.scrollTop!==p&&(s.scrollTop=p),s.scrollLeft!==q&&(s.scrollLeft=q)}function Pl(e,l,s,t,m){const u=s.bottom,o=s.right,f=Ta(),h=window.innerHeight-f,A=document.body.clientWidth;if(e.top<0||e.top+u>h)if(m.vertical==="center")e.top=l[t.vertical]>h/2?Math.max(0,h-u):0,e.maxHeight=Math.min(u,h);else if(l[t.vertical]>h/2){const y=Math.min(h,t.vertical==="center"?l.center:t.vertical===m.vertical?l.bottom:l.top);e.maxHeight=Math.min(u,y),e.top=Math.max(0,y-u)}else e.top=Math.max(0,t.vertical==="center"?l.center:t.vertical===m.vertical?l.top:l.bottom),e.maxHeight=Math.min(u,h-e.top);if(e.left<0||e.left+o>A)if(e.maxWidth=Math.min(o,A),m.horizontal==="middle")e.left=l[t.horizontal]>A/2?Math.max(0,A-o):0;else if(l[t.horizontal]>A/2){const y=Math.min(A,t.horizontal==="middle"?l.middle:t.horizontal===m.horizontal?l.right:l.left);e.maxWidth=Math.min(o,y),e.left=Math.max(0,y-e.maxWidth)}else e.left=Math.max(0,t.horizontal==="middle"?l.middle:t.horizontal===m.horizontal?l.left:l.right),e.maxWidth=Math.min(o,A-e.left)}const ge=Ee({name:"QTooltip",inheritAttrs:!1,props:{...ha,...ea,...nl,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...nl.transitionShow,default:"jump-down"},transitionHide:{...nl.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:cl},self:{type:String,default:"top middle",validator:cl},offset:{type:Array,default:()=>[14,14],validator:wa},scrollTarget:ta,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...la],setup(e,{slots:l,emit:s,attrs:t}){let m,u;const o=$e(),{proxy:{$q:f}}=o,h=E(null),A=E(!1),y=k(()=>dl(e.anchor,f.lang.rtl)),D=k(()=>dl(e.self,f.lang.rtl)),q=k(()=>e.persistent!==!0),{registerTick:p,removeTick:L}=aa(),{registerTimeout:O}=oa(),{transitionProps:T,transitionStyle:H}=na(e),{localScrollTarget:I,changeScrollEvent:V,unconfigureScrollTarget:K}=pa(e,Pe),{anchorEl:$,canShow:X,anchorEvents:ee}=ya({showing:A,configureAnchorEl:Ve}),{show:oe,hide:ue}=sa({showing:A,canShow:X,handleShow:te,handleHide:pe,hideOnRouteChange:q,processOnMount:!0});Object.assign(ee,{delayShow:Qe,delayHide:Ie});const{showPortal:qe,hidePortal:Be,renderPortal:de}=ia(o,h,x,"tooltip");if(f.platform.is.mobile===!0){const F={anchorEl:$,innerRef:h,onClickOutside(ae){return ue(ae),ae.target.classList.contains("q-dialog__backdrop")&&Je(ae),!0}},le=k(()=>e.modelValue===null&&e.persistent!==!0&&A.value===!0);we(le,ae=>{(ae===!0?ba:ul)(F)}),dt(()=>{ul(F)})}function te(F){qe(),p(()=>{u=new MutationObserver(()=>fe()),u.observe(h.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),fe(),Pe()}),m===void 0&&(m=we(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,fe)),O(()=>{qe(!0),s("show",F)},e.transitionDuration)}function pe(F){L(),Be(),me(),O(()=>{Be(!0),s("hide",F)},e.transitionDuration)}function me(){u!==void 0&&(u.disconnect(),u=void 0),m!==void 0&&(m(),m=void 0),K(),Al(ee,"tooltipTemp")}function fe(){Dl({targetEl:h.value,offset:e.offset,anchorEl:$.value,anchorOrigin:y.value,selfOrigin:D.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Qe(F){if(f.platform.is.mobile===!0){zl(),document.body.classList.add("non-selectable");const le=$.value,ae=["touchmove","touchcancel","touchend","click"].map(Y=>[le,Y,"delayHide","passiveCapture"]);sl(ee,"tooltipTemp",ae)}O(()=>{oe(F)},e.delay)}function Ie(F){f.platform.is.mobile===!0&&(Al(ee,"tooltipTemp"),zl(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),O(()=>{ue(F)},e.hideDelay)}function Ve(){if(e.noParentEvent===!0||$.value===null)return;const F=f.platform.is.mobile===!0?[[$.value,"touchstart","delayShow","passive"]]:[[$.value,"mouseenter","delayShow","passive"],[$.value,"mouseleave","delayHide","passive"]];sl(ee,"anchor",F)}function Pe(){if($.value!==null||e.scrollTarget!==void 0){I.value=ra($.value,e.scrollTarget);const F=e.noParentEvent===!0?fe:ue;V(I.value,F)}}function g(){return A.value===!0?N("div",{...t,ref:h,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",t.class],style:[t.style,H.value],role:"tooltip"},et(l.default)):null}function x(){return N(El,T.value,g)}return dt(me),Object.assign(o.proxy,{updatePosition:fe}),de}}),Ke=Ee({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:l}){const s=k(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>N("div",{class:s.value},et(l.default))}}),bo=Ee({name:"QField",inheritAttrs:!1,props:{...Il,tag:{type:String,default:"label"}},emits:ua,setup(){return ca(da({tagProp:!0}))}}),wo={xs:8,sm:10,md:14,lg:20,xl:24},re=Ee({name:"QChip",props:{...vl,...Aa,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:s}){const{proxy:{$q:t}}=$e(),m=gl(e,t),u=Va(e,wo),o=k(()=>e.selected===!0||e.icon!==void 0),f=k(()=>e.selected===!0?e.iconSelected||t.iconSet.chip.selected:e.icon),h=k(()=>e.iconRemove||t.iconSet.chip.remove),A=k(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),y=k(()=>{const T=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(T?` text-${T} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(A.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(m.value===!0?" q-chip--dark q-dark":"")}),D=k(()=>{const T=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},H={...T,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||t.lang.label.remove};return{chip:T,remove:H}});function q(T){T.keyCode===13&&p(T)}function p(T){e.disable||(s("update:selected",!e.selected),s("click",T))}function L(T){(T.keyCode===void 0||T.keyCode===13)&&(Je(T),e.disable===!1&&(s("update:modelValue",!1),s("remove")))}function O(){const T=[];A.value===!0&&T.push(N("div",{class:"q-focus-helper"})),o.value===!0&&T.push(N(Q,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const H=e.label!==void 0?[N("div",{class:"ellipsis"},[e.label])]:void 0;return T.push(N("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},za(l.default,H))),e.iconRight&&T.push(N(Q,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&T.push(N(Q,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...D.value.remove,onClick:L,onKeyup:L})),T}return()=>{if(e.modelValue===!1)return;const T={class:y.value,style:u.value};return A.value===!0&&Object.assign(T,D.value.chip,{onClick:p,onKeyup:q}),Ba("div",T,O(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[La,e.ripple]])}}}),Ce=Ee({name:"QItem",props:{...vl,...Ea,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:s}){const{proxy:{$q:t}}=$e(),m=gl(e,t),{hasLink:u,linkAttrs:o,linkClass:f,linkTag:h,navigateOnClick:A}=Ia(),y=E(null),D=E(null),q=k(()=>e.clickable===!0||u.value===!0||e.tag==="label"),p=k(()=>e.disable!==!0&&q.value===!0),L=k(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(m.value===!0?" q-item--dark":"")+(u.value===!0&&e.active===null?f.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(p.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),O=k(()=>e.insetLevel===void 0?null:{["padding"+(t.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function T(V){p.value===!0&&(D.value!==null&&(V.qKeyEvent!==!0&&document.activeElement===y.value?D.value.focus():document.activeElement===D.value&&y.value.focus()),A(V))}function H(V){if(p.value===!0&&fl(V,[13,32])===!0){Je(V),V.qKeyEvent=!0;const K=new MouseEvent("click",V);K.qKeyEvent=!0,y.value.dispatchEvent(K)}s("keyup",V)}function I(){const V=Da(l.default,[]);return p.value===!0&&V.unshift(N("div",{class:"q-focus-helper",tabindex:-1,ref:D})),V}return()=>{const V={ref:y,class:L.value,style:O.value,role:"listitem",onClick:T,onKeyup:H};return p.value===!0?(V.tabindex=e.tabindex||"0",Object.assign(V,o.value)):q.value===!0&&(V["aria-disabled"]="true"),N(h.value,V,I())}}}),U=Ee({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const s=k(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>N("div",{class:s.value},et(l.default))}}),he=Ee({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const s=k(()=>parseInt(e.lines,10)),t=k(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(s.value===1?" ellipsis":"")),m=k(()=>e.lines!==void 0&&s.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":s.value}:null);return()=>N("div",{style:m.value,class:t.value},et(l.default))}}),Sa=Ee({name:"QMenu",inheritAttrs:!1,props:{...go,...ea,...vl,...nl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:cl},self:{type:String,validator:cl},offset:{type:Array,validator:wa},scrollTarget:ta,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...la,"click","escapeKey"],setup(e,{slots:l,emit:s,attrs:t}){let m=null,u,o,f;const h=$e(),{proxy:A}=h,{$q:y}=A,D=E(null),q=E(!1),p=k(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),L=gl(e,y),{registerTick:O,removeTick:T}=aa(),{registerTimeout:H}=oa(),{transitionProps:I,transitionStyle:V}=na(e),{localScrollTarget:K,changeScrollEvent:$,unconfigureScrollTarget:X}=pa(e,F),{anchorEl:ee,canShow:oe}=ya({showing:q}),{hide:ue}=sa({showing:q,canShow:oe,handleShow:Pe,handleHide:g,hideOnRouteChange:p,processOnMount:!0}),{showPortal:qe,hidePortal:Be,renderPortal:de}=ia(h,D,be,"menu"),te={anchorEl:ee,innerRef:D,onClickOutside(M){if(e.persistent!==!0&&q.value===!0)return ue(M),(M.type==="touchstart"||M.target.classList.contains("q-dialog__backdrop"))&&Je(M),!0}},pe=k(()=>dl(e.anchor||(e.cover===!0?"center middle":"bottom start"),y.lang.rtl)),me=k(()=>e.cover===!0?pe.value:dl(e.self||"top start",y.lang.rtl)),fe=k(()=>(e.square===!0?" q-menu--square":"")+(L.value===!0?" q-menu--dark q-dark":"")),Qe=k(()=>e.autoClose===!0?{onClick:le}:{}),Ie=k(()=>q.value===!0&&e.persistent!==!0);we(Ie,M=>{M===!0?(Ha(Y),ba(te)):(Nl(Y),ul(te))});function Ve(){Na(()=>{let M=D.value;M&&M.contains(document.activeElement)!==!0&&(M=M.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||M.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||M.querySelector("[autofocus], [data-autofocus]")||M,M.focus({preventScroll:!0}))})}function Pe(M){if(m=e.noRefocus===!1?document.activeElement:null,Fa(ae),qe(),F(),u=void 0,M!==void 0&&(e.touchPosition||e.contextMenu)){const Se=Oa(M);if(Se.left!==void 0){const{top:He,left:tt}=ee.value.getBoundingClientRect();u={left:Se.left-tt,top:Se.top-He}}}o===void 0&&(o=we(()=>y.screen.width+"|"+y.screen.height+"|"+e.self+"|"+e.anchor+"|"+y.lang.rtl,J)),e.noFocus!==!0&&document.activeElement.blur(),O(()=>{J(),e.noFocus!==!0&&Ve()}),H(()=>{y.platform.is.ios===!0&&(f=e.autoClose,D.value.click()),J(),qe(!0),s("show",M)},e.transitionDuration)}function g(M){T(),Be(),x(!0),m!==null&&(M===void 0||M.qClickOutside!==!0)&&(((M&&M.type.indexOf("key")===0?m.closest('[tabindex]:not([tabindex^="-"])'):void 0)||m).focus(),m=null),H(()=>{Be(!0),s("hide",M)},e.transitionDuration)}function x(M){u=void 0,o!==void 0&&(o(),o=void 0),(M===!0||q.value===!0)&&(Ra(ae),X(),ul(te),Nl(Y)),M!==!0&&(m=null)}function F(){(ee.value!==null||e.scrollTarget!==void 0)&&(K.value=ra(ee.value,e.scrollTarget),$(K.value,J))}function le(M){f!==!0?(Qa(A,M),s("click",M)):f=!1}function ae(M){Ie.value===!0&&e.noFocus!==!0&&Wa(D.value,M.target)!==!0&&Ve()}function Y(M){s("escapeKey"),ue(M)}function J(){Dl({targetEl:D.value,offset:e.offset,anchorEl:ee.value,anchorOrigin:pe.value,selfOrigin:me.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function be(){return N(El,I.value,()=>q.value===!0?N("div",{role:"menu",...t,ref:D,tabindex:-1,class:["q-menu q-position-engine scroll"+fe.value,t.class],style:[t.style,V.value],...Qe.value},et(l.default)):null)}return dt(x),Object.assign(A,{focus:Ve,updatePosition:J}),de}});let ml=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,ml=e.scrollLeft>=0,e.remove()}const Ue=1e3,So=["start","center","end","start-force","center-force","end-force"],xa=Array.prototype.filter,xo=window.getComputedStyle(document.body).overflowAnchor===void 0?ja:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const s=e.children||[];xa.call(s,m=>m.dataset&&m.dataset.qVsAnchor!==void 0).forEach(m=>{delete m.dataset.qVsAnchor});const t=s[l];t&&t.dataset&&(t.dataset.qVsAnchor="")}))};function Dt(e,l){return e+l}function Ml(e,l,s,t,m,u,o,f){const h=e===window?document.scrollingElement||document.documentElement:e,A=m===!0?"offsetWidth":"offsetHeight",y={scrollStart:0,scrollViewSize:-o-f,scrollMaxSize:0,offsetStart:-o,offsetEnd:-f};if(m===!0?(e===window?(y.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,y.scrollViewSize+=document.documentElement.clientWidth):(y.scrollStart=h.scrollLeft,y.scrollViewSize+=h.clientWidth),y.scrollMaxSize=h.scrollWidth,u===!0&&(y.scrollStart=(ml===!0?y.scrollMaxSize-y.scrollViewSize:0)-y.scrollStart)):(e===window?(y.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,y.scrollViewSize+=document.documentElement.clientHeight):(y.scrollStart=h.scrollTop,y.scrollViewSize+=h.clientHeight),y.scrollMaxSize=h.scrollHeight),s!==null)for(let D=s.previousElementSibling;D!==null;D=D.previousElementSibling)D.classList.contains("q-virtual-scroll--skip")===!1&&(y.offsetStart+=D[A]);if(t!==null)for(let D=t.nextElementSibling;D!==null;D=D.nextElementSibling)D.classList.contains("q-virtual-scroll--skip")===!1&&(y.offsetEnd+=D[A]);if(l!==e){const D=h.getBoundingClientRect(),q=l.getBoundingClientRect();m===!0?(y.offsetStart+=q.left-D.left,y.offsetEnd-=q.width):(y.offsetStart+=q.top-D.top,y.offsetEnd-=q.height),e!==window&&(y.offsetStart+=y.scrollStart),y.offsetEnd+=y.scrollMaxSize-y.offsetStart}return y}function Yl(e,l,s,t){l==="end"&&(l=(e===window?document.body:e)[s===!0?"scrollWidth":"scrollHeight"]),e===window?s===!0?(t===!0&&(l=(ml===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):s===!0?(t===!0&&(l=(ml===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Jt(e,l,s,t){if(s>=t)return 0;const m=l.length,u=Math.floor(s/Ue),o=Math.floor((t-1)/Ue)+1;let f=e.slice(u,o).reduce(Dt,0);return s%Ue!==0&&(f-=l.slice(u*Ue,s).reduce(Dt,0)),t%Ue!==0&&t!==m&&(f-=l.slice(t,o*Ue).reduce(Dt,0)),f}const Co={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Xl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Co};function _o({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:s,virtualScrollItemSizeComputed:t}){const m=$e(),{props:u,emit:o,proxy:f}=m,{$q:h}=f;let A,y,D,q=[],p;const L=E(0),O=E(0),T=E({}),H=E(null),I=E(null),V=E(null),K=E({from:0,to:0}),$=k(()=>u.tableColspan!==void 0?u.tableColspan:100);t===void 0&&(t=k(()=>u.virtualScrollItemSize));const X=k(()=>t.value+";"+u.virtualScrollHorizontal),ee=k(()=>X.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);we(ee,()=>{fe()}),we(X,oe);function oe(){me(y,!0)}function ue(g){me(g===void 0?y:g)}function qe(g,x){const F=l();if(F==null||F.nodeType===8)return;const le=Ml(F,s(),H.value,I.value,u.virtualScrollHorizontal,h.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);D!==le.scrollViewSize&&fe(le.scrollViewSize),de(F,le,Math.min(e.value-1,Math.max(0,parseInt(g,10)||0)),0,So.indexOf(x)!==-1?x:y!==-1&&g>y?"end":"start")}function Be(){const g=l();if(g==null||g.nodeType===8)return;const x=Ml(g,s(),H.value,I.value,u.virtualScrollHorizontal,h.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),F=e.value-1,le=x.scrollMaxSize-x.offsetStart-x.offsetEnd-O.value;if(A===x.scrollStart)return;if(x.scrollMaxSize<=0){de(g,x,0,0);return}D!==x.scrollViewSize&&fe(x.scrollViewSize),te(K.value.from);const ae=Math.floor(x.scrollMaxSize-Math.max(x.scrollViewSize,x.offsetEnd)-Math.min(p[F],x.scrollViewSize/2));if(ae>0&&Math.ceil(x.scrollStart)>=ae){de(g,x,F,x.scrollMaxSize-x.offsetEnd-q.reduce(Dt,0));return}let Y=0,J=x.scrollStart-x.offsetStart,be=J;if(J<=le&&J+x.scrollViewSize>=L.value)J-=L.value,Y=K.value.from,be=J;else for(let M=0;J>=q[M]&&Y<F;M++)J-=q[M],Y+=Ue;for(;J>0&&Y<F;)J-=p[Y],J>-x.scrollViewSize?(Y++,be=J):be=p[Y]+J;de(g,x,Y,be)}function de(g,x,F,le,ae){const Y=typeof ae=="string"&&ae.indexOf("-force")!==-1,J=Y===!0?ae.replace("-force",""):ae,be=J!==void 0?J:"start";let M=Math.max(0,F-T.value[be]),Se=M+T.value.total;Se>e.value&&(Se=e.value,M=Math.max(0,Se-T.value.total)),A=x.scrollStart;const He=M!==K.value.from||Se!==K.value.to;if(He===!1&&J===void 0){Ie(F);return}const{activeElement:tt}=document,Ne=V.value;He===!0&&Ne!==null&&Ne!==tt&&Ne.contains(tt)===!0&&(Ne.addEventListener("focusout",pe),setTimeout(()=>{Ne!==null&&Ne.removeEventListener("focusout",pe)})),xo(Ne,F-M);const Ct=J!==void 0?p.slice(M,F).reduce(Dt,0):0;if(He===!0){const De=Se>=K.value.from&&M<=K.value.to?K.value.to:Se;K.value={from:M,to:De},L.value=Jt(q,p,0,M),O.value=Jt(q,p,Se,e.value),requestAnimationFrame(()=>{K.value.to!==Se&&A===x.scrollStart&&(K.value={from:K.value.from,to:Se},O.value=Jt(q,p,Se,e.value))})}requestAnimationFrame(()=>{if(A!==x.scrollStart)return;He===!0&&te(M);const De=p.slice(M,F).reduce(Dt,0),Ye=De+x.offsetStart+L.value,_t=Ye+p[F];let mt=Ye+le;if(J!==void 0){const Ft=De-Ct,ft=x.scrollStart+Ft;mt=Y!==!0&&ft<Ye&&_t<ft+x.scrollViewSize?ft:J==="end"?_t-x.scrollViewSize:Ye-(J==="start"?0:Math.round((x.scrollViewSize-p[F])/2))}A=mt,Yl(g,mt,u.virtualScrollHorizontal,h.lang.rtl),Ie(F)})}function te(g){const x=V.value;if(x){const F=xa.call(x.children,M=>M.classList&&M.classList.contains("q-virtual-scroll--skip")===!1),le=F.length,ae=u.virtualScrollHorizontal===!0?M=>M.getBoundingClientRect().width:M=>M.offsetHeight;let Y=g,J,be;for(let M=0;M<le;){for(J=ae(F[M]),M++;M<le&&F[M].classList.contains("q-virtual-scroll--with-prev")===!0;)J+=ae(F[M]),M++;be=J-p[Y],be!==0&&(p[Y]+=be,q[Math.floor(Y/Ue)]+=be),Y++}}}function pe(){V.value!==null&&V.value!==void 0&&V.value.focus()}function me(g,x){const F=1*t.value;(x===!0||Array.isArray(p)===!1)&&(p=[]);const le=p.length;p.length=e.value;for(let Y=e.value-1;Y>=le;Y--)p[Y]=F;const ae=Math.floor((e.value-1)/Ue);q=[];for(let Y=0;Y<=ae;Y++){let J=0;const be=Math.min((Y+1)*Ue,e.value);for(let M=Y*Ue;M<be;M++)J+=p[M];q.push(J)}y=-1,A=void 0,L.value=Jt(q,p,0,K.value.from),O.value=Jt(q,p,K.value.to,e.value),g>=0?(te(K.value.from),Ze(()=>{qe(g)})):Ve()}function fe(g){if(g===void 0&&typeof window<"u"){const J=l();J!=null&&J.nodeType!==8&&(g=Ml(J,s(),H.value,I.value,u.virtualScrollHorizontal,h.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}D=g;const x=parseFloat(u.virtualScrollSliceRatioBefore)||0,F=parseFloat(u.virtualScrollSliceRatioAfter)||0,le=1+x+F,ae=g===void 0||g<=0?1:Math.ceil(g/t.value),Y=Math.max(1,ae,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/le));T.value={total:Math.ceil(Y*le),start:Math.ceil(Y*x),center:Math.ceil(Y*(.5+x)),end:Math.ceil(Y*(1+x)),view:ae}}function Qe(g,x){const F=u.virtualScrollHorizontal===!0?"width":"height",le={["--q-virtual-scroll-item-"+F]:t.value+"px"};return[g==="tbody"?N(g,{class:"q-virtual-scroll__padding",key:"before",ref:H},[N("tr",[N("td",{style:{[F]:`${L.value}px`,...le},colspan:$.value})])]):N(g,{class:"q-virtual-scroll__padding",key:"before",ref:H,style:{[F]:`${L.value}px`,...le}}),N(g,{class:"q-virtual-scroll__content",key:"content",ref:V,tabindex:-1},x.flat()),g==="tbody"?N(g,{class:"q-virtual-scroll__padding",key:"after",ref:I},[N("tr",[N("td",{style:{[F]:`${O.value}px`,...le},colspan:$.value})])]):N(g,{class:"q-virtual-scroll__padding",key:"after",ref:I,style:{[F]:`${O.value}px`,...le}})]}function Ie(g){y!==g&&(u.onVirtualScroll!==void 0&&o("virtualScroll",{index:g,from:K.value.from,to:K.value.to-1,direction:g<y?"decrease":"increase",ref:f}),y=g)}fe();const Ve=Ua(Be,h.platform.is.ios===!0?120:35);Ka(()=>{fe()});let Pe=!1;return Ga(()=>{Pe=!0}),Ja(()=>{if(Pe!==!0)return;const g=l();A!==void 0&&g!==void 0&&g!==null&&g.nodeType!==8?Yl(g,A,u.virtualScrollHorizontal,h.lang.rtl):qe(y)}),dt(()=>{Ve.cancel()}),Object.assign(f,{scrollTo:qe,reset:oe,refresh:ue}),{virtualScrollSliceRange:K,virtualScrollSliceSizeComputed:T,setVirtualScrollSize:fe,onVirtualScrollEvt:Ve,localResetVirtualScroll:me,padVirtualScroll:Qe,scrollTo:qe,reset:oe,refresh:ue}}const Zl=e=>["add","add-unique","toggle"].includes(e),ko=".*+?^${}()|[]\\",qo=Object.keys(Il);function Tl(e,l){if(typeof e=="function")return e;const s=e!==void 0?e:l;return t=>t!==null&&typeof t=="object"&&s in t?t[s]:t}const ut=Ee({name:"QSelect",inheritAttrs:!1,props:{...Xl,...ma,...Il,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Zl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Xl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...ua,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:s}){const{proxy:t}=$e(),{$q:m}=t,u=E(!1),o=E(!1),f=E(-1),h=E(""),A=E(!1),y=E(!1);let D=null,q=null,p,L,O,T=null,H,I,V,K;const $=E(null),X=E(null),ee=E(null),oe=E(null),ue=E(null),qe=Ya(e),Be=$a($t),de=k(()=>e.options.length),te=k(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:pe,virtualScrollSliceSizeComputed:me,localResetVirtualScroll:fe,padVirtualScroll:Qe,onVirtualScrollEvt:Ie,scrollTo:Ve,setVirtualScrollSize:Pe}=_o({virtualScrollLength:de,getVirtualScrollTarget:Zt,getVirtualScrollEl:At,virtualScrollItemSizeComputed:te}),g=da(),x=k(()=>{const r=e.mapOptions===!0&&e.multiple!==!0,B=e.modelValue!==void 0&&(e.modelValue!==null||r===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0){const z=e.mapOptions===!0&&p!==void 0?p:[],Z=B.map(ce=>Mt(ce,z));return e.modelValue===null&&r===!0?Z.filter(ce=>ce!==null):Z}return B}),F=k(()=>{const r={};return qo.forEach(B=>{const z=e[B];z!==void 0&&(r[B]=z)}),r}),le=k(()=>e.optionsDark===null?g.isDark.value:e.optionsDark),ae=k(()=>Wl(x.value)),Y=k(()=>{let r="q-field__input q-placeholder col";return e.hideSelected===!0||x.value.length===0?[r,e.inputClass]:(r+=" q-field__input--padding",e.inputClass===void 0?r:[r,e.inputClass])}),J=k(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),be=k(()=>de.value===0),M=k(()=>x.value.map(r=>ze.value(r)).join(", ")),Se=k(()=>e.displayValue!==void 0?e.displayValue:M.value),He=k(()=>e.optionsHtml===!0?()=>!0:r=>r!=null&&r.html===!0),tt=k(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||x.value.some(He.value))),Ne=k(()=>g.focused.value===!0?e.tabindex:-1),Ct=k(()=>{const r={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${g.targetUid.value}_lb`};return f.value>=0&&(r["aria-activedescendant"]=`${g.targetUid.value}_${f.value}`),r}),De=k(()=>({id:`${g.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ye=k(()=>x.value.map((r,B)=>({index:B,opt:r,html:He.value(r),selected:!0,removeAtIndex:Xt,toggleOption:Le,tabindex:Ne.value}))),_t=k(()=>{if(de.value===0)return[];const{from:r,to:B}=pe.value;return e.options.slice(r,B).map((z,Z)=>{const ce=lt.value(z)===!0,ie=at(z)===!0,_e=r+Z,ye={clickable:!0,active:ie,activeClass:ft.value,manualFocus:!0,focused:!1,disable:ce,tabindex:-1,dense:e.optionsDense,dark:le.value,role:"option","aria-selected":ie===!0?"true":"false",id:`${g.targetUid.value}_${_e}`,onClick:()=>{Le(z)}};return ce!==!0&&(f.value===_e&&(ye.focused=!0),m.platform.is.desktop===!0&&(ye.onMousemove=()=>{u.value===!0&&xe(_e)})),{index:_e,opt:z,html:He.value(z),label:ze.value(z),selected:ye.active,focused:ye.focused,toggleOption:Le,setOptionIndex:xe,itemProps:ye}})}),mt=k(()=>e.dropdownIcon!==void 0?e.dropdownIcon:m.iconSet.arrow.dropdown),Ft=k(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ft=k(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),We=k(()=>Tl(e.optionValue,"value")),ze=k(()=>Tl(e.optionLabel,"label")),lt=k(()=>Tl(e.optionDisable,"disable")),kt=k(()=>x.value.map(We.value)),qt=k(()=>{const r={onInput:$t,onChange:Be,onKeydown:Qt,onKeyup:gt,onKeypress:ht,onFocus:Tt,onClick(B){L===!0&&Lt(B)}};return r.onCompositionstart=r.onCompositionupdate=r.onCompositionend=Be,r});we(x,r=>{p=r,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&g.innerLoading.value!==!0&&(o.value!==!0&&u.value!==!0||ae.value!==!0)&&(O!==!0&&it(),(o.value===!0||u.value===!0)&&ot(""))},{immediate:!0}),we(()=>e.fillInput,it),we(u,Ut),we(de,Cl);function Ot(r){return e.emitValue===!0?We.value(r):r}function Pt(r){if(r!==-1&&r<x.value.length)if(e.multiple===!0){const B=e.modelValue.slice();s("remove",{index:r,value:B.splice(r,1)[0]}),s("update:modelValue",B)}else s("update:modelValue",null)}function Xt(r){Pt(r),g.focus()}function Rt(r,B){const z=Ot(r);if(e.multiple!==!0){e.fillInput===!0&&yt(ze.value(r),!0,!0),s("update:modelValue",z);return}if(x.value.length===0){s("add",{index:0,value:z}),s("update:modelValue",e.multiple===!0?[z]:z);return}if(B===!0&&at(r)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const Z=e.modelValue.slice();s("add",{index:Z.length,value:z}),Z.push(z),s("update:modelValue",Z)}function Le(r,B){if(g.editable.value!==!0||r===void 0||lt.value(r)===!0)return;const z=We.value(r);if(e.multiple!==!0){B!==!0&&(yt(e.fillInput===!0?ze.value(r):"",!0,!0),Xe()),X.value!==null&&X.value.focus(),(x.value.length===0||Gt(We.value(x.value[0]),z)!==!0)&&s("update:modelValue",e.emitValue===!0?z:r);return}if((L!==!0||A.value===!0)&&g.focus(),Tt(),x.value.length===0){const ie=e.emitValue===!0?z:r;s("add",{index:0,value:ie}),s("update:modelValue",e.multiple===!0?[ie]:ie);return}const Z=e.modelValue.slice(),ce=kt.value.findIndex(ie=>Gt(ie,z));if(ce!==-1)s("remove",{index:ce,value:Z.splice(ce,1)[0]});else{if(e.maxValues!==void 0&&Z.length>=e.maxValues)return;const ie=e.emitValue===!0?z:r;s("add",{index:Z.length,value:ie}),Z.push(ie)}s("update:modelValue",Z)}function xe(r){if(m.platform.is.desktop!==!0)return;const B=r!==-1&&r<de.value?r:-1;f.value!==B&&(f.value=B)}function Me(r=1,B){if(u.value===!0){let z=f.value;do z=Ul(z+r,-1,de.value-1);while(z!==-1&&z!==f.value&&lt.value(e.options[z])===!0);f.value!==z&&(xe(z),Ve(z),B!==!0&&e.useInput===!0&&e.fillInput===!0&&Vt(z>=0?ze.value(e.options[z]):H,!0))}}function Mt(r,B){const z=Z=>Gt(We.value(Z),r);return e.options.find(z)||B.find(z)||r}function at(r){const B=We.value(r);return kt.value.find(z=>Gt(z,B))!==void 0}function Tt(r){e.useInput===!0&&X.value!==null&&(r===void 0||X.value===r.target&&r.target.value===M.value)&&X.value.select()}function vt(r){fl(r,27)===!0&&u.value===!0&&(Lt(r),Xe(),it()),s("keyup",r)}function gt(r){const{value:B}=r.target;if(r.keyCode!==void 0){vt(r);return}if(r.target.value="",D!==null&&(clearTimeout(D),D=null),q!==null&&(clearTimeout(q),q=null),it(),typeof B=="string"&&B.length!==0){const z=B.toLocaleLowerCase(),Z=ie=>{const _e=e.options.find(ye=>ie.value(ye).toLocaleLowerCase()===z);return _e===void 0?!1:(x.value.indexOf(_e)===-1?Le(_e):Xe(),!0)},ce=ie=>{Z(We)!==!0&&(Z(ze)===!0||ie===!0||ot(B,!0,()=>ce(!0)))};ce()}else g.clearValue(r)}function ht(r){s("keypress",r)}function Qt(r){if(s("keydown",r),eo(r)===!0)return;const B=h.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),z=r.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||B===!0);if(r.keyCode===27){Yt(r);return}if(r.keyCode===9&&z===!1){nt();return}if(r.target===void 0||r.target.id!==g.targetUid.value||g.editable.value!==!0)return;if(r.keyCode===40&&g.innerLoading.value!==!0&&u.value===!1){Je(r),st();return}if(r.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Pt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&s("update:modelValue",null);return}(r.keyCode===35||r.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(Je(r),f.value=-1,Me(r.keyCode===36?1:-1,e.multiple)),(r.keyCode===33||r.keyCode===34)&&me.value!==void 0&&(Je(r),f.value=Math.max(-1,Math.min(de.value,f.value+(r.keyCode===33?-1:1)*me.value.view)),Me(r.keyCode===33?1:-1,e.multiple)),(r.keyCode===38||r.keyCode===40)&&(Je(r),Me(r.keyCode===38?-1:1,e.multiple));const Z=de.value;if((V===void 0||K<Date.now())&&(V=""),Z>0&&e.useInput!==!0&&r.key!==void 0&&r.key.length===1&&r.altKey===!1&&r.ctrlKey===!1&&r.metaKey===!1&&(r.keyCode!==32||V.length!==0)){u.value!==!0&&st(r);const ce=r.key.toLocaleLowerCase(),ie=V.length===1&&V[0]===ce;K=Date.now()+1500,ie===!1&&(Je(r),V+=ce);const _e=new RegExp("^"+V.split("").map(Kt=>ko.indexOf(Kt)!==-1?"\\"+Kt:Kt).join(".*"),"i");let ye=f.value;if(ie===!0||ye<0||_e.test(ze.value(e.options[ye]))!==!0)do ye=Ul(ye+1,-1,Z-1);while(ye!==f.value&&(lt.value(e.options[ye])===!0||_e.test(ze.value(e.options[ye]))!==!0));f.value!==ye&&Ze(()=>{xe(ye),Ve(ye),ye>=0&&e.useInput===!0&&e.fillInput===!0&&Vt(ze.value(e.options[ye]),!0)});return}if(!(r.keyCode!==13&&(r.keyCode!==32||e.useInput===!0||V!=="")&&(r.keyCode!==9||z===!1))){if(r.keyCode!==9&&Je(r),f.value!==-1&&f.value<Z){Le(e.options[f.value]);return}if(B===!0){const ce=(ie,_e)=>{if(_e){if(Zl(_e)!==!0)return}else _e=e.newValueMode;if(yt("",e.multiple!==!0,!0),ie==null)return;(_e==="toggle"?Le:Rt)(ie,_e==="add-unique"),e.multiple!==!0&&(X.value!==null&&X.value.focus(),Xe())};if(e.onNewValue!==void 0?s("newValue",h.value,ce):ce(h.value),e.multiple!==!0)return}u.value===!0?nt():g.innerLoading.value!==!0&&st()}}function At(){return L===!0?ue.value:ee.value!==null&&ee.value.contentEl!==null?ee.value.contentEl:void 0}function Zt(){return At()}function Ht(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Ye.value.map(r=>l["selected-item"](r)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Ye.value.map((r,B)=>N(re,{key:"option-"+B,removable:g.editable.value===!0&&lt.value(r.opt)!==!0,dense:!0,textColor:e.color,tabindex:Ne.value,onRemove(){r.removeAtIndex(B)}},()=>N("span",{class:"ellipsis",[r.html===!0?"innerHTML":"textContent"]:ze.value(r.opt)}))):[N("span",{[tt.value===!0?"innerHTML":"textContent"]:Se.value})]}function Nt(){if(be.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:h.value}):void 0;const r=l.option!==void 0?l.option:z=>N(Ce,{key:z.index,...z.itemProps},()=>N(U,()=>N(he,()=>N("span",{[z.html===!0?"innerHTML":"textContent"]:z.label}))));let B=Qe("div",_t.value.map(r));return l["before-options"]!==void 0&&(B=l["before-options"]().concat(B)),fa(l["after-options"],B)}function hl(r,B){const z=B===!0?{...Ct.value,...g.splitAttrs.attributes.value}:void 0,Z={ref:B===!0?X:void 0,key:"i_t",class:Y.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...z,id:B===!0?g.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":r===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...qt.value};return r!==!0&&L===!0&&(Array.isArray(Z.class)===!0?Z.class=[...Z.class,"no-pointer-events"]:Z.class+=" no-pointer-events"),N("input",Z)}function $t(r){D!==null&&(clearTimeout(D),D=null),q!==null&&(clearTimeout(q),q=null),!(r&&r.target&&r.target.qComposing===!0)&&(Vt(r.target.value||""),O=!0,H=h.value,g.focused.value!==!0&&(L!==!0||A.value===!0)&&g.focus(),e.onFilter!==void 0&&(D=setTimeout(()=>{D=null,ot(h.value)},e.inputDebounce)))}function Vt(r,B){h.value!==r&&(h.value=r,B===!0||e.inputDebounce===0||e.inputDebounce==="0"?s("inputValue",r):q=setTimeout(()=>{q=null,s("inputValue",r)},e.inputDebounce))}function yt(r,B,z){O=z!==!0,e.useInput===!0&&(Vt(r,!0),(B===!0||z!==!0)&&(H=r),B!==!0&&ot(r))}function ot(r,B,z){if(e.onFilter===void 0||B!==!0&&g.focused.value!==!0)return;g.innerLoading.value===!0?s("filterAbort"):(g.innerLoading.value=!0,y.value=!0),r!==""&&e.multiple!==!0&&x.value.length!==0&&O!==!0&&r===ze.value(x.value[0])&&(r="");const Z=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);T!==null&&clearTimeout(T),T=Z,s("filter",r,(ce,ie)=>{(B===!0||g.focused.value===!0)&&T===Z&&(clearTimeout(T),typeof ce=="function"&&ce(),y.value=!1,Ze(()=>{g.innerLoading.value=!1,g.editable.value===!0&&(B===!0?u.value===!0&&Xe():u.value===!0?Ut(!0):u.value=!0),typeof ie=="function"&&Ze(()=>{ie(t)}),typeof z=="function"&&Ze(()=>{z(t)})}))},()=>{g.focused.value===!0&&T===Z&&(clearTimeout(T),g.innerLoading.value=!1,y.value=!1),u.value===!0&&(u.value=!1)})}function el(){return N(Sa,{ref:ee,class:J.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&be.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:le.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Ft.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...De.value,onScrollPassive:Ie,onBeforeShow:ll,onBeforeHide:yl,onShow:pl},Nt)}function yl(r){al(r),nt()}function pl(){Pe()}function Wt(r){Lt(r),X.value!==null&&X.value.focus(),A.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function bl(r){Lt(r),Ze(()=>{A.value=!1})}function wl(){const r=[N(bo,{class:`col-auto ${g.fieldClass.value}`,...F.value,for:g.targetUid.value,dark:le.value,square:!0,loading:y.value,itemAligned:!1,filled:!0,stackLabel:h.value.length!==0,...g.splitAttrs.listeners.value,onFocus:Wt,onBlur:bl},{...l,rawControl:()=>g.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&r.push(N("div",{ref:ue,class:J.value+" scroll",style:e.popupContentStyle,...De.value,onClick:Yt,onScrollPassive:Ie},Nt())),N(ct,{ref:oe,modelValue:o.value,position:e.useInput===!0?"top":void 0,transitionShow:I,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:ll,onBeforeHide:Sl,onHide:xl,onShow:jt},()=>N("div",{class:"q-select__dialog"+(le.value===!0?" q-select__dialog--dark q-dark":"")+(A.value===!0?" q-select__dialog--focused":"")},r))}function Sl(r){al(r),oe.value!==null&&oe.value.__updateRefocusTarget(g.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),g.focused.value=!1}function xl(r){Xe(),g.focused.value===!1&&s("blur",r),it()}function jt(){const r=document.activeElement;(r===null||r.id!==g.targetUid.value)&&X.value!==null&&X.value!==r&&X.value.focus(),Pe()}function nt(){o.value!==!0&&(f.value=-1,u.value===!0&&(u.value=!1),g.focused.value===!1&&(T!==null&&(clearTimeout(T),T=null),g.innerLoading.value===!0&&(s("filterAbort"),g.innerLoading.value=!1,y.value=!1)))}function st(r){g.editable.value===!0&&(L===!0?(g.onControlFocusin(r),o.value=!0,Ze(()=>{g.focus()})):g.focus(),e.onFilter!==void 0?ot(h.value):(be.value!==!0||l["no-option"]!==void 0)&&(u.value=!0))}function Xe(){o.value=!1,nt()}function it(){e.useInput===!0&&yt(e.multiple!==!0&&e.fillInput===!0&&x.value.length!==0&&ze.value(x.value[0])||"",!0,!0)}function Ut(r){let B=-1;if(r===!0){if(x.value.length!==0){const z=We.value(x.value[0]);B=e.options.findIndex(Z=>Gt(We.value(Z),z))}fe(B)}xe(B)}function Cl(r,B){u.value===!0&&g.innerLoading.value===!1&&(fe(-1,!0),Ze(()=>{u.value===!0&&g.innerLoading.value===!1&&(r>B?fe():Ut(!0))}))}function tl(){o.value===!1&&ee.value!==null&&ee.value.updatePosition()}function ll(r){r!==void 0&&Lt(r),s("popupShow",r),g.hasPopupOpen=!0,g.onControlFocusin(r)}function al(r){r!==void 0&&Lt(r),s("popupHide",r),g.hasPopupOpen=!1,g.onControlFocusout(r)}function ol(){L=m.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||be.value===!1:!0),I=m.platform.is.ios===!0&&L===!0&&e.useInput===!0?"fade":e.transitionShow}return Xa(ol),Za(tl),ol(),dt(()=>{D!==null&&clearTimeout(D),q!==null&&clearTimeout(q)}),Object.assign(t,{showPopup:st,hidePopup:Xe,removeAtIndex:Pt,add:Rt,toggleOption:Le,getOptionIndex:()=>f.value,setOptionIndex:xe,moveOptionSelection:Me,filter:ot,updateMenuPosition:tl,updateInputValue:yt,isOptionSelected:at,getEmittingOptionValue:Ot,isOptionDisabled:(...r)=>lt.value.apply(null,r)===!0,getOptionValue:(...r)=>We.value.apply(null,r),getOptionLabel:(...r)=>ze.value.apply(null,r)}),Object.assign(g,{innerValue:x,fieldClass:k(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:$,targetRef:X,hasValue:ae,showPopup:st,floatingLabel:k(()=>e.hideSelected!==!0&&ae.value===!0||typeof h.value=="number"||h.value.length!==0||Wl(e.displayValue)),getControlChild:()=>{if(g.editable.value!==!1&&(o.value===!0||be.value!==!0||l["no-option"]!==void 0))return L===!0?wl():el();g.hasPopupOpen===!0&&(g.hasPopupOpen=!1)},controlEvents:{onFocusin(r){g.onControlFocusin(r)},onFocusout(r){g.onControlFocusout(r,()=>{it(),nt()})},onClick(r){if(Yt(r),L!==!0&&u.value===!0){nt(),X.value!==null&&X.value.focus();return}st(r)}},getControl:r=>{const B=Ht(),z=r===!0||o.value!==!0||L!==!0;if(e.useInput===!0)B.push(hl(r,z));else if(g.editable.value===!0){const ce=z===!0?Ct.value:void 0;B.push(N("input",{ref:z===!0?X:void 0,key:"d_t",class:"q-select__focus-target",id:z===!0?g.targetUid.value:void 0,value:Se.value,readonly:!0,"data-autofocus":r===!0||e.autofocus===!0||void 0,...ce,onKeydown:Qt,onKeyup:vt,onKeypress:ht})),z===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&B.push(N("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:gt}))}if(qe.value!==void 0&&e.disable!==!0&&kt.value.length!==0){const ce=kt.value.map(ie=>N("option",{value:ie,selected:!0}));B.push(N("select",{class:"hidden",name:qe.value,multiple:e.multiple},ce))}const Z=e.useInput===!0||z!==!0?void 0:g.splitAttrs.attributes.value;return N("div",{class:"q-field__native row items-center",...Z,...g.splitAttrs.listeners.value},B)},getInnerAppend:()=>e.loading!==!0&&y.value!==!0&&e.hideDropdownIcon!==!0?[N(Q,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:mt.value})]:null}),ca(g)}}),Ge=Ee({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:l}){const s=k(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>N("div",{class:s.value,role:"toolbar"},et(l.default))}}),Po=["ul","ol"],Re=Ee({name:"QList",props:{...vl,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:l}){const s=$e(),t=gl(e,s.proxy.$q),m=k(()=>Po.includes(e.tag)?null:"list"),u=k(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(t.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>N(e.tag,{class:u.value,role:m.value},et(l.default))}}),Mo=Ee({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:l}){const s=k(()=>{const t=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(m=>e[m]===!0).map(m=>`q-btn-group--${m}`).join(" ");return`q-btn-group row no-wrap${t.length!==0?" "+t:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>N("div",{class:s.value},et(l.default))}}),To=Ee({name:"QBtnToggle",props:{...ma,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(l=>("label"in l||"icon"in l||"slot"in l)&&"value"in l)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:l,emit:s}){const t=k(()=>e.options.find(q=>q.value===e.modelValue)!==void 0),m=k(()=>({type:"hidden",name:e.name,value:e.modelValue})),u=lo(m),o=k(()=>to(e)),f=k(()=>({rounded:e.rounded,dense:e.dense,...o.value})),h=k(()=>e.options.map((q,p)=>{const{attrs:L,value:O,slot:T,...H}=q;return{slot:T,props:{key:p,"aria-pressed":O===e.modelValue?"true":"false",...L,...H,...f.value,disable:e.disable===!0||H.disable===!0,color:O===e.modelValue?y(H,"toggleColor"):y(H,"color"),textColor:O===e.modelValue?y(H,"toggleTextColor"):y(H,"textColor"),noCaps:y(H,"noCaps")===!0,noWrap:y(H,"noWrap")===!0,size:y(H,"size"),padding:y(H,"padding"),ripple:y(H,"ripple"),stack:y(H,"stack")===!0,stretch:y(H,"stretch")===!0,onClick(I){A(O,q,I)}}}}));function A(q,p,L){e.readonly!==!0&&(e.modelValue===q?e.clearable===!0&&(s("update:modelValue",null,null),s("clear")):s("update:modelValue",q,p),s("click",L))}function y(q,p){return q[p]===void 0?e[p]:q[p]}function D(){const q=h.value.map(p=>N(W,p.props,p.slot!==void 0?l[p.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&t.value===!0&&u(q,"push"),fa(l.default,q)}return()=>N(Mo,{class:"q-btn-toggle",...o.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},D)}}),Ao=Ee({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:l,emit:s}){let t=!1,m,u,o=null,f=null,h,A;function y(){m&&m(),m=null,t=!1,o!==null&&(clearTimeout(o),o=null),f!==null&&(clearTimeout(f),f=null),u!==void 0&&u.removeEventListener("transitionend",h),h=null}function D(O,T,H){T!==void 0&&(O.style.height=`${T}px`),O.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,t=!0,m=H}function q(O,T){O.style.overflowY=null,O.style.height=null,O.style.transition=null,y(),T!==A&&s(T)}function p(O,T){let H=0;u=O,t===!0?(y(),H=O.offsetHeight===O.scrollHeight?0:void 0):(A="hide",O.style.overflowY="hidden"),D(O,H,T),o=setTimeout(()=>{o=null,O.style.height=`${O.scrollHeight}px`,h=I=>{f=null,(Object(I)!==I||I.target===O)&&q(O,"show")},O.addEventListener("transitionend",h),f=setTimeout(h,e.duration*1.1)},100)}function L(O,T){let H;u=O,t===!0?y():(A="show",O.style.overflowY="hidden",H=O.scrollHeight),D(O,H,T),o=setTimeout(()=>{o=null,O.style.height=0,h=I=>{f=null,(Object(I)!==I||I.target===O)&&q(O,"hide")},O.addEventListener("transitionend",h),f=setTimeout(h,e.duration*1.1)},100)}return dt(()=>{t===!0&&y()}),()=>N(El,{css:!1,appear:e.appear,onEnter:p,onLeave:L},l.default)}}),Vo=Ee({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:l}){const{proxy:{$q:s}}=$e(),t=Bl(ao,Et);if(t===Et)return console.error("QPage needs to be a deep child of QLayout"),Et;if(Bl(oo,Et)===Et)return console.error("QPage needs to be child of QPageContainer"),Et;const u=k(()=>{const f=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof e.styleFn=="function"){const h=t.isContainer.value===!0?t.containerHeight.value:s.screen.height;return e.styleFn(f,h)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-f+"px":s.screen.height===0?f!==0?`calc(100vh - ${f}px)`:"100vh":s.screen.height-f+"px"}}),o=k(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>N("main",{class:o.value,style:u.value},et(l.default))}});function $l(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const l=parseInt(e,10);return isNaN(l)?0:l}const St=no({name:"close-popup",beforeMount(e,{value:l}){const s={depth:$l(l),handler(t){s.depth!==0&&setTimeout(()=>{const m=so(e);m!==void 0&&io(m,t,s.depth)})},handlerKey(t){fl(t,13)===!0&&s.handler(t)}};e.__qclosepopup=s,e.addEventListener("click",s.handler),e.addEventListener("keyup",s.handlerKey)},updated(e,{value:l,oldValue:s}){l!==s&&(e.__qclosepopup.depth=$l(l))},beforeUnmount(e){const l=e.__qclosepopup;e.removeEventListener("click",l.handler),e.removeEventListener("keyup",l.handlerKey),delete e.__qclosepopup}});function Bo(){return Bl(ro)}const zo=va({__name:"TeamArrangement",props:{team1:{},team2:{},createBalancedMatch:{type:Function}},emits:["update:team1","update:team2"],setup(e,{expose:l,emit:s}){l();const t=e,m=s,u=E(null),o=E(null),f=I=>I.reduce((V,K)=>V+K.level,0),h=()=>Math.abs(f(t.team1)-f(t.team2)),H={props:t,emit:m,selectedForSwap:u,selectedForSwapTeam:o,getTeamSkill:f,getSkillDifference:h,isBalanced:()=>h()<=1,getBalanceColor:()=>{const I=h();return I===0?"green":I===1?"light-green":I===2?"orange":"red"},getBalanceIcon:()=>{const I=h();return I===0?"verified":I===1?"check_circle":I===2?"warning":"error"},getBalanceText:()=>{const I=h();return I===0?"Perfect Balance":I===1?"Well Balanced":I===2?"Slightly Unbalanced":"Very Unbalanced"},getLevelColor:I=>{switch(I){case 1:return"green-6";case 2:return"orange-7";case 3:return"red-8";default:return"grey-5"}},balanceTeams:()=>{const I=[...t.team1,...t.team2],V=t.createBalancedMatch(I);m("update:team1",[V[0],V[1]]),m("update:team2",[V[2],V[3]])},shuffleTeams:()=>{const I=[...t.team1,...t.team2];for(let V=I.length-1;V>0;V--){const K=Math.floor(Math.random()*(V+1));[I[V],I[K]]=[I[K],I[V]]}m("update:team1",[I[0],I[1]]),m("update:team2",[I[2],I[3]])},selectPlayerForSwap:(I,V)=>{if(!u.value){u.value=I,o.value=V;return}if(u.value.name===I.name){u.value=null,o.value=null;return}const K=[...t.team1],$=[...t.team2],X=K.filter(oe=>oe.name!==u.value.name&&oe.name!==I.name),ee=$.filter(oe=>oe.name!==u.value.name&&oe.name!==I.name);o.value==="team1"?ee.push(u.value):X.push(u.value),V==="team1"?ee.push(I):X.push(I),m("update:team1",X),m("update:team2",ee),u.value=null,o.value=null}};return Object.defineProperty(H,"__isScriptSetup",{enumerable:!1,value:!0}),H}}),Lo={class:"team-arrangement"},Eo={class:"balance-indicator q-mb-lg"},Io={class:"row items-center justify-between"},Do={class:"row items-center q-gutter-sm"},Fo={class:"text-caption text-grey-7 q-mt-xs"},Oo={class:"row q-mb-lg q-gutter-sm"},Ro={class:"row q-col-gutter-lg"},Qo={class:"col-12 col-md-6"},Ho={class:"text-h6"},No={class:"text-caption text-grey-6 q-mb-sm text-center"},Wo={key:1,class:"text-center text-grey-6 q-pa-md empty-team-drop"},jo={class:"col-12 col-md-6"},Uo={class:"text-h6"},Ko={class:"text-caption text-grey-6 q-mb-sm text-center"},Go={key:1,class:"text-center text-grey-6 q-pa-md empty-team-drop"};function Jo(e,l,s,t,m,u){return S(),j("div",Lo,[v("div",Eo,[v("div",Io,[l[1]||(l[1]=v("div",{class:"text-subtitle1"},"Team Balance",-1)),v("div",Do,[a(re,{color:t.getBalanceColor(),"text-color":"white",icon:t.getBalanceIcon(),size:"md"},{default:n(()=>[C(P(t.getBalanceText()),1)]),_:1},8,["color","icon"]),t.isBalanced()?ve("",!0):(S(),G(Q,{key:0,name:"warning",color:"orange",size:"sm"},{default:n(()=>[a(ge,null,{default:n(()=>l[0]||(l[0]=[C("Teams are unbalanced. Consider using Balance Teams button.")])),_:1})]),_:1}))])]),v("div",Fo," Skill difference: "+P(t.getSkillDifference())+" point"+P(t.getSkillDifference()!==1?"s":"")+" (Team 1: "+P(t.getTeamSkill(s.team1))+" vs Team 2: "+P(t.getTeamSkill(s.team2))+") ",1)]),v("div",Oo,[a(W,{color:"accent",label:"Balance Teams",icon:"balance",onClick:t.balanceTeams,outline:""},{default:n(()=>[a(ge,null,{default:n(()=>l[2]||(l[2]=[C("Use smart algorithm to create balanced teams")])),_:1})]),_:1}),a(W,{color:"accent",label:"Shuffle",icon:"shuffle",onClick:t.shuffleTeams,outline:""},{default:n(()=>[a(ge,null,{default:n(()=>l[3]||(l[3]=[C("Randomly assign players to teams")])),_:1})]),_:1})]),v("div",Ro,[v("div",Qo,[a(Ae,{flat:"",bordered:""},{default:n(()=>[a(ne,{class:"bg-blue-6 text-white"},{default:n(()=>[v("div",Ho,[l[4]||(l[4]=C(" Team 1 ")),a(re,{label:`Skill: ${t.getTeamSkill(s.team1)}`,color:"white","text-color":"blue-6",size:"sm",class:"q-ml-sm"},null,8,["label"])])]),_:1}),a(ne,{class:"team-drop-area"},{default:n(()=>[v("div",No,[a(Q,{name:"touch_app",size:"xs"}),l[5]||(l[5]=C(" Click to select, click another to swap "))]),s.team1.length>0?(S(),G(Re,{key:0},{default:n(()=>[(S(!0),j(ke,null,Fe(s.team1,(o,f)=>(S(),G(Ce,{key:o.name,clickable:"",class:je(["team-player-item swappable-player",{"selected-for-swap":t.selectedForSwap?.name===o.name,"can-swap-with":t.selectedForSwap&&t.selectedForSwap.name!==o.name}]),onClick:h=>t.selectPlayerForSwap(o,"team1")},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(It,{color:t.getLevelColor(o.level),"text-color":"white",class:je({"swap-pulse":t.selectedForSwap?.name===o.name})},{default:n(()=>[C(P(f+1)+" ",1),a(ge,null,{default:n(()=>[C(P(o.name)+" - Level "+P(o.level)+" - Position "+P(f+1),1)]),_:2},1024)]),_:2},1032,["color","class"])]),_:2},1024),a(U,null,{default:n(()=>[a(he,{class:"text-weight-medium"},{default:n(()=>[C(P(o.name)+" ",1),t.selectedForSwap?.name===o.name?(S(),G(Q,{key:0,name:"check_circle",color:"green",size:"sm",class:"q-ml-xs swap-icon-pulse"})):ve("",!0)]),_:2},1024),a(he,{caption:""},{default:n(()=>[C("Level "+P(o.level),1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:n(()=>[a(Q,{name:"swap_horiz",color:"grey-5",size:"sm"})]),_:1})]),_:2},1032,["class","onClick"]))),128))]),_:1})):(S(),j("div",Wo,[a(Q,{name:"group_add",size:"lg",color:"grey-4"}),l[6]||(l[6]=v("p",{class:"q-mt-sm"},"Click to assign",-1))]))]),_:1})]),_:1})]),v("div",jo,[a(Ae,{flat:"",bordered:""},{default:n(()=>[a(ne,{class:"bg-orange-6 text-white"},{default:n(()=>[v("div",Uo,[l[7]||(l[7]=C(" Team 2 ")),a(re,{label:`Skill: ${t.getTeamSkill(s.team2)}`,color:"white","text-color":"orange-6",size:"sm",class:"q-ml-sm"},null,8,["label"])])]),_:1}),a(ne,{class:"team-drop-area"},{default:n(()=>[v("div",Ko,[a(Q,{name:"touch_app",size:"xs"}),l[8]||(l[8]=C(" Click to select, click another to swap "))]),s.team2.length>0?(S(),G(Re,{key:0},{default:n(()=>[(S(!0),j(ke,null,Fe(s.team2,(o,f)=>(S(),G(Ce,{key:o.name,clickable:"",class:je(["team-player-item swappable-player",{"selected-for-swap":t.selectedForSwap?.name===o.name,"can-swap-with":t.selectedForSwap&&t.selectedForSwap.name!==o.name}]),onClick:h=>t.selectPlayerForSwap(o,"team2")},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(It,{color:t.getLevelColor(o.level),"text-color":"white",class:je({"swap-pulse":t.selectedForSwap?.name===o.name})},{default:n(()=>[C(P(f+1)+" ",1),a(ge,null,{default:n(()=>[C(P(o.name)+" - Level "+P(o.level)+" - Position "+P(f+1),1)]),_:2},1024)]),_:2},1032,["color","class"])]),_:2},1024),a(U,null,{default:n(()=>[a(he,{class:"text-weight-medium"},{default:n(()=>[C(P(o.name)+" ",1),t.selectedForSwap?.name===o.name?(S(),G(Q,{key:0,name:"check_circle",color:"green",size:"sm",class:"q-ml-xs swap-icon-pulse"})):ve("",!0)]),_:2},1024),a(he,{caption:""},{default:n(()=>[C("Level "+P(o.level),1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:n(()=>[a(Q,{name:"swap_horiz",color:"grey-5",size:"sm"})]),_:1})]),_:2},1032,["class","onClick"]))),128))]),_:1})):(S(),j("div",Go,[a(Q,{name:"group_add",size:"lg",color:"grey-4"}),l[9]||(l[9]=v("p",{class:"q-mt-sm"},"Click to assign",-1))]))]),_:1})]),_:1})])])])}const Yo=ga(zo,[["render",Jo],["__scopeId","data-v-98afa0fc"],["__file","TeamArrangement.vue"]]),Xo=va({__name:"IndexPage",setup(e,{expose:l}){l();const s=Bo(),t=E(Pt()),m=E(Xt()),u=E(Rt()),o=E(null),f=E(null),h=E(!1),A=E(""),y=E([]),D=E(2),q=E(Mt().availableCourts),p=E(Mt().autoAssignCourts),L=E(Mt().autoAdvanceMatches),O=E(8),T=()=>typeof q.value=="object"&&q.value!==null?q.value.value:q.value||2,H=E(!1),I=E(!1),V=E(!1),K=E(!1),$=E(!1),X=E(!1),ee=E(null),oe=E(null),ue=E(-1),qe=E(-1),Be=E(!1),de=E(1),te=E([]),pe=E([]),me=E([]),fe=E(null),Qe=E(!1),Ie=E(null),Ve=E(null),Pe=E(gt().sortBy),g=E(gt().matchesFilterBy),x=E(gt().matchType),F=E(Tt().queueReturnMethod),le=E(Tt().autoSortQueue),ae=E(-1),Y=[{label:"Beginner",value:1,description:"New to the game"},{label:"Intermediate",value:2,description:"Some experience"},{label:"Advanced",value:3,description:"Experienced player"}],J=[{label:"Singles (1v1)",value:"singles"},{label:"Doubles (2v2)",value:"doubles"}],be=[{label:"Games played",value:"gamesPlayed"},{label:"Wins",value:"wins"},{label:"Losses",value:"losses"},{label:"Name",value:"name"}],M=k(()=>{const i=[{label:"All",value:"all"}],c=typeof q.value=="number"?q.value:q.value.value;for(let d=1;d<=c;d++)i.push({label:`Court ${d}`,value:d});return i}),Se=[{label:"Fairness First (Recommended)",value:"fairness_first",description:"Players return to front, maintaining fairness"},{label:"End of Queue",value:"end_of_queue",description:"Players added to end of queue"},{label:"Smart Position",value:"smart_position",description:"Calculate position based on games played"}],He=k(()=>Array.from({length:O.value},(i,c)=>({label:`${c+1} Court${c>0?"s":""}`,value:c+1}))),tt=k(()=>{const i=Math.max(T(),2);return Array.from({length:i},(c,d)=>({value:d+1,label:`Court ${d+1}`}))}),Ne=k(()=>{const i=m.value.length,c=m.value.filter(w=>w.level===1).length,d=m.value.filter(w=>w.level===2).length,b=m.value.filter(w=>w.level===3).length;return{total:i,level1:c,level2:d,level3:b}}),Ct=k(()=>[...t.value].sort((i,c)=>{if(Pe.value==="gamesPlayed"){if(i.gamesPlayed!==c.gamesPlayed)return c.gamesPlayed-i.gamesPlayed}else if(Pe.value==="wins"){if(i.wins!==c.wins)return c.wins-i.wins}else if(Pe.value==="losses"){if(i.losses!==c.losses)return c.losses-i.losses}else if(Pe.value==="name")return i.name.localeCompare(c.name);return i.name.localeCompare(c.name)})),De=k(()=>g.value==="all"?u.value:u.value.filter(i=>i.court===g.value)),Ye=k(()=>ue.value>=0&&ue.value<u.value.length?u.value[ue.value].players:[]),_t=i=>{switch(i){case 1:return"green-6";case 2:return"orange-7";case 3:return"red-8";default:return"grey-5"}},mt=i=>{switch(i){case 1:return"star_border";case 2:return"star_half";case 3:return"star";default:return"star_outline"}},Ft=()=>{const i=m.value.length,c=x.value==="singles"?2:4;return i>=c},ft=()=>{const i=m.value.length,c=x.value==="singles"?2:4;if(i<c)return`Need ${c-i} more player${c-i>1?"s":""} to generate ${x.value} matches`;const d=Math.floor(i/c),b=i%c;return b===0?`Can generate ${d} ${x.value} match${d>1?"es":""}`:x.value==="singles"?`Can generate ${d} singles match${d>1?"es":""} (1 player will wait)`:b===1?`Can generate ${d} match${d>1?"es":""} (1 player will wait)`:b===2?`Can generate ${d} match${d>1?"es":""} (2 players will wait)`:`Can generate ${d} match${d>1?"es":""} (3 players will wait)`},We=()=>{const i=m.value.length,c=x.value==="singles"?2:4,d=i%c;if(d===0)return"";if(x.value==="singles")return"1 player waiting - Practice serves or warm up";const b={1:"Practice serves or warm up",2:"Practice doubles positioning",3:"Practice singles or wait for 1 more player"};return`${d} player${d>1?"s":""} waiting - ${b[d]}`},ze=i=>{switch(i){case"waiting":return"grey-6";case"in-progress":return"green-6";case"completed":return"blue-6";default:return"grey-6"}},lt=i=>{switch(i){case"waiting":return"Waiting";case"in-progress":return"In Progress";case"completed":return"Completed";default:return"Unknown"}},kt=i=>{if(i.priority==="returned")return"Recently returned";if(i.originalQueueTime){const d=new Date().getTime()-new Date(i.originalQueueTime).getTime(),b=Math.floor(d/6e4);return b<1?"Just joined":b<60?`${b}m ago`:`${Math.floor(b/60)}h ago`}return"In queue"},qt=()=>{le.value&&(m.value.sort((i,c)=>i.gamesPlayed-c.gamesPlayed),xe(m.value))},Ot=i=>{const c=[...m.value].sort((b,w)=>b.gamesPlayed-w.gamesPlayed),d=i.gamesPlayed;for(let b=0;b<c.length;b++)if(c[b].gamesPlayed>d)return b;return m.value.length};function Pt(){const i=localStorage.getItem("playerList");return(i?JSON.parse(i):[]).map(d=>({...d,wins:d.wins||0,losses:d.losses||0}))}function Xt(){const i=localStorage.getItem("playerQueue");return(i?JSON.parse(i):[]).map(d=>({...d,wins:d.wins||0,losses:d.losses||0}))}function Rt(){const i=localStorage.getItem("matches"),c=i?JSON.parse(i):[];return c.length>0&&Array.isArray(c[0])&&!("id"in c[0])?c.map((d,b)=>({id:`match-${Date.now()}-${b}`,players:d.map(w=>({...w,wins:w.wins||0,losses:w.losses||0})),status:"waiting",order:b+1,createdAt:new Date})):c.map(d=>({...d,status:d.status||"waiting",order:d.order||1,createdAt:d.createdAt?new Date(d.createdAt):new Date}))}function Le(i){localStorage.setItem("playerList",JSON.stringify(i))}function xe(i){localStorage.setItem("playerQueue",JSON.stringify(i))}function Me(i){localStorage.setItem("matches",JSON.stringify(i))}function Mt(){const i=localStorage.getItem("courtSettings");if(i){const c=JSON.parse(i);return{availableCourts:c.availableCourts||2,autoAssignCourts:c.autoAssignCourts!==void 0?c.autoAssignCourts:!0,autoAdvanceMatches:c.autoAdvanceMatches!==void 0?c.autoAdvanceMatches:!0}}return{availableCourts:2,autoAssignCourts:!0,autoAdvanceMatches:!0}}function at(){localStorage.setItem("courtSettings",JSON.stringify({availableCourts:q.value,autoAssignCourts:p.value,autoAdvanceMatches:L.value}))}function Tt(){const i=localStorage.getItem("queueSettings");if(i){const c=JSON.parse(i);return{queueReturnMethod:c.queueReturnMethod||"fairness_first",autoSortQueue:c.autoSortQueue!==void 0?c.autoSortQueue:!0}}return{queueReturnMethod:"fairness_first",autoSortQueue:!0}}function vt(){localStorage.setItem("queueSettings",JSON.stringify({queueReturnMethod:F.value,autoSortQueue:le.value}))}function gt(){const i=localStorage.getItem("uiSettings");if(i){const c=JSON.parse(i);return{sortBy:c.sortBy||"gamesPlayed",matchType:c.matchType||"doubles",matchesFilterBy:c.matchesFilterBy||"all"}}return{sortBy:"gamesPlayed",matchType:"doubles",matchesFilterBy:"all"}}function ht(){localStorage.setItem("uiSettings",JSON.stringify({sortBy:Pe.value,matchType:x.value,matchesFilterBy:g.value}))}we(q,()=>{at()}),we(p,()=>{at()}),we(L,()=>{at()}),we(F,()=>{vt()}),we(le,()=>{vt()}),we(Pe,()=>{ht()}),we(x,()=>{ht()}),we(g,()=>{ht()});const Qt=()=>{const i=[],c=[...m.value].sort((_,R)=>_.gamesPlayed-R.gamesPlayed),d=x.value==="singles"?2:4,b=Math.floor(c.length/d);for(let _=0;_<b;_++){const R=c.splice(0,d);let Te;x.value==="singles"?Te=R:Te=Ht(R);const se={id:`match-${Date.now()}-${_}`,players:Te,status:"waiting",order:u.value.length+_+1,createdAt:new Date,court:void 0,startedAt:void 0};i.push(se)}p.value&&i.length>0&&Zt(i);const w=i.flatMap(_=>_.players.map(R=>R.name));return m.value=m.value.filter(_=>!w.includes(_.name)),i},At=()=>{const i=T(),c=new Map;for(let w=1;w<=i;w++)c.set(w,{inProgress:0,waiting:0,total:0});u.value.forEach(w=>{if(w.court){const _=c.get(w.court)||{inProgress:0,waiting:0,total:0};w.status==="in-progress"?_.inProgress++:w.status==="waiting"&&_.waiting++,_.total++,c.set(w.court,_)}});let d=1,b=1/0;for(let w=1;w<=i;w++){const _=c.get(w)||{inProgress:0,waiting:0,total:0};let R=_.total*1e3;_.inProgress>0&&(R+=1e4),R+=_.waiting*100,R<b&&(b=R,d=w)}return d},Zt=i=>{const c=T(),d=new Map;for(let w=1;w<=c;w++)d.set(w,{inProgress:0,waiting:0,total:0});u.value.forEach(w=>{if(w.court){const _=d.get(w.court)||{inProgress:0,waiting:0,total:0};w.status==="in-progress"?_.inProgress++:w.status==="waiting"&&_.waiting++,_.total++,d.set(w.court,_)}});const b=new Set;u.value.forEach(w=>{w.court&&w.status==="in-progress"&&b.add(w.court)});for(let w=0;w<i.length;w++){const _=i[w];let R=1,Te=1/0;for(let Bt=1;Bt<=c;Bt++){const zt=d.get(Bt)||{inProgress:0,waiting:0,total:0};let pt=zt.total*1e3;zt.inProgress>0&&(pt+=1e4),pt+=zt.waiting*100,pt<Te&&(Te=pt,R=Bt)}_.court=R;const se=d.get(R)||{inProgress:0,waiting:0,total:0};se.total++,d.set(R,se),!b.has(R)?(_.status="in-progress",_.startedAt=new Date,b.add(R),se.inProgress++):(_.status="waiting",se.waiting++),d.set(R,se)}},Ht=i=>{const c=[...i].sort((se,rt)=>se.level-rt.level),b=Nt(c).map(se=>{const rt=se.team1,Bt=se.team2,zt=rt.reduce((_l,kl)=>_l+kl.level,0),pt=Bt.reduce((_l,kl)=>_l+kl.level,0),qa=Math.abs(zt-pt);return{...se,difference:qa,team1Skill:zt,team2Skill:pt}});b.sort((se,rt)=>se.difference-rt.difference);const w=b[0].difference,_=b.filter(se=>se.difference<=w+1),R=Math.floor(Math.random()*_.length),Te=_[R];return[...Te.team1,...Te.team2]},Nt=i=>{const c=[],d=[0,1,2,3],b=[[0,1],[0,2],[0,3],[1,2],[1,3],[2,3]];for(const w of b){const _=d.filter(se=>!w.includes(se)),R=w.map(se=>i[se]),Te=_.map(se=>i[se]);c.push({team1:R,team2:Te})}return c},hl=()=>{if(!o.value?.trim()){s.notify({type:"negative",message:"Please enter a player name",position:"top"});return}if(f.value===null){s.notify({type:"negative",message:"Please select a player level",position:"top"});return}const i=o.value.trim();if(t.value.some(d=>d.name.toLowerCase()===i.toLowerCase())){s.notify({type:"negative",message:`Player "${i}" already exists`,position:"top"});return}const c={name:i,level:f.value,gamesPlayed:0,wins:0,losses:0};t.value.push(c),m.value.push(c),Le(t.value),xe(m.value),s.notify({type:"positive",message:`Player "${i}" added successfully`,position:"top"}),o.value=null,f.value=null,H.value=!1},$t=()=>{if(!A.value?.trim()){y.value=[];return}const i=A.value.trim();let c=[];i.includes(`
`)?c=i.split(`
`).map(d=>d.trim()).filter(d=>d.length>0):i.includes(",")?c=i.split(",").map(d=>d.trim()).filter(d=>d.length>0):i.includes(";")?c=i.split(";").map(d=>d.trim()).filter(d=>d.length>0):c=[i],y.value=c.map(d=>({name:d.trim(),level:D.value,original:d.trim()}))},Vt=()=>{y.value.forEach(i=>{i.level=D.value})},yt=()=>{if(y.value.length===0){s.notify({type:"negative",message:"No players to import",position:"top"});return}const i=[],c=[],d=[];for(const b of y.value){const w=b.name.trim();if(!w){d.push(b.original);continue}if(t.value.some(R=>R.name.toLowerCase()===w.toLowerCase())){c.push(w);continue}const _={name:w,level:b.level,gamesPlayed:0,wins:0,losses:0};i.push(_)}i.length>0&&(t.value.push(...i),m.value.push(...i),Le(t.value),xe(m.value),s.notify({type:"positive",message:`Successfully imported ${i.length} player${i.length>1?"s":""}`,position:"top"})),c.length>0&&s.notify({type:"warning",message:`Skipped ${c.length} duplicate player${c.length>1?"s":""}: ${c.join(", ")}`,position:"top",timeout:5e3}),d.length>0&&s.notify({type:"warning",message:`Skipped ${d.length} invalid name${d.length>1?"s":""}: ${d.join(", ")}`,position:"top",timeout:5e3}),h.value=!1,A.value="",y.value=[],D.value=2,H.value=!1},ot=()=>{const i=Math.floor(m.value.length/(x.value==="singles"?2:4));s.dialog({title:"Confirm Match Generation",message:`Generate ${i} ${x.value} match${i>1?"es":""} from the queue?`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Generate",color:"accent",icon:"auto_awesome"}}).onOk(()=>{el()})},el=()=>{const i=Qt();if(u.value=[...u.value,...i],xe(m.value),Me(u.value),i.length>0){const c=m.value.length;let d=`Generated ${i.length} new match(es)`;c>0&&(d+=`. ${c} player${c>1?"s":""} waiting for more players`,c===1?d+=" (suggest: practice serves or warm up)":c===2?d+=" (suggest: practice doubles positioning)":c===3&&(d+=" (suggest: practice singles or wait for 1 more player)")),s.notify({type:"positive",message:d,position:"top",timeout:5e3})}else s.notify({type:"warning",message:"Not enough players in queue to generate matches",position:"top"})},yl=i=>{const c=De.value[i],d=u.value.findIndex(b=>b.id===c.id);ue.value=d,oe.value=null,V.value=!0},pl=()=>{if(oe.value===null||ue.value===-1)return;const i=oe.value==="team1"?"Team 1":"Team 2";s.dialog({title:"Complete Match",message:`Confirm ${i} as the winner? This will update player stats and remove the match.`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Complete",color:"accent",icon:"check"}}).onOk(()=>{const c=u.value[ue.value],d=c.court;c.players.forEach(b=>{const w=t.value.find(_=>_.name===b.name);if(w){w.gamesPlayed++;const _=c.players.findIndex(rt=>rt.name===b.name),Te=c.players.length===2?_===0:_<2;oe.value==="team1"&&Te||oe.value==="team2"&&!Te?w.wins++:w.losses++}}),u.value.splice(ue.value,1),Wt(d),Me(u.value),Le(t.value),V.value=!1,oe.value=null,ue.value=-1,s.notify({type:"positive",message:"Match completed! Stats updated.",position:"top"})})},Wt=i=>{if(!L.value)return;const c=u.value.find(d=>d.status==="waiting"&&d.court===i);c&&(c.status="in-progress",c.startedAt=new Date,Me(u.value),s.notify({type:"info",message:`Next match started on Court ${i}`,position:"top",timeout:3e3}))},bl=i=>{s.dialog({title:"Confirm Removal",message:`Are you sure you want to remove "${i}" from all lists?`,cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Remove",color:"negative",icon:"delete"},persistent:!0}).onOk(()=>{t.value=t.value.filter(c=>c.name!==i),m.value=m.value.filter(c=>c.name!==i),Le(t.value),xe(m.value),s.notify({type:"positive",message:`Player "${i}" removed successfully`,position:"top"})})},wl=i=>{s.dialog({title:"Remove from Queue",message:`Remove "${i}" from the queue?`,cancel:{label:"Cancel",color:"grey",flat:!0},persistent:!1,ok:{label:"Remove",color:"negative",icon:"remove_circle"}}).onOk(()=>{m.value=m.value.filter(c=>c.name!==i),xe(m.value),s.notify({type:"info",message:`Player "${i}" removed from queue`,position:"top"})})},Sl=()=>{s.dialog({title:"Confirm Reset",message:"Are you sure you want to reset all player stats and clear all matches? This will reset games played, wins, and losses to zero and remove all current matches.",cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Reset Stats & Matches",color:"negative",icon:"refresh"},persistent:!0}).onOk(()=>{t.value.forEach(i=>{i.gamesPlayed=0,i.wins=0,i.losses=0}),u.value=[],Le(t.value),Me(u.value),s.notify({type:"positive",message:"Player stats reset and all matches cleared",position:"top"})})},xl=i=>{const c=t.value.find(d=>d.name===i);if(c){if(m.value.some(b=>b.name===i)){s.notify({type:"warning",message:`Player "${i}" is already in the queue`,position:"top"});return}const d={...c,originalQueueTime:new Date,priority:"normal"};m.value.push(d),qt(),s.notify({type:"positive",message:`Player "${i}" added to queue`,position:"top"})}},jt=(i,c,d)=>{const b=new Date,w=i.map(_=>({..._,originalQueueTime:b,priority:d==="cancelled"?"high":"returned"}));switch(c){case"fairness_first":m.value.unshift(...w);break;case"end_of_queue":m.value.push(...w);break;case"smart_position":w.forEach(_=>{const R=Ot(_);m.value.splice(R,0,_)});break}qt(),xe(m.value),s.notify({type:"positive",message:`${i.length} player(s) returned to queue using ${c} method`,position:"top"})},nt=()=>{s.dialog({title:"Confirm Reset All",message:"This will clear all players, queue, and matches. Are you sure?",cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Reset All",color:"negative",icon:"delete_forever"},persistent:!0}).onOk(()=>{t.value=[],m.value=[],u.value=[],Le(t.value),xe(m.value),Me(u.value),s.notify({type:"positive",message:"All data has been reset",position:"top"})})},st=()=>{te.value=[],pe.value=[],me.value=[],de.value=1,Be.value=!0},Xe=()=>{te.value=[],pe.value=[],me.value=[],de.value=1,Ie.value=null,Ve.value=null,fe.value=null,Qe.value=!1,Be.value=!1},it=i=>{const c=te.value.findIndex(b=>b.name===i.name),d=x.value==="singles"?2:4;c>=0?te.value.splice(c,1):te.value.length<d?te.value.push(i):s.notify({type:"warning",message:`You can only select ${d} players`,position:"top"})},Ut=i=>te.value.some(c=>c.name===i.name),Cl=()=>{const i=te.value.length;if(i<2){s.notify({type:"warning",message:"Please select at least 2 players",position:"top"});return}if(i>4){s.notify({type:"warning",message:"Maximum 4 players allowed for tennis matches",position:"top"});return}if(i===4){const c=Ht([...te.value]);pe.value=[c[0],c[1]],me.value=[c[2],c[3]]}else pe.value=[],me.value=[];de.value=2},tl=()=>{if(te.value.length!==2){s.notify({type:"warning",message:"Please select exactly 2 players",position:"top"});return}de.value=3},ll=()=>{if(pe.value.length!==2||me.value.length!==2){s.notify({type:"warning",message:"Please arrange both teams properly",position:"top"});return}de.value=3},al=()=>{fe.value=null},ol=()=>{Qe.value=!Qe.value},r=i=>u.value.filter(c=>c.court===i).length,B=()=>{const i=new Map,c=T();for(let _=1;_<=c;_++)i.set(_,0);u.value.forEach(_=>{if(_.court){const R=i.get(_.court)||0;i.set(_.court,R+1)}});let d=1,b=i.get(1)||0;for(let _=1;_<=c;_++){const R=i.get(_)||0;R<b&&(b=R,d=_)}const w=i.get(d)||0;return`Will assign Court ${d} (least busy court, ${w} matches)`},z=i=>{fe.value=i},Z=()=>{let i;x.value==="doubles"?i=[...pe.value,...me.value]:i=[...te.value];const c=fe.value||(p.value?At():void 0),d=!c||!u.value.some(_=>_.court===c&&_.status==="in-progress"),b={id:`match-${Date.now()}`,players:i,status:d?"in-progress":"waiting",order:u.value.length+1,createdAt:new Date,court:c,startedAt:d?new Date:void 0};u.value.push(b);const w=b.players.map(_=>_.name);m.value=m.value.filter(_=>!w.includes(_.name)),Me(u.value),xe(m.value),Be.value=!1,te.value=[],pe.value=[],me.value=[],fe.value=null,de.value=1,s.notify({type:"positive",message:`Manual match created successfully${b.court?` on Court ${b.court}`:""}!`,position:"top"})},ce=i=>{const c=De.value[i],d=u.value.findIndex(b=>b.id===c.id);s.dialog({title:"Cancel Match",message:"Are you sure you want to cancel this match? All players will return to the queue.",cancel:{label:"Keep Match",color:"grey",flat:!0},ok:{label:"Cancel Match",color:"negative",icon:"cancel"},persistent:!0}).onOk(()=>{const b=u.value[d],w=b.players;s.dialog({title:"Return Players to Queue",message:`How should ${w.length} player(s) be returned to the queue?`,options:{type:"radio",model:F.value,items:Se},cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Return to Queue",color:"accent",icon:"queue"}}).onOk(_=>{_&&_!==F.value&&(F.value=_,vt()),jt(w,_||F.value,"cancelled");const R=b.court;u.value.splice(d,1),Wt(R),Me(u.value),xe(m.value),s.notify({type:"positive",message:"Match cancelled and players returned to queue",position:"top"})})})},ie=i=>{const c=De.value[i],d=u.value.findIndex(b=>b.id===c.id);qe.value=d,X.value=!0},_e=()=>{const i=qe.value,c=u.value[i],d=At();if(d>0){c.court=d,Me(u.value);const b=u.value.filter(w=>w.court===d).length;s.notify({type:"positive",message:`Assigned to Court ${d} (${b} total matches)`,position:"top"})}else s.notify({type:"negative",message:"No available courts",position:"top"});X.value=!1},ye=i=>!u.value.some(c=>c.court===i&&c.status==="in-progress"),Kt=i=>{const c=De.value[i],d=u.value.findIndex(w=>w.id===c.id),b=u.value[d];if(b.status!=="waiting"||!b.court){s.notify({type:"negative",message:"Cannot start this match",position:"top"});return}if(!ye(b.court)){s.notify({type:"negative",message:`Court ${b.court} is currently in use`,position:"top"});return}b.status="in-progress",b.startedAt=new Date,Me(u.value),s.notify({type:"positive",message:`Match started on Court ${b.court}`,position:"top"})},Ca=i=>{const c=qe.value,d=u.value[c],b=d.court,w=u.value.find(_=>_.court===i&&_.status==="in-progress");w?s.dialog({title:"Court Swap Required",message:`Court ${i} already has a match in progress. Do you want to swap the matches?`,cancel:{label:"Cancel",color:"grey",flat:!0},ok:{label:"Swap Matches",color:"accent",icon:"swap_horiz"},persistent:!0}).onOk(()=>{w.court=b,w.status="waiting",w.startedAt=void 0,d.court=i,d.status="in-progress",d.startedAt=new Date,Me(u.value),s.notify({type:"positive",message:`Matches swapped! Match moved to Court ${i}`,position:"top"}),X.value=!1}):(d.court=i,!u.value.some(R=>R.court===i&&R.status==="in-progress")&&(d.status="in-progress",d.startedAt=new Date),Me(u.value),s.notify({type:"positive",message:`Assigned to Court ${i}`,position:"top"}),X.value=!1)},_a=i=>{const c=De.value[i],d=u.value.findIndex(_=>_.id===c.id);ae.value=d,K.value=!0,de.value=1,te.value=[...u.value[d].players];const b=u.value[d];b.players.length===4?(pe.value=[b.players[0],b.players[1]],me.value=[b.players[2],b.players[3]]):(pe.value=[],me.value=[])},ka=()=>{const i=u.value[ae.value];let c;Rl.value==="doubles"&&te.value.length===4&&pe.value.length===2&&me.value.length===2?c=[...pe.value,...me.value]:c=[...te.value],u.value[ae.value].players=c;const d=Fl(i.players,c);Me(u.value),xe(m.value),K.value=!1,te.value=[],pe.value=[],me.value=[],de.value=1,Ie.value=null,Ve.value=null;let b="Match updated successfully!";if(d.removed.length>0||d.added.length>0){const w=[];d.removed.length>0&&w.push(`${d.removed.length} player(s) returned to queue`),d.added.length>0&&w.push(`${d.added.length} player(s) removed from queue`),b+=` (${w.join(", ")})`}s.notify({type:"positive",message:b,position:"top",timeout:4e3})},Fl=(i,c)=>{const d=i.map(R=>R.name),b=c.map(R=>R.name),w=i.filter(R=>!b.includes(R.name)),_=c.filter(R=>!d.includes(R.name));return console.log("Queue Update Analysis:",{original:d,updated:b,removed:w.map(R=>R.name),added:_.map(R=>R.name)}),_.forEach(R=>{const Te=m.value.findIndex(se=>se.name===R.name);Te>=0&&(m.value.splice(Te,1),console.log(`Removed ${R.name} from queue (now in match)`))}),w.forEach(R=>{if(m.value.some(se=>se.name===R.name))console.log(`${R.name} is already in queue, skipping`);else{const se={...R,priority:"returned",originalQueueTime:new Date,lastMatchTime:new Date};console.log(`Adding ${R.name} back to queue with priority: returned`),jt([se],F.value,"edited")}}),le.value&&qt(),xe(m.value),{removed:w,added:_}},Ol=k(()=>{const i=te.value.map(c=>c.name);return m.value.filter(c=>!i.includes(c.name))}),Rl=k(()=>te.value.length===4?"doubles":"singles"),Ql={$q:s,players:t,queue:m,matches:u,newPlayerName:o,newPlayerLevel:f,bulkImportMode:h,bulkPlayerText:A,bulkPlayers:y,bulkDefaultLevel:D,availableCourts:q,autoAssignCourts:p,autoAdvanceMatches:L,maxCourts:O,getCourtCount:T,showAddPlayerDialog:H,showSettingsDialog:I,showMatchResultDialog:V,showMatchEditDialog:K,showReplacePlayerDialog:$,showCourtSelectionDialog:X,playerToReplaceInEdit:ee,selectedWinner:oe,currentMatchIndex:ue,currentMatchForCourtAssignment:qe,showManualSelectionDialog:Be,manualSelectionStep:de,selectedPlayers:te,manualTeam1:pe,manualTeam2:me,selectedCourt:fe,showManualSelection:Qe,selectedForSwap:Ie,selectedForSwapTeam:Ve,sortBy:Pe,matchesFilterBy:g,matchType:x,queueReturnMethod:F,autoSortQueue:le,currentMatchIndexForActions:ae,levelOptions:Y,matchTypeOptions:J,sortOptions:be,matchesFilterOptions:M,queueReturnOptions:Se,courtOptions:He,courtSelectionOptions:tt,queueStats:Ne,sortedPlayers:Ct,filteredMatches:De,currentMatch:Ye,getLevelColor:_t,getLevelIcon:mt,canGenerateMatches:Ft,getMatchGenerationHint:ft,getWaitingPlayersInfo:We,getMatchStatusColor:ze,getMatchStatusLabel:lt,getQueueTimeInfo:kt,sortQueueByFairness:qt,calculateSmartPosition:Ot,getPlayersFromStorage:Pt,getQueueFromStorage:Xt,getMatchesFromStorage:Rt,savePlayersToStorage:Le,saveQueueToStorage:xe,saveMatchesToStorage:Me,getCourtSettingsFromStorage:Mt,saveCourtSettingsToStorage:at,getQueueSettingsFromStorage:Tt,saveQueueSettingsToStorage:vt,getUISettingsFromStorage:gt,saveUISettingsToStorage:ht,generateMatches:Qt,assignCourt:At,assignCourtsToMatches:Zt,createBalancedMatch:Ht,generateTeamCombinations:Nt,addNewPlayer:hl,parseBulkPlayers:$t,updateAllBulkLevels:Vt,addBulkPlayers:yt,generateNewMatches:ot,executeMatchGeneration:el,openMatchResultDialog:yl,completeMatch:pl,autoAdvanceNextMatchForCourt:Wt,removePlayer:bl,removeFromQueue:wl,resetGamesPlayed:Sl,requeuePlayer:xl,executeQueueReturn:jt,resetAllData:nt,startManualSelection:st,cancelManualSelection:Xe,togglePlayerSelection:it,isPlayerSelected:Ut,proceedToTeamArrangement:Cl,proceedToCourtSelection:tl,proceedToCourtSelectionFromTeams:ll,selectAutoCourt:al,toggleManualSelection:ol,getCourtMatchCount:r,getAutoAssignDescription:B,selectSpecificCourt:z,createManualMatchWithCourt:Z,cancelMatch:ce,openCourtSelectionDialog:ie,assignCourtAutomatically:_e,isCourtAvailable:ye,startMatch:Kt,assignSpecificCourt:Ca,editMatch:_a,saveMatchEdit:ka,updateQueueAfterEdit:Fl,availableQueuePlayers:Ol,currentMatchType:Rl,removePlayerFromEdit:i=>{const c=te.value.findIndex(d=>d.name===i.name);c>=0&&(te.value.splice(c,1),s.notify({type:"info",message:`Removed ${i.name} from match`,position:"top",timeout:2e3}))},addPlayerToEdit:i=>{te.value.length<4&&(te.value.push(i),s.notify({type:"positive",message:`Added ${i.name} to match`,position:"top",timeout:2e3}))},replacePlayerInEdit:i=>{if(Ol.value.length===0){s.notify({type:"warning",message:"No players available in queue to replace with",position:"top"});return}ee.value=i,$.value=!0},selectReplacementPlayer:i=>{if(!ee.value)return;const c=te.value.findIndex(d=>d.name===ee.value.name);c>=0&&(te.value[c]=i,s.notify({type:"positive",message:`Replaced ${ee.value.name} with ${i.name}`,position:"top"})),$.value=!1,ee.value=null},TeamArrangement:Yo};return Object.defineProperty(Ql,"__isScriptSetup",{enumerable:!1,value:!0}),Ql}}),Zo={class:"header-section"},$o={class:"container"},en={class:"row items-center justify-between"},tn={class:"col-auto"},ln={class:"container q-pa-md"},an={class:"row q-col-gutter-lg"},on={class:"col-12 col-md-4"},nn={class:"card-content"},sn={class:"q-ml-sm text-grey-7"},rn={class:"q-ml-sm text-positive"},un={class:"q-ml-sm text-negative"},cn={class:"row items-center q-gutter-xs"},dn={key:1,class:"empty-state"},mn={class:"col-12 col-md-4"},fn={class:"queue-stats"},vn={class:"card-content"},gn={class:"q-ml-sm"},hn={class:"q-ml-sm text-grey-6"},yn={key:1,class:"empty-state"},pn={class:"q-mb-md"},bn={class:"row q-gutter-sm"},wn={class:"text-caption text-grey-6 q-mt-sm text-center"},Sn={key:0,class:"q-mt-md"},xn={class:"text-caption text-orange q-mt-sm"},Cn={class:"col-12 col-md-4"},_n={class:"card-content"},kn={class:"row items-center q-pa-sm"},qn={class:"col-auto q-mr-md"},Pn={class:"col"},Mn={key:0,class:"row items-center justify-center"},Tn={class:"col text-center"},An={class:"column items-center q-mb-xs"},Vn={class:"text-weight-medium text-center"},Bn={class:"col-auto"},zn={class:"col text-center"},Ln={class:"column items-center q-mb-xs"},En={class:"text-weight-medium text-center"},In={key:1,class:"row items-center justify-center"},Dn={class:"col text-center"},Fn={class:"text-weight-medium text-center"},On={class:"col-auto"},Rn={class:"col text-center"},Qn={class:"text-weight-medium text-center"},Hn={class:"col-auto q-ml-md"},Nn={key:1,class:"empty-state"},Wn={class:"q-mb-md q-pb-lg"},jn={key:0,class:"q-gutter-y-md"},Un={key:1,class:"q-gutter-y-md"},Kn={key:0},Gn={key:1},Jn={class:"text-subtitle2 q-mb-sm"},Yn={class:"q-gutter-y-md"},Xn={key:0,class:"row q-col-gutter-md"},Zn={class:"col-6"},$n={class:"text-caption q-mt-sm"},es={class:"col-6"},ts={class:"text-caption q-mt-sm"},ls={key:1,class:"row q-col-gutter-md"},as={class:"col-6"},os={class:"col-6"},ns={class:"q-gutter-y-md"},ss={class:"manual-selection-container"},is={key:0,class:"selection-step"},rs={class:"text-h6 q-mb-md"},us={class:"text-caption text-grey-7 q-mb-md"},cs={class:"q-ml-sm text-grey-7"},ds={class:"q-ml-sm text-positive"},ms={class:"q-ml-sm text-negative"},fs={key:1,class:"arrangement-step"},vs={key:2,class:"court-selection-step"},gs={class:"col"},hs={class:"text-caption text-grey-6"},ys={key:0},ps={key:0},bs={class:"text-h6 q-mb-md"},ws={class:"q-mb-lg"},Ss={class:"text-subtitle2 q-mb-sm"},xs={class:"q-ml-sm text-grey-7"},Cs={class:"row items-center q-gutter-xs"},_s={key:0},ks={class:"text-subtitle2 q-mb-sm"},qs={class:"q-ml-sm text-grey-7"},Ps={key:0,class:"q-ml-sm text-orange"},Ms={key:1,class:"text-center text-grey-6 q-pa-md"},Ts={key:1},As={class:"text-subtitle2 q-mb-md"},Vs={class:"q-ml-sm text-grey-7"},Bs={key:0,class:"q-ml-sm text-orange"},zs={class:"q-gutter-y-md"};function Ls(e,l,s,t,m,u){return S(),G(Vo,{class:"doubles-queue-page"},{default:n(()=>[v("div",Zo,[v("div",$o,[v("div",en,[l[40]||(l[40]=v("div",{class:"col"},[v("h1",{class:"text-h5 text-weight-bold text-white q-mb-xs"},"  Queue Master "),v("p",{class:"text-caption text-grey-1 q-ma-none"}," Smart matchmaking for singles & doubles ")],-1)),v("div",tn,[a(W,{color:"white",icon:"settings",label:"Settings",onClick:l[0]||(l[0]=o=>t.showSettingsDialog=!0),flat:"",size:"sm"},{default:n(()=>[a(ge,null,{default:n(()=>l[39]||(l[39]=[C("Open settings and preferences")])),_:1})]),_:1})])])])]),v("div",ln,[v("div",an,[v("div",on,[a(Ae,{class:"players-card",flat:"",bordered:""},{default:n(()=>[a(ne,{class:"players-header text-white q-pa-none"},{default:n(()=>[a(Ge,{class:"q-pa-md"},{default:n(()=>[a(Ke,null,{default:n(()=>[a(Q,{name:"people",class:"q-mr-sm"}),C(" Players ("+P(t.players.length)+") ",1)]),_:1}),a(ut,{modelValue:t.sortBy,"onUpdate:modelValue":l[1]||(l[1]=o=>t.sortBy=o),options:t.sortOptions,dense:"",outlined:"",dark:"",color:"white","emit-value":"","map-options":"",style:{"min-width":"200px"}},{prepend:n(()=>[a(Q,{name:"sort"})]),_:1},8,["modelValue"]),a(W,{color:"white",onClick:l[2]||(l[2]=o=>t.showAddPlayerDialog=!0),icon:"person_add",flat:"",round:"",dense:""},{default:n(()=>[a(ge,null,{default:n(()=>l[41]||(l[41]=[C("Add new player to the system")])),_:1})]),_:1})]),_:1})]),_:1}),a(ne,{class:"q-pa-none"},{default:n(()=>[v("div",nn,[t.players.length>0?(S(),G(Re,{key:0,separator:""},{default:n(()=>[(S(!0),j(ke,null,Fe(t.sortedPlayers,o=>(S(),G(Ce,{key:o.name,class:"player-item"},{default:n(()=>[a(U,null,{default:n(()=>[a(he,{class:"text-weight-medium"},{default:n(()=>[C(P(o.name),1)]),_:2},1024),a(he,{caption:"",class:"q-pl-xs"},{default:n(()=>[a(re,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),v("span",sn,"Games: "+P(o.gamesPlayed),1),v("span",rn,"W: "+P(o.wins),1),v("span",un,"L: "+P(o.losses),1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:n(()=>[v("div",cn,[a(W,{flat:"",round:"",color:"negative",onClick:f=>t.removePlayer(o.name),icon:"delete",size:"sm"},null,8,["onClick"]),a(W,{flat:"",color:"accent",onClick:f=>t.requeuePlayer(o.name),icon:"input",size:"sm",disable:t.queue.some(f=>f.name===o.name)},null,8,["onClick","disable"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(S(),j("div",dn,[a(Q,{name:"people",size:"48px",color:"grey-4"}),l[42]||(l[42]=v("p",{class:"text-grey-6 q-mt-sm"},"No players added yet",-1)),l[43]||(l[43]=v("p",{class:"text-caption text-grey-5"},"Click the + button to add your first player",-1))]))])]),_:1})]),_:1})]),v("div",mn,[a(Ae,{class:"queue-card",flat:"",bordered:""},{default:n(()=>[a(ne,{class:"queue-header text-white q-pa-none"},{default:n(()=>[a(Ge,{class:"q-pa-md"},{default:n(()=>[a(Ke,null,{default:n(()=>[a(Q,{name:"queue",class:"q-mr-sm"}),C(" Players Queue ("+P(t.queue.length)+") ",1)]),_:1}),v("div",fn,[a(re,{label:`L1: ${t.queueStats.level1}`,color:"green-6","text-color":"white",size:"sm"},null,8,["label"]),a(re,{label:`L2: ${t.queueStats.level2}`,color:"orange-7","text-color":"white",size:"sm"},null,8,["label"]),a(re,{label:`L3: ${t.queueStats.level3}`,color:"red-8","text-color":"white",size:"sm"},null,8,["label"])])]),_:1})]),_:1}),a(ne,{class:"q-pa-none"},{default:n(()=>[v("div",vn,[t.queue.length>0?(S(),G(Re,{key:0,separator:""},{default:n(()=>[(S(!0),j(ke,null,Fe(t.queue,(o,f)=>(S(),G(Ce,{key:o.name,class:"queue-item"},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(It,{color:o.priority==="returned"?"warning":"accent","text-color":"white",size:"md"},{default:n(()=>[C(P(f+1)+" ",1),a(ge,null,{default:n(()=>[C(" Position: "+P(f+1)+" ",1),l[44]||(l[44]=v("br",null,null,-1)),C("Games: "+P(o.gamesPlayed)+" ",1),l[45]||(l[45]=v("br",null,null,-1)),C("Priority: "+P(o.priority||"normal"),1)]),_:2},1024)]),_:2},1032,["color"])]),_:2},1024),a(U,null,{default:n(()=>[a(he,{class:"text-weight-medium"},{default:n(()=>[C(P(o.name)+" ",1),o.priority==="returned"?(S(),G(re,{key:0,label:"Returned",color:"warning","text-color":"white",size:"xs",dense:"",class:"q-ml-xs"})):ve("",!0)]),_:2},1024),a(he,{caption:"",class:"q-pl-xs"},{default:n(()=>[a(re,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),v("span",gn,P(o.gamesPlayed)+" games",1),v("span",hn,P(t.getQueueTimeInfo(o)),1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:n(()=>[a(W,{flat:"",round:"",color:"negative",onClick:h=>t.removeFromQueue(o.name),icon:"remove_circle",size:"sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(S(),j("div",yn,[a(Q,{name:"queue",size:"48px",color:"grey-4"}),l[46]||(l[46]=v("p",{class:"text-grey-6 q-mt-sm"},"Queue is empty",-1)),l[47]||(l[47]=v("p",{class:"text-caption text-grey-5"},"Add players to start generating matches",-1))]))])]),_:1}),a(ne,null,{default:n(()=>[v("div",pn,[l[48]||(l[48]=v("div",{class:"text-caption text-grey-7 q-mb-xs"},"Match Type",-1)),a(ut,{modelValue:t.matchType,"onUpdate:modelValue":l[3]||(l[3]=o=>t.matchType=o),options:t.matchTypeOptions,dense:"",outlined:"","emit-value":"","map-options":"",color:"accent"},{prepend:n(()=>[a(Q,{name:t.matchType==="singles"?"person":"people"},null,8,["name"])]),_:1},8,["modelValue"])]),v("div",bn,[a(W,{class:"col",color:"accent",onClick:t.generateNewMatches,size:"md",icon:"auto_awesome",disable:!t.canGenerateMatches()},{default:n(()=>[l[49]||(l[49]=v("span",{class:"gt-xs"},"Auto Generate",-1)),l[50]||(l[50]=v("span",{class:"lt-sm"},"Auto",-1)),t.canGenerateMatches()?ve("",!0):(S(),G(ge,{key:0},{default:n(()=>[C(P(t.matchType==="singles"?"Need at least 2 players":"Need at least 4 players"),1)]),_:1}))]),_:1},8,["disable"]),a(W,{class:"col",color:"accent",onClick:t.startManualSelection,size:"md",icon:"touch_app",disable:t.queue.length<(t.matchType==="singles"?2:4),outline:""},{default:n(()=>[l[51]||(l[51]=v("span",{class:"gt-xs"},"Manual Selection",-1)),l[52]||(l[52]=v("span",{class:"lt-sm"},"Manual",-1)),t.queue.length<(t.matchType==="singles"?2:4)?(S(),G(ge,{key:0},{default:n(()=>[C(P(t.matchType==="singles"?"Need at least 2 players for manual singles selection":"Need at least 4 players for manual doubles selection"),1)]),_:1})):ve("",!0)]),_:1},8,["disable"])]),v("div",wn,P(t.getMatchGenerationHint()),1),t.queue.length>0&&t.queue.length%(t.matchType==="singles"?2:4)!==0?(S(),j("div",Sn,[a(Oe),v("div",xn,[a(Q,{name:"schedule",size:"xs",class:"q-mr-xs"}),C(" "+P(t.getWaitingPlayersInfo()),1)])])):ve("",!0)]),_:1})]),_:1})]),v("div",Cn,[a(Ae,{class:"matches-card",flat:"",bordered:""},{default:n(()=>[a(ne,{class:"matches-header text-white q-pa-none"},{default:n(()=>[a(Ge,{class:"q-pa-md"},{default:n(()=>[a(Ke,null,{default:n(()=>[a(Q,{name:"sports_tennis",class:"q-mr-sm"}),C(" Matches ("+P(t.filteredMatches.length)+") ",1)]),_:1}),a(ut,{modelValue:t.matchesFilterBy,"onUpdate:modelValue":l[4]||(l[4]=o=>t.matchesFilterBy=o),options:t.matchesFilterOptions,dense:"",outlined:"",dark:"",color:"white","emit-value":"","map-options":"",style:{"min-width":"150px"}},{prepend:n(()=>[a(Q,{name:"filter_list"})]),_:1},8,["modelValue","options"])]),_:1})]),_:1}),a(ne,{class:"q-pa-none"},{default:n(()=>[v("div",_n,[t.filteredMatches.length>0?(S(),G(Re,{key:0,separator:""},{default:n(()=>[(S(!0),j(ke,null,Fe(t.filteredMatches,(o,f)=>(S(),G(Ce,{key:o.id,class:"match-item"},{default:n(()=>[a(U,null,{default:n(()=>[v("div",kn,[v("div",qn,[a(re,{color:t.getMatchStatusColor(o.status),"text-color":"white",size:"sm",dense:""},{default:n(()=>[C(P(t.getMatchStatusLabel(o.status)),1)]),_:2},1032,["color"])]),v("div",Pn,[o.players.length===2?(S(),j("div",Mn,[v("div",Tn,[v("div",An,[v("span",Vn,P(o.players[0].name),1),a(re,{label:`L${o.players[0].level}`,color:t.getLevelColor(o.players[0].level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"])])]),v("div",Bn,[a(Q,{name:"sports_tennis",color:"grey-6",size:"sm",class:"q-mx-md"})]),v("div",zn,[v("div",Ln,[v("span",En,P(o.players[1].name),1),a(re,{label:`L${o.players[1].level}`,color:t.getLevelColor(o.players[1].level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"])])])])):(S(),j("div",In,[v("div",Dn,[(S(!0),j(ke,null,Fe(o.players.slice(0,2),h=>(S(),j("div",{key:h.name,class:"column items-center q-mb-xs"},[v("span",Fn,P(h.name),1),a(re,{label:`L${h.level}`,color:t.getLevelColor(h.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"])]))),128))]),v("div",On,[a(Q,{name:"sports_tennis",color:"grey-6",size:"sm",class:"q-mx-md"})]),v("div",Rn,[(S(!0),j(ke,null,Fe(o.players.slice(2,4),h=>(S(),j("div",{key:h.name,class:"column items-center q-mb-xs"},[v("span",Qn,P(h.name),1),a(re,{label:`L${h.level}`,color:t.getLevelColor(h.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"])]))),128))])]))]),v("div",Hn,[o.court?(S(),G(re,{key:0,color:"blue-grey-6","text-color":"white",size:"sm",dense:""},{default:n(()=>[C(" Court "+P(o.court),1)]),_:2},1024)):ve("",!0)])])]),_:2},1024),a(U,{side:""},{default:n(()=>[a(W,{color:"grey-7",icon:"more_vert",flat:"",round:"",size:"sm"},{default:n(()=>[a(Sa,null,{default:n(()=>[a(Re,{style:{"min-width":"150px"}},{default:n(()=>[o.status==="in-progress"?(S(),G(Ce,{key:0,clickable:"",onClick:h=>t.openMatchResultDialog(f)},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(Q,{name:"emoji_events"})]),_:1}),a(U,null,{default:n(()=>l[53]||(l[53]=[C("Complete Match")])),_:1})]),_:2},1032,["onClick"])):ve("",!0),a(Ce,{clickable:"",onClick:h=>t.editMatch(f)},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(Q,{name:"edit"})]),_:1}),a(U,null,{default:n(()=>l[54]||(l[54]=[C("Edit Match")])),_:1})]),_:2},1032,["onClick"]),!o.court&&t.getCourtCount()>0?(S(),G(Ce,{key:1,clickable:"",onClick:h=>t.openCourtSelectionDialog(f)},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(Q,{name:"sports_tennis"})]),_:1}),a(U,null,{default:n(()=>l[55]||(l[55]=[C("Assign Court")])),_:1})]),_:2},1032,["onClick"])):ve("",!0),o.court?(S(),G(Ce,{key:2,clickable:"",onClick:h=>t.openCourtSelectionDialog(f)},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(Q,{name:"swap_horiz"})]),_:1}),a(U,null,{default:n(()=>l[56]||(l[56]=[C("Change Court")])),_:1})]),_:2},1032,["onClick"])):ve("",!0),o.status==="waiting"&&o.court&&t.isCourtAvailable(o.court)?(S(),G(Ce,{key:3,clickable:"",onClick:h=>t.startMatch(f)},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(Q,{name:"play_arrow"})]),_:1}),a(U,null,{default:n(()=>l[57]||(l[57]=[C("Start Match")])),_:1})]),_:2},1032,["onClick"])):ve("",!0),a(Oe),a(Ce,{clickable:"",onClick:h=>t.cancelMatch(f),class:"text-negative"},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(Q,{name:"cancel"})]),_:1}),a(U,null,{default:n(()=>l[58]||(l[58]=[C("Cancel Match")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(S(),j("div",Nn,[a(Q,{name:"sports_tennis",size:"48px",color:"grey-4"}),l[59]||(l[59]=v("p",{class:"text-grey-6 q-mt-sm"},"No active matches",-1)),l[60]||(l[60]=v("p",{class:"text-caption text-grey-5"},"Generate matches from the queue to get started",-1))]))])]),_:1})]),_:1})])])]),a(ct,{modelValue:t.showAddPlayerDialog,"onUpdate:modelValue":l[11]||(l[11]=o=>t.showAddPlayerDialog=o),maximized:t.$q.screen.lt.md},{default:n(()=>[a(Ae,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(ne,{class:"players-header text-white q-pa-none"},{default:n(()=>[a(Ge,{class:"q-pa-md"},{default:n(()=>[a(Ke,null,{default:n(()=>[a(Q,{name:"person_add",class:"q-mr-sm"}),l[61]||(l[61]=C(" Add New Player "))]),_:1}),bt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[St]])]),_:1})]),_:1}),a(ne,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[v("div",Wn,[a(To,{modelValue:t.bulkImportMode,"onUpdate:modelValue":l[5]||(l[5]=o=>t.bulkImportMode=o),options:[{label:"Single Player",value:!1,icon:"person"},{label:"Bulk Import",value:!0,icon:"group_add"}],color:"grey-5","toggle-color":"accent",spread:"",class:"full-width"},null,8,["modelValue"])]),t.bulkImportMode?(S(),j("div",Un,[v("div",null,[a(jl,{modelValue:t.bulkPlayerText,"onUpdate:modelValue":[l[8]||(l[8]=o=>t.bulkPlayerText=o),t.parseBulkPlayers],label:"Player Names (one per line, or separated by commas/semicolons)",type:"textarea",outlined:"",rows:"6",placeholder:`Enter player names separated by newlines, commas, or semicolons

Example:
John Smith
Jane Doe
Bob Wilson

Or: John Smith, Jane Doe, Bob Wilson`},{prepend:n(()=>[a(Q,{name:"group_add"})]),_:1},8,["modelValue"])]),t.bulkPlayers.length>0?(S(),j("div",Kn,[a(ut,{modelValue:t.bulkDefaultLevel,"onUpdate:modelValue":[l[9]||(l[9]=o=>t.bulkDefaultLevel=o),t.updateAllBulkLevels],options:t.levelOptions,label:"Default Level for All Players",outlined:"",dense:"","emit-value":"","map-options":""},{prepend:n(()=>[a(Q,{name:"star"})]),_:1},8,["modelValue"])])):ve("",!0),t.bulkPlayers.length>0?(S(),j("div",Gn,[v("div",Jn,[a(Q,{name:"preview",class:"q-mr-xs"}),C(" Preview ("+P(t.bulkPlayers.length)+" players) ",1)]),a(Re,{bordered:"",separator:""},{default:n(()=>[(S(!0),j(ke,null,Fe(t.bulkPlayers,(o,f)=>(S(),G(Ce,{key:f,class:"q-pa-sm"},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(It,{color:t.getLevelColor(o.level),"text-color":"white",size:"sm"},{default:n(()=>[C(P(o.name.charAt(0).toUpperCase()),1)]),_:2},1032,["color"])]),_:2},1024),a(U,null,{default:n(()=>[a(he,{class:"text-weight-medium"},{default:n(()=>[C(P(o.name),1)]),_:2},1024),a(he,{caption:""},{default:n(()=>[C("Level "+P(o.level),1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:n(()=>[a(ut,{modelValue:t.bulkPlayers[f].level,"onUpdate:modelValue":h=>t.bulkPlayers[f].level=h,options:t.levelOptions,dense:"",outlined:"","emit-value":"","map-options":"",style:{"min-width":"120px"}},{prepend:n(()=>[a(Q,{name:t.getLevelIcon(o.level),color:t.getLevelColor(o.level),size:"xs"},null,8,["name","color"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):ve("",!0)])):(S(),j("div",jn,[a(jl,{modelValue:t.newPlayerName,"onUpdate:modelValue":l[6]||(l[6]=o=>t.newPlayerName=o),label:"Player Name",type:"text",onKeyup:uo(t.addNewPlayer,["enter"]),rules:[o=>!!o?.trim()||"Player name is required"],outlined:"",dense:"",autofocus:""},{prepend:n(()=>[a(Q,{name:"person"})]),_:1},8,["modelValue","rules"]),a(ut,{modelValue:t.newPlayerLevel,"onUpdate:modelValue":l[7]||(l[7]=o=>t.newPlayerLevel=o),options:t.levelOptions,label:"Player Level",rules:[o=>o!==null||"Player level is required"],outlined:"",dense:"","emit-value":"","map-options":""},{prepend:n(()=>[a(Q,{name:"star"})]),option:n(o=>[a(Ce,co(mo(o.itemProps)),{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(Q,{name:t.getLevelIcon(o.opt.value),color:t.getLevelColor(o.opt.value)},null,8,["name","color"])]),_:2},1024),a(U,null,{default:n(()=>[a(he,null,{default:n(()=>[C(P(o.opt.label),1)]),_:2},1024),a(he,{caption:""},{default:n(()=>[C(P(o.opt.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","rules"])]))]),_:1}),a(Oe),a(wt,{align:"right",class:"q-pa-md"},{default:n(()=>[a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[10]||(l[10]=o=>t.showAddPlayerDialog=!1)},{default:n(()=>[a(ge,null,{default:n(()=>l[62]||(l[62]=[C("Cancel adding new player")])),_:1})]),_:1}),t.bulkImportMode?(S(),G(W,{key:1,color:"accent",onClick:t.addBulkPlayers,label:"Import All Players",disable:t.bulkPlayers.length===0,icon:"group_add"},{default:n(()=>[a(ge,null,{default:n(()=>[C("Import all "+P(t.bulkPlayers.length)+" players to the system",1)]),_:1})]),_:1},8,["disable"])):(S(),G(W,{key:0,color:"accent",onClick:t.addNewPlayer,label:"Add Player",disable:!t.newPlayerName?.trim()||t.newPlayerLevel===null,icon:"add"},{default:n(()=>[a(ge,null,{default:n(()=>l[63]||(l[63]=[C("Add this player to the system")])),_:1})]),_:1},8,["disable"]))]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ct,{modelValue:t.showMatchResultDialog,"onUpdate:modelValue":l[17]||(l[17]=o=>t.showMatchResultDialog=o),maximized:t.$q.screen.lt.md},{default:n(()=>[a(Ae,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(ne,{class:"matches-header text-white q-pa-none"},{default:n(()=>[a(Ge,{class:"q-pa-md"},{default:n(()=>[a(Ke,null,{default:n(()=>[a(Q,{name:"emoji_events",class:"q-mr-sm"}),l[64]||(l[64]=C(" Match Result "))]),_:1}),bt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[St]])]),_:1})]),_:1}),a(ne,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[v("div",Yn,[l[67]||(l[67]=v("div",{class:"text-subtitle1 text-center q-mb-md"},"Who won this match?",-1)),t.currentMatch.length===2?(S(),j("div",Xn,[v("div",Zn,[a(Ae,{class:je([t.selectedWinner==="team1"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[12]||(l[12]=o=>t.selectedWinner="team1"),flat:"",bordered:""},{default:n(()=>[a(ne,{class:"text-center"},{default:n(()=>[a(re,{label:t.currentMatch[0].name,color:t.getLevelColor(t.currentMatch[0].level),"text-color":"white",size:"md"},null,8,["label","color"]),v("div",$n,"Level "+P(t.currentMatch[0].level),1)]),_:1})]),_:1},8,["class"])]),v("div",es,[a(Ae,{class:je([t.selectedWinner==="team2"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[13]||(l[13]=o=>t.selectedWinner="team2"),flat:"",bordered:""},{default:n(()=>[a(ne,{class:"text-center"},{default:n(()=>[a(re,{label:t.currentMatch[1].name,color:t.getLevelColor(t.currentMatch[1].level),"text-color":"white",size:"md"},null,8,["label","color"]),v("div",ts,"Level "+P(t.currentMatch[1].level),1)]),_:1})]),_:1},8,["class"])])])):(S(),j("div",ls,[v("div",as,[a(Ae,{class:je([t.selectedWinner==="team1"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[14]||(l[14]=o=>t.selectedWinner="team1"),flat:"",bordered:""},{default:n(()=>[a(ne,{class:"text-center"},{default:n(()=>[l[65]||(l[65]=v("div",{class:"text-weight-medium q-mb-sm"},"Team 1",-1)),a(re,{label:t.currentMatch[0].name,color:t.getLevelColor(t.currentMatch[0].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),a(re,{label:t.currentMatch[1].name,color:t.getLevelColor(t.currentMatch[1].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])]),v("div",os,[a(Ae,{class:je([t.selectedWinner==="team2"?"winner-selected":"","team-card cursor-pointer"]),onClick:l[15]||(l[15]=o=>t.selectedWinner="team2"),flat:"",bordered:""},{default:n(()=>[a(ne,{class:"text-center"},{default:n(()=>[l[66]||(l[66]=v("div",{class:"text-weight-medium q-mb-sm"},"Team 2",-1)),a(re,{label:t.currentMatch[2].name,color:t.getLevelColor(t.currentMatch[2].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),a(re,{label:t.currentMatch[3].name,color:t.getLevelColor(t.currentMatch[3].level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"])]),_:1})]),_:1},8,["class"])])]))])]),_:1}),a(Oe),a(wt,{align:"right",class:"q-pa-md"},{default:n(()=>[a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[16]||(l[16]=o=>t.showMatchResultDialog=!1)}),a(W,{color:"accent",onClick:t.completeMatch,label:"Complete Match",disable:t.selectedWinner===null,icon:"check"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ct,{modelValue:t.showSettingsDialog,"onUpdate:modelValue":l[24]||(l[24]=o=>t.showSettingsDialog=o),maximized:t.$q.screen.lt.md},{default:n(()=>[a(Ae,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(ne,{class:"queue-header text-white q-pa-none"},{default:n(()=>[a(Ge,{class:"q-pa-md"},{default:n(()=>[a(Ke,null,{default:n(()=>[a(Q,{name:"settings",class:"q-mr-sm"}),l[68]||(l[68]=C(" Settings "))]),_:1}),bt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[St]])]),_:1})]),_:1}),a(ne,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[v("div",ns,[v("div",null,[l[69]||(l[69]=v("div",{class:"text-subtitle2 q-mb-sm"},"Queue Management",-1)),a(ut,{modelValue:t.queueReturnMethod,"onUpdate:modelValue":l[18]||(l[18]=o=>t.queueReturnMethod=o),options:t.queueReturnOptions,label:"Default method for returning players to queue",outlined:"",dense:""},null,8,["modelValue"])]),v("div",null,[a(ql,{modelValue:t.autoSortQueue,"onUpdate:modelValue":l[19]||(l[19]=o=>t.autoSortQueue=o),label:"Automatically sort queue by fairness",color:"accent"},null,8,["modelValue"])]),a(Oe),v("div",null,[l[70]||(l[70]=v("div",{class:"text-subtitle2 q-mb-sm"},"Court Management",-1)),a(ut,{modelValue:t.availableCourts,"onUpdate:modelValue":l[20]||(l[20]=o=>t.availableCourts=o),options:t.courtOptions,label:"Number of available courts",outlined:"",dense:""},null,8,["modelValue","options"]),a(ql,{modelValue:t.autoAssignCourts,"onUpdate:modelValue":l[21]||(l[21]=o=>t.autoAssignCourts=o),label:"Automatically assign courts to matches",color:"accent",class:"q-mt-sm"},null,8,["modelValue"]),a(ql,{modelValue:t.autoAdvanceMatches,"onUpdate:modelValue":l[22]||(l[22]=o=>t.autoAdvanceMatches=o),label:"Automatically start next match when one completes",color:"accent",class:"q-mt-sm"},null,8,["modelValue"])]),a(Oe),v("div",null,[a(W,{color:"accent",onClick:t.resetGamesPlayed,icon:"refresh",label:"Reset Stats & Clear Matches",class:"full-width"})]),v("div",null,[a(W,{color:"negative",onClick:t.resetAllData,icon:"delete_forever",label:"Reset All Data",class:"full-width"})])])]),_:1}),a(Oe),a(wt,{align:"right",class:"q-pa-md"},{default:n(()=>[a(W,{flat:"",label:"Close",color:"grey",onClick:l[23]||(l[23]=o=>t.showSettingsDialog=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ct,{modelValue:t.showManualSelectionDialog,"onUpdate:modelValue":l[29]||(l[29]=o=>t.showManualSelectionDialog=o),maximized:t.$q.screen.lt.md,"transition-show":"slide-up","transition-hide":"slide-down"},{default:n(()=>[a(Ae,{class:"bg-white",style:{"max-width":"700px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(ne,{class:"players-header text-white q-pa-none"},{default:n(()=>[a(Ge,{class:"q-pa-md"},{default:n(()=>[a(Ke,null,{default:n(()=>[a(Q,{name:"touch_app",class:"q-mr-sm"}),C(" "+P(t.matchType==="singles"?"Singles":"Doubles")+" Match Selection ",1)]),_:1}),bt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[St]])]),_:1})]),_:1}),a(ne,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[v("div",ss,[t.manualSelectionStep===1?(S(),j("div",is,[v("div",rs,"Step 1: Select "+P(t.matchType==="singles"?"2":"4")+" Players",1),v("div",us," Click on players to select them for the match ("+P(t.selectedPlayers.length)+"/"+P(t.matchType==="singles"?2:4)+" selected) ",1),a(Re,{separator:"",bordered:"",class:"rounded-borders"},{default:n(()=>[(S(!0),j(ke,null,Fe(t.queue,o=>(S(),G(Ce,{key:o.name,clickable:"",onClick:f=>t.togglePlayerSelection(o),class:je([{"selected-player":t.isPlayerSelected(o)},"player-selection-item"])},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(fo,{"model-value":t.isPlayerSelected(o),color:"accent",onClick:vo(f=>t.togglePlayerSelection(o),["stop"])},null,8,["model-value","onClick"])]),_:2},1024),a(U,null,{default:n(()=>[a(he,{class:"text-weight-medium"},{default:n(()=>[C(P(o.name),1)]),_:2},1024),a(he,{caption:"",class:"q-pl-xs"},{default:n(()=>[a(re,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"sm",dense:""},null,8,["label","color"]),v("span",cs,"Games: "+P(o.gamesPlayed),1),v("span",ds,"W: "+P(o.wins),1),v("span",ms,"L: "+P(o.losses),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128))]),_:1})])):ve("",!0),t.manualSelectionStep===2?(S(),j("div",fs,[l[71]||(l[71]=v("div",{class:"text-h6 q-mb-md"},"Step 2: Arrange Teams",-1)),a(t.TeamArrangement,{team1:t.manualTeam1,"onUpdate:team1":l[25]||(l[25]=o=>t.manualTeam1=o),team2:t.manualTeam2,"onUpdate:team2":l[26]||(l[26]=o=>t.manualTeam2=o),"create-balanced-match":t.createBalancedMatch},null,8,["team1","team2"])])):ve("",!0),t.manualSelectionStep===3?(S(),j("div",vs,[l[74]||(l[74]=v("div",{class:"text-h6 q-mb-md"},"Step 3: Select Court",-1)),l[75]||(l[75]=v("div",{class:"text-caption text-grey-7 q-mb-md"}," Choose how to assign a court for this match ",-1)),a(Ae,{flat:"",bordered:"",class:je(["cursor-pointer q-mb-md primary-court-option",{selected:t.selectedCourt===null}]),onClick:t.selectAutoCourt},{default:n(()=>[a(ne,{class:"row items-center"},{default:n(()=>[a(Q,{name:"auto_awesome",color:"accent",size:"md",class:"q-mr-md"}),v("div",gs,[l[72]||(l[72]=v("div",{class:"text-weight-medium"},"Auto-Assign Court",-1)),v("div",hs,P(t.getAutoAssignDescription()),1)]),t.selectedCourt===null?(S(),G(Q,{key:0,name:"check_circle",color:"accent"})):(S(),G(Q,{key:1,name:"radio_button_unchecked",color:"grey-6"}))]),_:1})]),_:1},8,["class"]),a(W,{flat:"",color:"primary",icon:"sports_tennis",onClick:t.toggleManualSelection,class:"q-mb-md"},{default:n(()=>[a(Q,{name:"sports_tennis",class:"q-mr-xs"}),C(" "+P(t.showManualSelection?"Hide":"Choose")+" Specific Court ",1)]),_:1}),a(Ao,null,{default:n(()=>[t.showManualSelection?(S(),j("div",ys,[a(Oe,{class:"q-mb-md"}),l[73]||(l[73]=v("div",{class:"text-subtitle2 q-mb-sm"},"Select Court",-1)),a(Re,{separator:""},{default:n(()=>[(S(!0),j(ke,null,Fe(t.courtSelectionOptions,o=>(S(),G(Ce,{key:o.value,clickable:"",onClick:f=>t.selectSpecificCourt(o.value),class:je({"selected-court":t.selectedCourt===o.value})},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(It,{color:t.selectedCourt===o.value?"accent":"blue-6","text-color":"white"},{default:n(()=>[C(P(o.value),1)]),_:2},1032,["color"])]),_:2},1024),a(U,null,{default:n(()=>[a(he,null,{default:n(()=>[C("Court "+P(o.value),1)]),_:2},1024),a(he,{caption:""},{default:n(()=>[C(P(t.getCourtMatchCount(o.value))+" matches ",1)]),_:2},1024)]),_:2},1024),t.selectedCourt===o.value?(S(),G(U,{key:0,side:""},{default:n(()=>[a(Q,{name:"check_circle",color:"accent"})]),_:1})):(S(),G(U,{key:1,side:""},{default:n(()=>[a(Q,{name:"radio_button_unchecked",color:"grey-6"})]),_:1}))]),_:2},1032,["onClick","class"]))),128))]),_:1})])):ve("",!0)]),_:1})])):ve("",!0)])]),_:1}),a(Oe),a(wt,{align:"right",class:"q-pa-md"},{default:n(()=>[t.manualSelectionStep===1?(S(),j(ke,{key:0},[a(W,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),t.matchType==="doubles"?(S(),G(W,{key:0,color:"accent",label:"Next: Arrange Teams","icon-right":"arrow_forward",onClick:t.proceedToTeamArrangement,disable:t.selectedPlayers.length!==4},null,8,["disable"])):(S(),G(W,{key:1,color:"accent",label:"Next: Select Court",icon:"sports_tennis",onClick:t.proceedToCourtSelection,disable:t.selectedPlayers.length!==2},null,8,["disable"]))],64)):t.manualSelectionStep===2?(S(),j(ke,{key:1},[a(W,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[27]||(l[27]=()=>{t.manualSelectionStep=1,t.selectedForSwap=null,t.selectedForSwapTeam=null})}),a(W,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),a(W,{color:"accent",label:"Next: Select Court",icon:"sports_tennis",onClick:t.proceedToCourtSelectionFromTeams,disable:t.manualTeam1.length!==2||t.manualTeam2.length!==2},null,8,["disable"])],64)):t.manualSelectionStep===3?(S(),j(ke,{key:2},[a(W,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[28]||(l[28]=()=>{t.manualSelectionStep=t.matchType==="doubles"?2:1})}),a(W,{flat:"",label:"Cancel",color:"grey",onClick:t.cancelManualSelection}),a(W,{color:"accent",label:"Create Match",icon:"check",onClick:t.createManualMatchWithCourt})],64)):ve("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ct,{modelValue:t.showMatchEditDialog,"onUpdate:modelValue":l[34]||(l[34]=o=>t.showMatchEditDialog=o),maximized:t.$q.screen.lt.md},{default:n(()=>[a(Ae,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(ne,{class:"matches-header text-white q-pa-none"},{default:n(()=>[a(Ge,{class:"q-pa-md"},{default:n(()=>[a(Ke,null,{default:n(()=>[a(Q,{name:"edit",class:"q-mr-sm"}),l[76]||(l[76]=C(" Edit Match "))]),_:1}),bt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[St]])]),_:1})]),_:1}),a(ne,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[t.manualSelectionStep===1?(S(),j("div",ps,[v("div",bs,[l[77]||(l[77]=C(" Step 1: Manage Players ")),a(re,{label:t.currentMatchType==="singles"?"Singles Match":"Doubles Match",color:t.currentMatchType==="singles"?"blue":"green","text-color":"white",size:"sm",class:"q-ml-sm"},null,8,["label","color"])]),v("div",ws,[v("div",Ss,[C(" Current Players ("+P(t.selectedPlayers.length)+") ",1),t.selectedPlayers.length<2?(S(),G(re,{key:0,color:"orange","text-color":"white",size:"sm",class:"q-ml-sm"},{default:n(()=>l[78]||(l[78]=[C(" Need at least 2 players ")])),_:1})):ve("",!0)]),a(Re,{bordered:"",separator:""},{default:n(()=>[(S(!0),j(ke,null,Fe(t.selectedPlayers,o=>(S(),G(Ce,{key:o.name,class:"player-edit-item"},{default:n(()=>[a(U,null,{default:n(()=>[a(he,{class:"text-weight-medium"},{default:n(()=>[C(P(o.name),1)]),_:2},1024),a(he,{caption:"",class:"q-pl-xs"},{default:n(()=>[a(re,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),v("span",xs,"Games: "+P(o.gamesPlayed),1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:n(()=>[v("div",Cs,[a(W,{flat:"",round:"",color:"negative",icon:"remove_circle",size:"sm",onClick:f=>t.removePlayerFromEdit(o),disable:t.selectedPlayers.length<=1},{default:n(()=>[a(ge,null,{default:n(()=>l[79]||(l[79]=[C("Remove from match")])),_:1})]),_:2},1032,["onClick","disable"]),a(W,{flat:"",round:"",color:"accent",icon:"swap_horiz",size:"sm",onClick:f=>t.replacePlayerInEdit(o),disable:t.availableQueuePlayers.length===0},{default:n(()=>[a(ge,null,{default:n(()=>l[80]||(l[80]=[C("Replace with another player")])),_:1})]),_:2},1032,["onClick","disable"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),t.availableQueuePlayers.length>0?(S(),j("div",_s,[v("div",ks,[l[81]||(l[81]=C(" Add Players from Queue ")),a(re,{label:`${t.availableQueuePlayers.length} available`,color:"grey-5","text-color":"white",size:"sm",class:"q-ml-sm"},null,8,["label"])]),a(Re,{bordered:"",separator:""},{default:n(()=>[(S(!0),j(ke,null,Fe(t.availableQueuePlayers,o=>(S(),G(Ce,{key:o.name,clickable:"",class:"player-edit-item",onClick:f=>t.addPlayerToEdit(o),disable:t.selectedPlayers.length>=4},{default:n(()=>[a(U,null,{default:n(()=>[a(he,{class:"text-weight-medium"},{default:n(()=>[C(P(o.name),1)]),_:2},1024),a(he,{caption:"",class:"q-pl-xs"},{default:n(()=>[a(re,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),v("span",qs,"Games: "+P(o.gamesPlayed),1),o.priority==="returned"?(S(),j("span",Ps,"(Returned)")):ve("",!0)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:n(()=>[a(W,{flat:"",round:"",color:"accent",icon:"add_circle",size:"sm",disable:t.selectedPlayers.length>=4},{default:n(()=>[a(ge,null,{default:n(()=>l[82]||(l[82]=[C("Add to match")])),_:1})]),_:1},8,["disable"])]),_:1})]),_:2},1032,["onClick","disable"]))),128))]),_:1})])):(S(),j("div",Ms,[a(Q,{name:"people_outline",size:"48px",color:"grey-4"}),l[83]||(l[83]=v("p",{class:"q-mt-sm"},"No players available in queue",-1)),l[84]||(l[84]=v("p",{class:"text-caption"},"All players are already in matches",-1))]))])):ve("",!0),t.manualSelectionStep===2&&t.currentMatchType==="doubles"?(S(),j("div",Ts,[l[85]||(l[85]=v("div",{class:"text-h6 q-mb-md"},"Step 2: Arrange Teams",-1)),a(t.TeamArrangement,{team1:t.manualTeam1,"onUpdate:team1":l[30]||(l[30]=o=>t.manualTeam1=o),team2:t.manualTeam2,"onUpdate:team2":l[31]||(l[31]=o=>t.manualTeam2=o),"create-balanced-match":t.createBalancedMatch},null,8,["team1","team2"])])):ve("",!0)]),_:1}),a(Oe),a(wt,{align:"right",class:"q-pa-md"},{default:n(()=>[t.manualSelectionStep===1?(S(),j(ke,{key:0},[t.selectedPlayers.length===4?(S(),G(W,{key:0,color:"accent",label:"Next: Arrange Teams","icon-right":"arrow_forward",onClick:t.proceedToTeamArrangement},{default:n(()=>[a(ge,null,{default:n(()=>l[86]||(l[86]=[C("Proceed to team arrangement")])),_:1})]),_:1})):(S(),G(W,{key:1,color:"accent",label:"Save Changes",icon:"save",onClick:t.saveMatchEdit,disable:t.selectedPlayers.length<2},{default:n(()=>[t.selectedPlayers.length<2?(S(),G(ge,{key:0},{default:n(()=>l[87]||(l[87]=[C(" Need at least 2 players to save match ")])),_:1})):(S(),G(ge,{key:1},{default:n(()=>l[88]||(l[88]=[C(" Save match changes ")])),_:1}))]),_:1},8,["disable"]))],64)):t.manualSelectionStep===2?(S(),j(ke,{key:1},[a(W,{flat:"",label:"Back",icon:"arrow_back",color:"grey",onClick:l[32]||(l[32]=()=>{t.manualSelectionStep=1,t.selectedForSwap=null,t.selectedForSwapTeam=null})}),a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[33]||(l[33]=o=>t.showMatchEditDialog=!1)}),a(W,{color:"accent",label:"Save Changes",icon:"check",onClick:t.saveMatchEdit,disable:t.selectedPlayers.length<2||t.selectedPlayers.length>4},{default:n(()=>[t.selectedPlayers.length<2?(S(),G(ge,{key:0},{default:n(()=>l[89]||(l[89]=[C(" Need at least 2 players to save match ")])),_:1})):t.selectedPlayers.length>4?(S(),G(ge,{key:1},{default:n(()=>l[90]||(l[90]=[C(" Maximum 4 players allowed for tennis matches ")])),_:1})):(S(),G(ge,{key:2},{default:n(()=>l[91]||(l[91]=[C(" Save match changes ")])),_:1}))]),_:1},8,["disable"])],64)):ve("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ct,{modelValue:t.showReplacePlayerDialog,"onUpdate:modelValue":l[36]||(l[36]=o=>t.showReplacePlayerDialog=o),maximized:t.$q.screen.lt.md},{default:n(()=>[a(Ae,{class:"bg-white",style:{"max-width":"800px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(ne,{class:"players-header text-white q-pa-none"},{default:n(()=>[a(Ge,{class:"q-pa-md"},{default:n(()=>[a(Ke,null,{default:n(()=>[a(Q,{name:"swap_horiz",class:"q-mr-sm"}),l[92]||(l[92]=C(" Replace Player "))]),_:1}),bt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[St]])]),_:1})]),_:1}),a(ne,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[v("div",As,[l[93]||(l[93]=C(" Choose a player to replace ")),v("strong",null,P(t.playerToReplaceInEdit?.name),1),l[94]||(l[94]=C(" with: "))]),a(Re,{bordered:"",separator:""},{default:n(()=>[(S(!0),j(ke,null,Fe(t.availableQueuePlayers,o=>(S(),G(Ce,{key:o.name,clickable:"",class:"player-edit-item",onClick:f=>t.selectReplacementPlayer(o)},{default:n(()=>[a(U,null,{default:n(()=>[a(he,{class:"text-weight-medium"},{default:n(()=>[C(P(o.name),1)]),_:2},1024),a(he,{caption:"",class:"q-pl-xs"},{default:n(()=>[a(re,{label:`Level ${o.level}`,color:t.getLevelColor(o.level),"text-color":"white",size:"xs",dense:""},null,8,["label","color"]),v("span",Vs,"Games: "+P(o.gamesPlayed),1),o.priority==="returned"?(S(),j("span",Bs,"(Returned)")):ve("",!0)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:n(()=>[a(W,{flat:"",round:"",color:"accent",icon:"swap_horiz",size:"sm"},{default:n(()=>[a(ge,null,{default:n(()=>[C("Click to replace "+P(t.playerToReplaceInEdit?.name)+" with "+P(o.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),a(Oe),a(wt,{align:"right",class:"q-pa-md"},{default:n(()=>[a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[35]||(l[35]=o=>t.showReplacePlayerDialog=!1)},{default:n(()=>[a(ge,null,{default:n(()=>l[95]||(l[95]=[C("Cancel player replacement")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]),a(ct,{modelValue:t.showCourtSelectionDialog,"onUpdate:modelValue":l[38]||(l[38]=o=>t.showCourtSelectionDialog=o),maximized:t.$q.screen.lt.md},{default:n(()=>[a(Ae,{class:"bg-white",style:{"max-width":"500px",width:"95vw","max-height":"90vh",display:"flex","flex-direction":"column"}},{default:n(()=>[a(ne,{class:"queue-header text-white q-pa-none"},{default:n(()=>[a(Ge,{class:"q-pa-md"},{default:n(()=>[a(Ke,null,{default:n(()=>[a(Q,{name:"sports_tennis",class:"q-mr-sm"}),l[96]||(l[96]=C(" Assign Court "))]),_:1}),bt(a(W,{icon:"close",flat:"",round:"",dense:""},null,512),[[St]])]),_:1})]),_:1}),a(ne,{class:"q-pa-md",style:{flex:"1","overflow-y":"auto"}},{default:n(()=>[v("div",zs,[l[98]||(l[98]=v("div",{class:"text-subtitle2 q-mb-sm"},"Select Court",-1)),a(Ae,{flat:"",bordered:"",class:"cursor-pointer",onClick:t.assignCourtAutomatically},{default:n(()=>[a(ne,{class:"row items-center"},{default:n(()=>[a(Q,{name:"auto_awesome",color:"accent",size:"md",class:"q-mr-md"}),l[97]||(l[97]=v("div",{class:"col"},[v("div",{class:"text-weight-medium"},"Auto-Assign"),v("div",{class:"text-caption text-grey-6"},"Automatically assign next available court")],-1)),a(Q,{name:"arrow_forward",color:"grey-6"})]),_:1})]),_:1}),a(Oe),l[99]||(l[99]=v("div",{class:"text-subtitle2 q-mb-sm"},"Manual Selection",-1)),a(Re,{separator:""},{default:n(()=>[(S(!0),j(ke,null,Fe(t.courtSelectionOptions,o=>(S(),G(Ce,{key:o.value,clickable:"",onClick:f=>t.assignSpecificCourt(o.value)},{default:n(()=>[a(U,{avatar:""},{default:n(()=>[a(It,{color:"accent","text-color":"white"},{default:n(()=>[C(P(o.value),1)]),_:2},1024)]),_:2},1024),a(U,null,{default:n(()=>[a(he,null,{default:n(()=>[C("Court "+P(o.value),1)]),_:2},1024),a(he,{caption:""},{default:n(()=>[C(P(t.getCourtMatchCount(o.value))+" matches ",1)]),_:2},1024)]),_:2},1024),a(U,{side:""},{default:n(()=>[a(Q,{name:"check_circle",color:"green-6"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1}),a(Oe),a(wt,{align:"right",class:"q-pa-md"},{default:n(()=>[a(W,{flat:"",label:"Cancel",color:"grey",onClick:l[37]||(l[37]=o=>t.showCourtSelectionDialog=!1)},{default:n(()=>[a(ge,null,{default:n(()=>l[100]||(l[100]=[C("Cancel court assignment")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])]),_:1})}const Qs=ga(Xo,[["render",Ls],["__file","IndexPage.vue"]]);export{Qs as default};
